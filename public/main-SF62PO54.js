var rN=Object.defineProperty,iN=Object.defineProperties;var oN=Object.getOwnPropertyDescriptors;var d0=Object.getOwnPropertySymbols,sN=Object.getPrototypeOf,aN=Object.prototype.hasOwnProperty,cN=Object.prototype.propertyIsEnumerable,uN=Reflect.get;var h0=(t,e,n)=>e in t?rN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})aN.call(e,n)&&h0(t,n,e[n]);if(d0)for(var n of d0(e))cN.call(e,n)&&h0(t,n,e[n]);return t},ce=(t,e)=>iN(t,oN(e));var ui=(t,e,n)=>uN(sN(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function lN(t,e){return Object.is(t,e)}var _t=null,al=!1,cl=1,ro=Symbol("SIGNAL");function De(t){let e=_t;return _t=t,e}var Fp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lp(t){if(al)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(t);let e=_t.nextProducerIndex++;if(is(_t),e<_t.producerNode.length&&_t.producerNode[e]!==t&&tc(_t)){let n=_t.producerNode[e];ul(n,_t.producerIndexOfThis[e])}_t.producerNode[e]!==t&&(_t.producerNode[e]=t,_t.producerIndexOfThis[e]=tc(_t)?v0(t,_t,e):0),_t.producerLastReadVersion[e]=t.version}function dN(){cl++}function hN(t){if(!(tc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cl)){if(!t.producerMustRecompute(t)&&!Vp(t)){t.dirty=!1,t.lastCleanEpoch=cl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cl}}function f0(t){if(t.liveConsumerNode===void 0)return;let e=al;al=!0;try{for(let n of t.liveConsumerNode)n.dirty||fN(n)}finally{al=e}}function p0(){return _t?.consumerAllowSignalWrites!==!1}function fN(t){t.dirty=!0,f0(t),t.consumerMarkedDirty?.(t)}function m0(t){return t&&(t.nextProducerIndex=0),De(t)}function g0(t,e){if(De(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(tc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ul(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vp(t){is(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hN(n),r!==n.version))return!0}return!1}function y0(t){if(is(t),tc(t))for(let e=0;e<t.producerNode.length;e++)ul(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function v0(t,e,n){if(_0(t),is(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=v0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ul(t,e){if(_0(t),is(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ul(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];is(i),i.producerIndexOfThis[r]=e}}function tc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function is(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pN(){throw new Error}var w0=pN;function I0(){w0()}function E0(t){w0=t}var mN=null;function b0(t){let e=Object.create(Up);e.value=t;let n=()=>(Lp(e),e.value);return n[ro]=e,n}function ll(t,e){p0()||I0(),t.equal(t.value,e)||(t.value=e,gN(t))}function C0(t,e){p0()||I0(),ll(t,e(t.value))}var Up=ce(j({},Fp),{equal:lN,value:void 0});function gN(t){t.version++,dN(),f0(t),mN?.()}function ue(t){return typeof t=="function"}function os(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dl=os(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function io(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var nt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ue(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{D0(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)D0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&io(n,e)}remove(e){let{_finalizers:n}=this;n&&io(n,e),e instanceof t&&e._removeParent(this)}};nt.EMPTY=(()=>{let t=new nt;return t.closed=!0,t})();var jp=nt.EMPTY;function hl(t){return t instanceof nt||t&&"closed"in t&&ue(t.remove)&&ue(t.add)&&ue(t.unsubscribe)}function D0(t){ue(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ss={setTimeout(t,e,...n){let{delegate:r}=ss;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ss;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fl(t){ss.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function nc(){}var T0=Bp("C",void 0,void 0);function S0(t){return Bp("E",void 0,t)}function A0(t){return Bp("N",t,void 0)}function Bp(t,e,n){return{kind:t,value:e,error:n}}var oo=null;function as(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!oo;if(e&&(oo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=oo;if(oo=null,n)throw r}}else t()}function M0(t){Mn.useDeprecatedSynchronousErrorHandling&&oo&&(oo.errorThrown=!0,oo.error=t)}var so=class extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hl(e)&&e.add(this)):this.destination=_N}static create(e,n,r){return new cs(e,n,r)}next(e){this.isStopped?qp(A0(e),this):this._next(e)}error(e){this.isStopped?qp(S0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qp(T0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yN=Function.prototype.bind;function $p(t,e){return yN.call(t,e)}var Hp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pl(n)}}},cs=class extends so{constructor(e,n,r){super();let i;if(ue(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$p(e.next,o),error:e.error&&$p(e.error,o),complete:e.complete&&$p(e.complete,o)}):i=e}this.destination=new Hp(i)}};function pl(t){Mn.useDeprecatedSynchronousErrorHandling?M0(t):fl(t)}function vN(t){throw t}function qp(t,e){let{onStoppedNotification:n}=Mn;n&&ss.setTimeout(()=>n(t,e))}var _N={closed:!0,next:nc,error:vN,complete:nc};var us=typeof Symbol=="function"&&Symbol.observable||"@@observable";function an(t){return t}function ml(...t){return zp(t)}function zp(t){return t.length===0?an:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=IN(n)?n:new cs(n,r,i);return as(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=R0(r),new r((i,o)=>{let s=new cs({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[us](){return this}pipe(...n){return zp(n)(this)}toPromise(n){return n=R0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function R0(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function wN(t){return t&&ue(t.next)&&ue(t.error)&&ue(t.complete)}function IN(t){return t&&t instanceof so||wN(t)&&hl(t)}function Gp(t){return ue(t?.lift)}function we(t){return e=>{if(Gp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Wp(t,e,n,r,i)}var Wp=class extends so{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ls(){return we((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ds=class extends te{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return ls()(this)}};var x0=os(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pt=(()=>{class t extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new x0}next(n){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){as(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jp:(this.currentObservers=null,o.push(n),new nt(()=>{this.currentObservers=null,io(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return t.create=(e,n)=>new gl(e,n),t})(),gl=class extends Pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jp}};var gt=class extends Pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kp={now(){return(Kp.delegate||Date).now()},delegate:void 0};var yl=class extends nt{constructor(e,n){super()}schedule(e,n=0){return this}};var rc={setInterval(t,e,...n){let{delegate:r}=rc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=rc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hs=class extends yl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return rc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&rc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,io(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fs.now=Kp.now;var ps=class extends fs{constructor(e,n=fs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qp=new ps(hs);var vl=class extends hs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _l=class extends ps{};var Yp=new _l(vl);var cn=new te(t=>t.complete());function P0(t){return t&&ue(t.schedule)}function N0(t){return t[t.length-1]}function wl(t){return ue(N0(t))?t.pop():void 0}function li(t){return P0(N0(t))?t.pop():void 0}function Jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function k0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function O0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ao(t){return this instanceof ao?(this.v=t,this):new ao(t)}function F0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(N){return new Promise(function(R,V){o.push([v,N,R,V])>1||u(v,N)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(N){g(o[0][3],N)}}function l(v){v.value instanceof ao?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function L0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof O0=="function"?O0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Il=t=>t&&typeof t.length=="number"&&typeof t!="function";function El(t){return ue(t?.then)}function bl(t){return ue(t[us])}function Cl(t){return Symbol.asyncIterator&&ue(t?.[Symbol.asyncIterator])}function Dl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tl=EN();function Sl(t){return ue(t?.[Tl])}function Al(t){return F0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ao(n.read());if(i)return yield ao(void 0);yield yield ao(r)}}finally{n.releaseLock()}})}function Ml(t){return ue(t?.getReader)}function it(t){if(t instanceof te)return t;if(t!=null){if(bl(t))return bN(t);if(Il(t))return CN(t);if(El(t))return DN(t);if(Cl(t))return V0(t);if(Sl(t))return TN(t);if(Ml(t))return SN(t)}throw Dl(t)}function bN(t){return new te(e=>{let n=t[us]();if(ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CN(t){return new te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DN(t){return new te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fl)})}function TN(t){return new te(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function V0(t){return new te(e=>{AN(t,e).catch(n=>e.error(n))})}function SN(t){return V0(Al(t))}function AN(t,e){var n,r,i,o;return k0(this,void 0,void 0,function*(){try{for(n=L0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Yt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function di(t,e=0){return we((n,r)=>{n.subscribe(ye(r,i=>Yt(r,t,()=>r.next(i),e),()=>Yt(r,t,()=>r.complete(),e),i=>Yt(r,t,()=>r.error(i),e)))})}function hi(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function U0(t,e){return it(t).pipe(hi(e),di(e))}function j0(t,e){return it(t).pipe(hi(e),di(e))}function B0(t,e){return new te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $0(t,e){return new te(n=>{let r;return Yt(n,e,()=>{r=t[Tl](),Yt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ue(r?.return)&&r.return()})}function Rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new te(n=>{Yt(n,e,()=>{let r=t[Symbol.asyncIterator]();Yt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function q0(t,e){return Rl(Al(t),e)}function H0(t,e){if(t!=null){if(bl(t))return U0(t,e);if(Il(t))return B0(t,e);if(El(t))return j0(t,e);if(Cl(t))return Rl(t,e);if(Sl(t))return $0(t,e);if(Ml(t))return q0(t,e)}throw Dl(t)}function ke(t,e){return e?H0(t,e):it(t)}function Z(...t){let e=li(t);return ke(t,e)}function ms(t,e){let n=ue(t)?t:()=>t,r=i=>i.error(n());return new te(e?i=>e.schedule(r,0,i):r)}function Xp(t){return!!t&&(t instanceof te||ue(t.lift)&&ue(t.subscribe))}var Dr=os(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Q(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:MN}=Array;function RN(t,e){return MN(e)?t(...e):t(e)}function xl(t){return Q(e=>RN(t,e))}var{isArray:xN}=Array,{getPrototypeOf:PN,prototype:NN,keys:ON}=Object;function Pl(t){if(t.length===1){let e=t[0];if(xN(e))return{args:e,keys:null};if(kN(e)){let n=ON(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kN(t){return t&&typeof t=="object"&&PN(t)===NN}function Nl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ic(...t){let e=li(t),n=wl(t),{args:r,keys:i}=Pl(t);if(r.length===0)return ke([],e);let o=new te(FN(r,e,i?s=>Nl(i,s):an));return n?o.pipe(xl(n)):o}function FN(t,e,n=an){return r=>{z0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)z0(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function z0(t,e,n){t?Yt(n,t,e):e()}function G0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?A(N):u.push(N),A=N=>{o&&e.next(N),l++;let R=!1;it(n(N,h++)).subscribe(ye(e,V=>{i?.(V),o?v(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Yt(e,s,()=>A(V)):A(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(ye(e,v,()=>{p=!0,g()})),()=>{a?.()}}function ot(t,e,n=1/0){return ue(e)?ot((r,i)=>Q((o,s)=>e(r,o,i,s))(it(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>G0(r,i,t,n)))}function fi(t=1/0){return ot(an,t)}function W0(){return fi(1)}function gs(...t){return W0()(ke(t,li(t)))}function Ol(t){return new te(e=>{it(t()).subscribe(e)})}function ys(...t){let e=wl(t),{args:n,keys:r}=Pl(t),i=new te(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;it(n[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Nl(r,a):a),o.complete())}))}});return e?i.pipe(xl(e)):i}function qt(t,e){return we((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pi(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=it(t(s,pi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function K0(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Tr(t,e){return ue(e)?ot(t,e,1):ot(t,1)}function mi(t){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ht(t){return t<=0?()=>cn:we((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zp(t){return Q(()=>t)}function kl(t=LN){return we((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LN(){return new Dr}function co(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):an,Ht(1),n?mi(e):kl(()=>new Dr))}function vs(t){return t<=0?()=>cn:we((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function em(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):an,vs(1),n?mi(e):kl(()=>new Dr))}function Fl(t,e){return we(K0(t,e,arguments.length>=2,!0))}function Ll(...t){let e=li(t);return we((n,r)=>{(e?gs(t,n,e):gs(t,n)).subscribe(r)})}function st(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;it(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tm(t){return we((e,n)=>{it(t).subscribe(ye(n,()=>n.complete(),nc)),!n.closed&&e.subscribe(n)})}function at(t,e,n){let r=ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):an}var Ob="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,n){super(gd(e,n)),this.code=e}};function gd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var kb=Symbol("InputSignalNode#UNSET"),VN=ce(j({},Up),{transformFn:void 0,applyValueToInputSignal(t,e){ll(t,e)}});function Fb(t,e){let n=Object.create(VN);n.value=t,n.transformFn=e?.transform;function r(){if(Lp(n),n.value===kb)throw new Y(-950,!1);return n.value}return r[ro]=n,r}function gc(t){return{toString:t}.toString()}var Vl="__parameters__";function UN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Lb(t,e,n){return gc(()=>{let r=UN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Vl)?u[Vl]:Object.defineProperty(u,Vl,{value:[]})[Vl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var un=globalThis;function Ve(t){for(let e in t)if(t[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function jN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Q0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var BN=Ve({__forward_ref__:Ve});function On(t){return t.__forward_ref__=On,t.toString=function(){return Gt(this())},t}function zt(t){return Vb(t)?t():t}function Vb(t){return typeof t=="function"&&t.hasOwnProperty(BN)&&t.__forward_ref__===On}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yd(t){return Y0(t,jb)||Y0(t,Bb)}function Ub(t){return yd(t)!==null}function Y0(t,e){return t.hasOwnProperty(e)?t[e]:null}function $N(t){let e=t&&(t[jb]||t[Bb]);return e||null}function J0(t){return t&&(t.hasOwnProperty(X0)||t.hasOwnProperty(qN))?t[X0]:null}var jb=Ve({\u0275prov:Ve}),X0=Ve({\u0275inj:Ve}),Bb=Ve({ngInjectableDef:Ve}),qN=Ve({ngInjectorDef:Ve}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $b(t){return t&&!!t.\u0275providers}var HN=Ve({\u0275cmp:Ve}),zN=Ve({\u0275dir:Ve}),GN=Ve({\u0275pipe:Ve}),WN=Ve({\u0275mod:Ve}),Ql=Ve({\u0275fac:Ve}),oc=Ve({__NG_ELEMENT_ID__:Ve}),Z0=Ve({__NG_ENV_ID__:Ve});function Ds(t){return typeof t=="string"?t:t==null?"":String(t)}function KN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ds(t)}function QN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,t)}function dg(t,e){throw new Y(-201,!1)}var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{}),vm;function qb(){return vm}function Jt(t){let e=vm;return vm=t,e}function Hb(t,e,n){let r=yd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(e!==void 0)return e;dg(t,"Injector")}var YN={},sc=YN,_m="__NG_DI_FLAG__",Yl="ngTempTokenPath",JN="ngTokenPath",XN=/\n/gm,ZN="\u0275",eb="__source",bs;function eO(){return bs}function gi(t){let e=bs;return bs=t,e}function tO(t,e=ge.Default){if(bs===void 0)throw new Y(-203,!1);return bs===null?Hb(t,void 0,e):bs.get(t,e&ge.Optional?null:void 0,e)}function z(t,e=ge.Default){return(qb()||tO)(zt(t),e)}function k(t,e=ge.Default){return z(t,vd(e))}function vd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wm(t){let e=[];for(let n=0;n<t.length;n++){let r=zt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let a=r[s],u=nO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function zb(t,e){return t[_m]=e,t.prototype[_m]=e,t}function nO(t){return t[_m]}function rO(t,e,n,r){let i=t[Yl];throw e[eb]&&i.unshift(e[eb]),t.message=iO(`
`+t.message,i,n,r),t[JN]=i,t[Yl]=null,t}function iO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZN?t.slice(2):t;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XN,`
  `)}`}var rt=zb(Lb("Optional"),8);var hg=zb(Lb("SkipSelf"),4);function fo(t,e){let n=t.hasOwnProperty(Ql);return n?t[Ql]:null}function oO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function sO(t){return t.flat(Number.POSITIVE_INFINITY)}function fg(t,e){t.forEach(n=>Array.isArray(n)?fg(n,e):e(n))}function Gb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function cO(t,e,n){let r=yc(t,e);return r>=0?t[r|1]=n:(r=~r,aO(t,r,e,n)),r}function nm(t,e){let n=yc(t,e);if(n>=0)return t[n|1]}function yc(t,e){return uO(t,e,1)}function uO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ts={},vn=[],Ss=new W(""),Wb=new W("",-1),Kb=new W(""),Xl=class{get(e,n=sc){if(n===sc){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return n}},Qb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qb||{}),Qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qn||{}),Qe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Qe||{});function lO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Im(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Yb(t){return t===3||t===4||t===6}function dO(t){return t.charCodeAt(0)===64}function ac(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?tb(t,n,i,null,e[++r]):tb(t,n,i,null,null))}}return t}function tb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Jb="ng-template";function hO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function pg(t){return t.type===4&&t.value!==Jb}function fO(t,e,n){let r=t.type===4&&!n?Jb:t.value;return e===r}function pO(t,e,n){let r=4,i=t.attrs,o=i!==null?yO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Rn(r)&&!Rn(u))return!1;if(s&&Rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fO(t,u,n)||u===""&&e.length===1){if(Rn(r))return!1;s=!0}}else if(r&8){if(i===null||!hO(t,i,u,n)){if(Rn(r))return!1;s=!0}}else{let l=e[++a],h=mO(u,i,pg(t),n);if(h===-1){if(Rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Rn(r))return!1;s=!0}}}}return Rn(r)||s}function Rn(t){return(t&1)===0}function mO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vO(e,t)}function gO(t,e,n=!1){for(let r=0;r<e.length;r++)if(pO(t,e[r],n))return!0;return!1}function yO(t){for(let e=0;e<t.length;e++){let n=t[e];if(Yb(n))return e}return t.length}function vO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nb(t,e){return t?":not("+e.trim()+")":e}function _O(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rn(s)&&(e+=nb(o,i),i=""),r=s,o=o||!Rn(r);n++}return i!==""&&(e+=nb(o,i)),e}function wO(t){return t.map(_O).join(",")}function IO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Rn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ee(t){return gc(()=>{let e=nC(t),n=ce(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||vn,_:null,schemas:t.schemas||null,tView:null,id:""});rC(n);let r=t.dependencies;return n.directiveDefs=ib(r,!1),n.pipeDefs=ib(r,!0),n.id=CO(n),n})}function EO(t){return vi(t)||Xb(t)}function bO(t){return t!==null}function er(t){return gc(()=>({type:t.type,bootstrap:t.bootstrap||vn,declarations:t.declarations||vn,imports:t.imports||vn,exports:t.exports||vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rb(t,e){if(t==null)return Ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Qe.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Qe.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qe(t){return gc(()=>{let e=nC(t);return rC(e),e})}function Os(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vi(t){return t[HN]||null}function Xb(t){return t[zN]||null}function Zb(t){return t[GN]||null}function eC(t){let e=vi(t)||Xb(t)||Zb(t);return e!==null?e.standalone:!1}function tC(t,e){let n=t[WN]||null;if(!n&&e===!0)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return n}function nC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rb(t.inputs,e),outputs:rb(t.outputs),debugInfo:null}}function rC(t){t.features?.forEach(e=>e(t))}function ib(t,e){if(!t)return null;let n=e?Zb:EO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bO)}function CO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xt(t){return{\u0275providers:t}}function DO(...t){return{\u0275providers:iC(!0,t),\u0275fromNgModule:!0}}function iC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fg(e,s=>{let a=s;Em(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oC(i,o),n}function oC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mg(i,o=>{e(o,r)})}}function Em(t,e,n,r){if(t=zt(t),!t)return!1;let i=null,o=J0(t),s=!o&&vi(t);if(!o&&!s){let u=t.ngModule;if(o=J0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Em(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fg(o.imports,h=>{Em(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&oC(l,e)}if(!a){let l=fo(i)||(()=>new i);e({provide:i,useFactory:l,deps:vn},i),e({provide:Kb,useValue:i,multi:!0},i),e({provide:Ss,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;mg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function mg(t,e){for(let n of t)$b(n)&&(n=n.\u0275providers),Array.isArray(n)?mg(n,e):e(n)}var TO=Ve({provide:String,useValue:Ve});function sC(t){return t!==null&&typeof t=="object"&&TO in t}function SO(t){return!!(t&&t.useExisting)}function AO(t){return!!(t&&t.useFactory)}function As(t){return typeof t=="function"}function MO(t){return!!t.useClass}var _d=new W(""),ql={},RO={},rm;function gg(){return rm===void 0&&(rm=new Xl),rm}var Nt=class{},cc=class extends Nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cm(e,s=>this.processProvider(s)),this.records.set(Wb,_s(void 0,this)),i.has("environment")&&this.records.set(Nt,_s(void 0,this));let o=this.records.get(_d);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kb,vn,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=gi(this),r=Jt(void 0),i;try{return e()}finally{gi(n),Jt(r)}}get(e,n=sc,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Z0))return e[Z0](this);r=vd(r);let i,o=gi(this),s=Jt(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=kO(e)&&yd(e);l&&this.injectableDefInScope(l)?u=_s(bm(e),ql):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ge.Self?gg():this.parent;return n=r&ge.Optional&&n===sc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yl]=a[Yl]||[]).unshift(Gt(e)),o)throw a;return rO(a,e,"R3InjectorError",this.source)}else throw a}finally{Jt(s),gi(o)}}resolveInjectorInitializers(){let e=De(null),n=gi(this),r=Jt(void 0),i;try{let o=this.get(Ss,vn,ge.Self);for(let s of o)s()}finally{gi(n),Jt(r),De(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=zt(e);let n=As(e)?e:zt(e&&e.provide),r=PO(e);if(!As(e)&&e.multi===!0){let i=this.records.get(n);i||(i=_s(void 0,ql,!0),i.factory=()=>wm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=De(null);try{return n.value===ql&&(n.value=RO,n.value=n.factory()),typeof n.value=="object"&&n.value&&OO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=zt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bm(t){let e=yd(t),n=e!==null?e.factory:fo(t);if(n!==null)return n;if(t instanceof W)throw new Y(204,!1);if(t instanceof Function)return xO(t);throw new Y(204,!1)}function xO(t){if(t.length>0)throw new Y(204,!1);let n=$N(t);return n!==null?()=>n.factory(t):()=>new t}function PO(t){if(sC(t))return _s(void 0,t.useValue);{let e=aC(t);return _s(e,ql)}}function aC(t,e,n){let r;if(As(t)){let i=zt(t);return fo(i)||bm(i)}else if(sC(t))r=()=>zt(t.useValue);else if(AO(t))r=()=>t.useFactory(...wm(t.deps||[]));else if(SO(t))r=()=>z(zt(t.useExisting));else{let i=zt(t&&(t.useClass||t.provide));if(NO(t))r=()=>new i(...wm(t.deps));else return fo(i)||bm(i)}return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NO(t){return!!t.deps}function OO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kO(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Cm(t,e){for(let n of t)Array.isArray(n)?Cm(n,e):n&&$b(n)?Cm(n.\u0275providers,e):e(n)}function kn(t,e){t instanceof cc&&t.assertNotDestroyed();let n,r=gi(t),i=Jt(void 0);try{return e()}finally{gi(r),Jt(i)}}function cC(){return qb()!==void 0||eO()!=null}function FO(t){if(!cC())throw new Y(-203,!1)}function LO(t){return typeof t=="function"}var Rr=0,pe=1,re=2,Ct=3,xn=4,Fn=5,Zl=6,uc=7,Pn=8,Ms=9,Nn=10,yt=11,lc=12,ob=13,ks=14,Yn=15,vc=16,ws=17,Sr=18,wd=19,uC=20,yi=21,im=22,po=23,dn=25,lC=1;var mo=7,ed=8,Rs=9,ln=10,yg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yg||{});function lo(t){return Array.isArray(t)&&typeof t[lC]=="object"}function xr(t){return Array.isArray(t)&&t[lC]===!0}function vg(t){return(t.flags&4)!==0}function Id(t){return t.componentOffset>-1}function Ed(t){return(t.flags&1)===1}function _i(t){return!!t.template}function VO(t){return(t[re]&512)!==0}var Dm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function tr(){return hC}function hC(t){return t.type.prototype.ngOnChanges&&(t.setInput=jO),UO}tr.ngInherit=!0;function UO(){let t=pC(this),e=t?.current;if(e){let n=t.previous;if(n===Ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jO(t,e,n,r,i){let o=this.declaredInputs[r],s=pC(t)||BO(t,{previous:Ts,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dm(l&&l.currentValue,n,u===Ts),dC(t,e,i,n)}var fC="__ngSimpleChanges__";function pC(t){return t[fC]||null}function BO(t,e){return t[fC]=e}var sb=null;var Wn=function(t,e,n){sb?.(t,e,n)},$O="svg",qO="math",HO=!1;function zO(){return HO}function Jn(t){for(;Array.isArray(t);)t=t[Rr];return t}function mC(t,e){return Jn(e[t])}function _n(t,e){return Jn(e[t.index])}function gC(t,e){return t.data[e]}function _g(t,e){return t[e]}function Ei(t,e){let n=e[t];return lo(n)?n:n[Rr]}function GO(t){return(t[re]&4)===4}function wg(t){return(t[re]&128)===128}function WO(t){return xr(t[Ct])}function xs(t,e){return e==null?null:t[e]}function yC(t){t[ws]=0}function KO(t){t[re]&1024||(t[re]|=1024,wg(t)&&dc(t))}function QO(t,e){for(;t>0;)e=e[ks],t--;return e}function Ig(t){return!!(t[re]&9216||t[po]?.dirty)}function Tm(t){t[Nn].changeDetectionScheduler?.notify(1),Ig(t)?dc(t):t[re]&64&&(zO()?(t[re]|=1024,dc(t)):t[Nn].changeDetectionScheduler?.notify())}function dc(t){t[Nn].changeDetectionScheduler?.notify();let e=hc(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!wg(e)));)e=hc(e)}function vC(t,e){if((t[re]&256)===256)throw new Y(911,!1);t[yi]===null&&(t[yi]=[]),t[yi].push(e)}function YO(t,e){if(t[yi]===null)return;let n=t[yi].indexOf(e);n!==-1&&t[yi].splice(n,1)}function hc(t){let e=t[Ct];return xr(e)?e[Ct]:e}var me={lFrame:TC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JO(){return me.lFrame.elementDepthCount}function XO(){me.lFrame.elementDepthCount++}function ZO(){me.lFrame.elementDepthCount--}function _C(){return me.bindingsEnabled}function e1(){return me.skipHydrationRootTNode!==null}function t1(t){return me.skipHydrationRootTNode===t}function n1(){me.skipHydrationRootTNode=null}function Te(){return me.lFrame.lView}function Dt(){return me.lFrame.tView}function He(t){return me.lFrame.contextLView=t,t[Pn]}function ze(t){return me.lFrame.contextLView=null,t}function Wt(){let t=wC();for(;t!==null&&t.type===64;)t=t.parent;return t}function wC(){return me.lFrame.currentTNode}function r1(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bo(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function Eg(){return me.lFrame.isParent}function IC(){me.lFrame.isParent=!1}function i1(){return me.lFrame.contextLView}function bg(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function o1(){return me.lFrame.bindingIndex}function s1(t){return me.lFrame.bindingIndex=t}function Cg(){return me.lFrame.bindingIndex++}function EC(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function a1(){return me.lFrame.inI18n}function c1(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sm(e)}function u1(){return me.lFrame.currentDirectiveIndex}function Sm(t){me.lFrame.currentDirectiveIndex=t}function l1(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bC(){return me.lFrame.currentQueryIndex}function Dg(t){me.lFrame.currentQueryIndex=t}function d1(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[Fn]:null}function CC(t,e,n){if(n&ge.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=d1(o),i===null||(o=o[ks],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=DC();return r.currentTNode=e,r.lView=t,!0}function Tg(t){let e=DC(),n=t[pe];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DC(){let t=me.lFrame,e=t===null?null:t.child;return e===null?TC(t):e}function TC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function SC(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AC=SC;function Sg(){let t=SC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function h1(t){return(me.lFrame.contextLView=QO(t,me.lFrame.contextLView))[Pn]}function Co(){return me.lFrame.selectedIndex}function go(t){me.lFrame.selectedIndex=t}function Ag(){let t=me.lFrame;return gC(t.tView,t.selectedIndex)}function f1(){return me.lFrame.currentNamespace}var MC=!0;function bd(){return MC}function Cd(t){MC=t}function p1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=hC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Dd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Hl(t,e,n){RC(t,e,3,n)}function zl(t,e,n,r){(t[re]&3)===n&&RC(t,e,n,r)}function om(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function RC(t,e,n,r){let i=r!==void 0?t[ws]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ws]+=65536),(a<o||o==-1)&&(m1(t,n,e,u),t[ws]=(t[ws]&4294901760)+u+2),u++}function ab(t,e){Wn(4,t,e);let n=De(null);try{e.call(t)}finally{De(n),Wn(5,t,e)}}function m1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[ws]>>16&&(t[re]&3)===e&&(t[re]+=16384,ab(a,o)):ab(a,o)}var Cs=-1,yo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function g1(t){return t instanceof yo}function y1(t){return(t.flags&8)!==0}function v1(t){return(t.flags&16)!==0}function xC(t){return t!==Cs}function td(t){return t&32767}function _1(t){return t>>16}function nd(t,e){let n=_1(t),r=e;for(;n>0;)r=r[ks],n--;return r}var Am=!0;function rd(t){let e=Am;return Am=t,e}var w1=256,PC=w1-1,NC=5,I1=0,Kn={};function E1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(oc)&&(r=n[oc]),r==null&&(r=n[oc]=I1++);let i=r&PC,o=1<<i;e.data[t+(i>>NC)]|=o}function id(t,e){let n=OC(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,sm(r.data,t),sm(e,null),sm(r.blueprint,null));let i=Mg(t,e),o=t.injectorIndex;if(xC(i)){let s=td(i),a=nd(i,e),u=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=UC(i),r===null)return Cs;if(n++,i=i[ks],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cs}function Mm(t,e,n){E1(t,e,n)}function b1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Yb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function kC(t,e,n){if(n&ge.Optional||t!==void 0)return t;dg(e,"NodeInjector")}function FC(t,e,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=t[Ms],o=Jt(void 0);try{return i?i.get(e,r,n&ge.Optional):Hb(e,r,n&ge.Optional)}finally{Jt(o)}}return kC(r,e,n)}function LC(t,e,n,r=ge.Default,i){if(t!==null){if(e[re]&2048&&!(r&ge.Self)){let s=S1(t,e,n,r,Kn);if(s!==Kn)return s}let o=VC(t,e,n,r,Kn);if(o!==Kn)return o}return FC(e,n,r,i)}function VC(t,e,n,r,i){let o=D1(n);if(typeof o=="function"){if(!CC(e,t,r))return r&ge.Host?kC(i,n,r):FC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))dg(n);else return s}finally{AC()}}else if(typeof o=="number"){let s=null,a=OC(t,e),u=Cs,l=r&ge.Host?e[Yn][Fn]:null;for((a===-1||r&ge.SkipSelf)&&(u=a===-1?Mg(t,e):e[a+8],u===Cs||!ub(r,!1)?a=-1:(s=e[pe],a=td(u),e=nd(u,e)));a!==-1;){let h=e[pe];if(cb(o,a,h.data)){let p=C1(a,e,n,s,r,l);if(p!==Kn)return p}u=e[a+8],u!==Cs&&ub(r,e[pe].data[a+8]===l)&&cb(o,a,e)?(s=h,a=td(u),e=nd(u,e)):a=-1}}return i}function C1(t,e,n,r,i,o){let s=e[pe],a=s.data[t+8],u=r==null?Id(a)&&Am:r!=s&&(a.type&3)!==0,l=i&ge.Host&&o===a,h=Gl(a,s,n,u,l);return h!==null?vo(e,s,h,a):Kn}function Gl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&_i(v)&&v.type===n)return u}return null}function vo(t,e,n,r){let i=t[n],o=e.data;if(g1(i)){let s=i;s.resolving&&QN(KN(o[n]));let a=rd(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Jt(s.injectImpl):null,h=CC(t,r,ge.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&p1(n,o[n],e)}finally{l!==null&&Jt(l),rd(a),s.resolving=!1,AC()}}return i}function D1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(oc)?t[oc]:void 0;return typeof e=="number"?e>=0?e&PC:T1:e}function cb(t,e,n){let r=1<<t;return!!(n[e+(t>>NC)]&r)}function ub(t,e){return!(t&ge.Self)&&!(t&ge.Host&&e)}var ho=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LC(this._tNode,this._lView,e,vd(r),n)}};function T1(){return new ho(Wt(),Te())}function Pr(t){return gc(()=>{let e=t.prototype.constructor,n=e[Ql]||Rm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ql]||Rm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rm(t){return Vb(t)?()=>{let e=Rm(zt(t));return e&&e()}:fo(t)}function S1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=VC(o,s,n,r|ge.Self,Kn);if(a!==Kn)return a;let u=o.parent;if(!u){let l=s[uC];if(l){let h=l.get(n,Kn,r);if(h!==Kn)return h}u=UC(s),s=s[ks]}o=u}return i}function UC(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[Fn]:null}function Rg(t){return b1(Wt(),t)}function lb(t,e=null,n=null,r){let i=jC(t,e,n,r);return i.resolveInjectorInitializers(),i}function jC(t,e=null,n=null,r,i=new Set){let o=[n||vn,DO(t)];return r=r||(typeof t=="object"?void 0:Gt(t)),new cc(o,e||gg(),r||null,i)}var Tt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=sc}static{this.NULL=new Xl}static create(n,r){if(Array.isArray(n))return lb({name:""},r,n,"");{let i=n.name??"";return lb({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=q({token:t,providedIn:"any",factory:()=>z(Wb)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var A1="ngOriginalError";function am(t){return t[A1]}var Xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&am(e);for(;n&&am(n);)n=am(n);return n||null}},BC=new W("",{providedIn:"root",factory:()=>k(Xn).handleError.bind(void 0)}),xg=(()=>{class t{static{this.__NG_ELEMENT_ID__=M1}static{this.__NG_ENV_ID__=n=>n}}return t})(),xm=class extends xg{constructor(e){super(),this._lView=e}onDestroy(e){return vC(this._lView,e),()=>YO(this._lView,e)}};function M1(){return new xm(Te())}function db(t,e){return Fb(t,e)}function R1(t){return Fb(kb,t)}var _c=(db.required=R1,db);function x1(){return Fs(Wt(),Te())}function Fs(t,e){return new Zt(_n(t,e))}var Zt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=x1}}return t})();function P1(t){return t instanceof Zt?t.nativeElement:t}var Pm=class extends Pt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,cC()&&(this.destroyRef=k(xg,{optional:!0})??void 0)}emit(e){let n=De(null);try{super.next(e)}finally{De(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=cm(o),i&&(i=cm(i)),s&&(s=cm(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof nt&&e.add(a),a}};function cm(t){return e=>{setTimeout(t,void 0,e)}}var ct=Pm;function N1(){return this._results[Symbol.iterator]()}var Nm=class t{get changes(){return this._changes??=new ct}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=N1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sO(e);(this._changesDetected=!oO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function $C(t){return(t.flags&128)===128}var qC=new Map,O1=0;function k1(){return O1++}function F1(t){qC.set(t[wd],t)}function L1(t){qC.delete(t[wd])}var hb="__ngContext__";function wi(t,e){lo(e)?(t[hb]=e[wd],F1(e)):t[hb]=e}function HC(t){return GC(t[lc])}function zC(t){return GC(t[xn])}function GC(t){for(;t!==null&&!xr(t);)t=t[xn];return t}var Om;function WC(t){Om=t}function V1(){if(Om!==void 0)return Om;if(typeof document<"u")return document;throw new Y(210,!1)}var Pg=new W("",{providedIn:"root",factory:()=>U1}),U1="ng",Ng=new W(""),wn=new W("",{providedIn:"platform",factory:()=>"unknown"});var Og=new W("",{providedIn:"root",factory:()=>V1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var j1="h",B1="b";var $1=()=>null;function kg(t,e,n=!1){return $1(t,e,n)}var KC=!1,q1=new W("",{providedIn:"root",factory:()=>KC});var Ul;function H1(){if(Ul===void 0&&(Ul=null,un.trustedTypes))try{Ul=un.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ul}function z1(t){return H1()?.createScriptURL(t)||t}var jl;function G1(){if(jl===void 0&&(jl=null,un.trustedTypes))try{jl=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jl}function fb(t){return G1()?.createScriptURL(t)||t}var od=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ob})`}};function wc(t){return t instanceof od?t.changingThisBreaksApplicationSecurity:t}function Fg(t,e){let n=W1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ob})`)}return n===e}function W1(t){return t instanceof od&&t.getTypeName()||null}var K1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QC(t){return t=String(t),t.match(K1)?t:"unsafe:"+t}var Td=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Td||{});function bi(t){let e=XC();return e?e.sanitize(Td.URL,t)||"":Fg(t,"URL")?wc(t):QC(Ds(t))}function Q1(t){let e=XC();if(e)return fb(e.sanitize(Td.RESOURCE_URL,t)||"");if(Fg(t,"ResourceURL"))return fb(wc(t));throw new Y(904,!1)}function YC(t){return z1(t[0])}function Y1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Q1:bi}function JC(t,e,n){return Y1(e,n)(t)}function XC(){let t=Te();return t&&t[Nn].sanitizer}var J1=/^>|^->|<!--|-->|--!>|<!-$/g,X1=/(<|>)/g,Z1="\u200B$1\u200B";function ek(t){return t.replace(J1,e=>e.replace(X1,Z1))}function ZC(t){return t instanceof Function?t():t}function tk(t){return(t??k(Tt)).get(wn)==="browser"}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ar||{}),nk;function Lg(t,e){return nk(t,e)}function Is(t,e,n,r,i){if(r!=null){let o,s=!1;xr(r)?o=r:lo(r)&&(s=!0,r=r[Rr]);let a=Jn(r);t===0&&n!==null?i==null?iD(e,n,a):sd(e,n,a,i||null,!0):t===1&&n!==null?sd(e,n,a,i||null,!0):t===2?wk(e,a,s):t===3&&e.destroyNode(a),o!=null&&Ek(e,t,o,n,i)}}function rk(t,e){return t.createText(e)}function ik(t,e,n){t.setValue(e,n)}function ok(t,e){return t.createComment(ek(e))}function eD(t,e,n){return t.createElement(e,n)}function sk(t,e){tD(t,e),e[Rr]=null,e[Fn]=null}function ak(t,e,n,r,i,o){r[Rr]=i,r[Fn]=e,Ad(t,r,n,1,i,o)}function tD(t,e){e[Nn].changeDetectionScheduler?.notify(1),Ad(t,e,e[yt],2,null,null)}function ck(t){let e=t[lc];if(!e)return um(t[pe],t);for(;e;){let n=null;if(lo(e))n=e[lc];else{let r=e[ln];r&&(n=r)}if(!n){for(;e&&!e[xn]&&e!==t;)lo(e)&&um(e[pe],e),e=e[Ct];e===null&&(e=t),lo(e)&&um(e[pe],e),n=e&&e[xn]}e=n}}function uk(t,e,n,r){let i=ln+r,o=n.length;r>0&&(n[i-1][xn]=e),r<o-ln?(e[xn]=n[i],Gb(n,ln+r,e)):(n.push(e),e[xn]=null),e[Ct]=n;let s=e[vc];s!==null&&n!==s&&lk(s,e);let a=e[Sr];a!==null&&a.insertView(t),Tm(e),e[re]|=128}function lk(t,e){let n=t[Rs],i=e[Ct][Ct][Yn];e[Yn]!==i&&(t[re]|=yg.HasTransplantedViews),n===null?t[Rs]=[e]:n.push(e)}function nD(t,e){let n=t[Rs],r=n.indexOf(e);n.splice(r,1)}function km(t,e){if(t.length<=ln)return;let n=ln+e,r=t[n];if(r){let i=r[vc];i!==null&&i!==t&&nD(i,r),e>0&&(t[n-1][xn]=r[xn]);let o=Jl(t,ln+e);sk(r[pe],r);let s=o[Sr];s!==null&&s.detachView(o[pe]),r[Ct]=null,r[xn]=null,r[re]&=-129}return r}function rD(t,e){if(!(e[re]&256)){let n=e[yt];n.destroyNode&&Ad(t,e,n,3,null,null),ck(e)}}function um(t,e){if(e[re]&256)return;let n=De(null);try{e[re]&=-129,e[re]|=256,e[po]&&y0(e[po]),hk(t,e),dk(t,e),e[pe].type===1&&e[yt].destroy();let r=e[vc];if(r!==null&&xr(e[Ct])){r!==e[Ct]&&nD(r,e);let i=e[Sr];i!==null&&i.detachView(t)}L1(e)}finally{De(n)}}function dk(t,e){let n=t.cleanup,r=e[uc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[uc]=null);let i=e[yi];if(i!==null){e[yi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function hk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Wn(4,a,u);try{u.call(a)}finally{Wn(5,a,u)}}else{Wn(4,i,o);try{o.call(i)}finally{Wn(5,i,o)}}}}}function fk(t,e,n){return pk(t,e.parent,n)}function pk(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qn.None||o===Qn.Emulated)return null}return _n(r,n)}}function sd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iD(t,e,n){t.appendChild(e,n)}function pb(t,e,n,r,i){r!==null?sd(t,e,n,r,i):iD(t,e,n)}function mk(t,e,n,r){t.removeChild(e,n,r)}function Vg(t,e){return t.parentNode(e)}function gk(t,e){return t.nextSibling(e)}function yk(t,e,n){return _k(t,e,n)}function vk(t,e,n){return t.type&40?_n(t,n):null}var _k=vk,mb;function Sd(t,e,n,r){let i=fk(t,r,e),o=e[yt],s=r.parent||e[Fn],a=yk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)pb(o,i,n[u],a,!1);else pb(o,i,n,a,!1);mb!==void 0&&mb(o,r,e,n,i)}function Wl(t,e){if(e!==null){let n=e.type;if(n&3)return _n(e,t);if(n&4)return Fm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wl(t,r);{let i=t[e.index];return xr(i)?Fm(-1,i):Jn(i)}}else{if(n&32)return Lg(e,t)()||Jn(t[e.index]);{let r=oD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hc(t[Yn]);return Wl(i,r)}else return Wl(t,e.next)}}}return null}function oD(t,e){if(e!==null){let r=t[Yn][Fn],i=e.projection;return r.projection[i]}return null}function Fm(t,e){let n=ln+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return Wl(r,i)}return e[mo]}function wk(t,e,n){let r=Vg(t,e);r&&mk(t,r,e,n)}function Ug(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&wi(Jn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ug(t,e,n.child,r,i,o,!1),Is(e,t,i,a,o);else if(u&32){let l=Lg(n,r),h;for(;h=l();)Is(e,t,i,h,o);Is(e,t,i,a,o)}else u&16?Ik(t,e,r,n,i,o):Is(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ad(t,e,n,r,i,o){Ug(n,r,t.firstChild,e,i,o,!1)}function Ik(t,e,n,r,i,o){let s=n[Yn],u=s[Fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Is(e,t,i,h,o)}else{let l=u,h=s[Ct];$C(r)&&(l.flags|=128),Ug(t,e,l,h,i,o,!0)}}function Ek(t,e,n,r,i){let o=n[mo],s=Jn(n);o!==s&&Is(e,t,r,o,i);for(let a=ln;a<n.length;a++){let u=n[a];Ad(u[pe],u,t,e,r,o)}}function bk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),t.setStyle(n,r,i,o))}}function Ck(t,e,n){t.setAttribute(e,"style",n)}function sD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Im(t,e,r),i!==null&&sD(t,e,i),o!==null&&Ck(t,e,o)}var Ln={};function F(t=1){cD(Dt(),Te(),Co()+t,!1)}function cD(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zl(e,o,0,n)}go(n)}function L(t,e=ge.Default){let n=Te();if(n===null)return z(t,e);let r=Wt();return LC(r,n,zt(t),e)}function uD(){let t="invalid";throw new Error(t)}function lD(t,e,n,r,i,o){let s=De(null);try{let a=null;i&Qe.SignalBased&&(a=e[r][ro]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Qe.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):dC(e,a,r,o)}finally{De(s)}}function Dk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)go(~i);else{let o=i,s=n[++r],a=n[++r];c1(s,o);let u=e[o];a(2,u)}}}finally{go(-1)}}function Md(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Rr]=i,p[re]=r|4|128|8|64,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),yC(p),p[Ct]=p[ks]=t,p[Pn]=n,p[Nn]=s||t&&t[Nn],p[yt]=a||t&&t[yt],p[Ms]=u||t&&t[Ms]||null,p[Fn]=o,p[wd]=k1(),p[Zl]=h,p[uC]=l,p[Yn]=e.type==2?t[Yn]:p,p}function Ic(t,e,n,r,i){let o=t.data[e];if(o===null)o=Tk(t,e,n,r,i),a1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=r1();o.injectorIndex=s===null?-1:s.injectorIndex}return bo(o,!0),o}function Tk(t,e,n,r,i){let o=wC(),s=Eg(),a=s?o:o&&o.parent,u=t.data[e]=Pk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function dD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hD(t,e,n,r,i){let o=Co(),s=r&2;try{go(-1),s&&e.length>dn&&cD(t,e,dn,!1),Wn(s?2:0,i),n(r,i)}finally{go(o),Wn(s?3:1,i)}}function jg(t,e,n){if(vg(e)){let r=De(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{De(r)}}}function Bg(t,e,n){_C()&&(Vk(t,e,n,_n(n,e)),(n.flags&64)===64&&gD(t,e,n))}function $g(t,e,n=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function fD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qg(t,e,n,r,i,o,s,a,u,l,h){let p=dn+r,g=p+i,v=Sk(p,g),A=typeof l=="function"?l():l;return v[pe]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function Sk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ln);return n}function Ak(t,e,n,r){let o=r.get(q1,KC)||n===Qn.ShadowDom,s=t.selectRootElement(e,o);return Mk(s),s}function Mk(t){Rk(t)}var Rk=()=>null;function xk(t,e,n,r){let i=_D(e);i.push(n),t.firstCreatePass&&wD(t).push(r,i.length-1)}function Pk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return e1()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gb(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Qe.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?yb(r,n,l,a,u):yb(r,n,l,a)}return r}function yb(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Nk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,v=g?g.inputs:null,A=g?g.outputs:null;u=gb(0,p.inputs,h,u,v),l=gb(1,p.outputs,h,l,A);let N=u!==null&&s!==null&&!pg(e)?Qk(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Ok(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pD(t,e,n,r,i,o,s,a){let u=_n(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(zg(t,n,h,r,i),Id(e)&&kk(n,e.index)):e.type&3?(r=Ok(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function kk(t,e){let n=Ei(e,t);n[re]&16||(n[re]|=64)}function Hg(t,e,n,r){if(_C()){let i=r===null?null:{"":-1},o=jk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&mD(t,e,n,s,i,a),i&&Bk(n,r,i)}n.mergedAttrs=ac(n.mergedAttrs,n.attrs)}function mD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Mm(id(n,e),t,r[l].type);qk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=dD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ac(n.mergedAttrs,h.hostAttrs),Hk(t,n,e,u,h),$k(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Nk(t,n,o)}function Fk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Lk(s)!=a&&s.push(a),s.push(n,r,o)}}function Lk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Vk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Id(n)&&zk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||id(n,e),wi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=vo(e,t,a,n);if(wi(l,e),s!==null&&Kk(e,a-i,l,u,n,s),_i(u)){let h=Ei(n.index,e);h[Pn]=vo(e,t,a,n)}}}function gD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=u1();try{go(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Sm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Uk(u,l)}}finally{go(-1),Sm(s)}}function Uk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gO(e,s.selectors,!1))if(r||(r=[]),_i(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Lm(t,e,u)}else r.unshift(s),Lm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Y(-301,!1);r.push(e[i],o)}}}function $k(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_i(e)&&(n[""]=t)}}function qk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=fo(i.type,!0)),s=new yo(o,_i(i),L);t.blueprint[r]=s,n[r]=s,Fk(t,e,r,dD(t,n,i.hostVars,Ln),i)}function zk(t,e,n){let r=_n(e,t),i=fD(n),o=t[Nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Rd(t,Md(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Gk(t,e,n,r,i,o){let s=_n(t,e);Wk(e[yt],s,o,t.value,n,r,i)}function Wk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ds(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Kk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];lD(r,n,u,l,h,p)}}function Qk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function yD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vD(t,e){let n=t.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Dg(o),a.contentQueries(2,e[s],s)}}}finally{De(r)}}}function Rd(t,e){return t[lc]?t[ob][xn]=e:t[lc]=e,t[ob]=e,e}function Vm(t,e,n){Dg(0);let r=De(null);try{e(t,n)}finally{De(r)}}function _D(t){return t[uc]||(t[uc]=[])}function wD(t){return t.cleanup||(t.cleanup=[])}function ID(t,e){let n=t[Ms],r=n?n.get(Xn,null):null;r&&r.handleError(e)}function zg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];lD(h,l,r,a,u,i)}}function ED(t,e,n){let r=mC(e,t);ik(t[yt],r,n)}function Yk(t,e){let n=Ei(e,t),r=n[pe];Jk(r,n);let i=n[Rr];i!==null&&n[Zl]===null&&(n[Zl]=kg(i,n[Ms])),Gg(r,n,n[Pn])}function Jk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gg(t,e,n){Tg(e);try{let r=t.viewQuery;r!==null&&Vm(1,r,n);let i=t.template;i!==null&&hD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sr]?.finishViewCreation(t),t.staticContentQueries&&vD(t,e),t.staticViewQueries&&Vm(2,t.viewQuery,n);let o=t.components;o!==null&&Xk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Sg()}}function Xk(t,e){for(let n=0;n<e.length;n++)Yk(t,e[n])}function Zk(t,e,n,r){let i=De(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=Md(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[vc]=l;let h=t[Sr];return h!==null&&(u[Sr]=h.createEmbeddedView(o)),Gg(o,u,n),u}finally{De(i)}}function vb(t,e){return!e||e.firstChild===null||$C(t)}function eF(t,e,n,r=!0){let i=e[pe];if(uk(i,e,t,n),r){let s=Fm(n,t),a=e[yt],u=Vg(a,t[mo]);u!==null&&ak(i,t[Fn],a,e,u,s)}let o=e[Zl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ad(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Jn(o)),xr(o)&&tF(o,r);let s=n.type;if(s&8)ad(t,e,n.child,r);else if(s&32){let a=Lg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=oD(e,n);if(Array.isArray(a))r.push(...a);else{let u=hc(e[Yn]);ad(u[pe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tF(t,e){for(let n=ln;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&ad(r[pe],r,i,e)}t[mo]!==t[Rr]&&e.push(t[mo])}var bD=[];function nF(t){return t[po]??rF(t)}function rF(t){let e=bD.pop()??Object.create(oF);return e.lView=t,e}function iF(t){t.lView[po]!==t&&(t.lView=null,bD.push(t))}var oF=ce(j({},Fp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dc(t.lView)},consumerOnSignalRead(){this.lView[po]=this}}),CD=100;function DD(t,e=!0,n=0){let r=t[Nn],i=r.rendererFactory,o=!1;o||i.begin?.();try{sF(t,n)}catch(s){throw e&&ID(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function sF(t,e){Um(t,e);let n=0;for(;Ig(t);){if(n===CD)throw new Y(103,!1);n++,Um(t,1)}}function aF(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1;!o&&e[Nn].inlineEffectRunner?.flush(),Tg(e);let s=null,a=null;!o&&cF(t)&&(a=nF(e),s=m0(a));try{yC(e),s1(t.bindingStartIndex),n!==null&&hD(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Hl(e,p,null)}else{let p=t.preOrderHooks;p!==null&&zl(e,p,0,null),om(e,0)}if(uF(e),TD(e,0),t.contentQueries!==null&&vD(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Hl(e,p)}else{let p=t.contentHooks;p!==null&&zl(e,p,1),om(e,1)}Dk(t,e);let l=t.components;l!==null&&AD(e,l,0);let h=t.viewQuery;if(h!==null&&Vm(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Hl(e,p)}else{let p=t.viewHooks;p!==null&&zl(e,p,2),om(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[im]){for(let p of e[im])p();e[im]=null}o||(e[re]&=-73)}catch(u){throw dc(e),u}finally{a!==null&&(g0(a,s),iF(a)),Sg()}}function cF(t){return t.type!==2}function TD(t,e){for(let n=HC(t);n!==null;n=zC(n))for(let r=ln;r<n.length;r++){let i=n[r];SD(i,e)}}function uF(t){for(let e=HC(t);e!==null;e=zC(e)){if(!(e[re]&yg.HasTransplantedViews))continue;let n=e[Rs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ct];KO(i)}}}function lF(t,e,n){let r=Ei(e,t);SD(r,n)}function SD(t,e){wg(t)&&Um(t,e)}function Um(t,e){let r=t[pe],i=t[re],o=t[po],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vp(o)),o&&(o.dirty=!1),t[re]&=-9217,s)aF(r,t,r.template,t[Pn]);else if(i&8192){TD(t,1);let a=r.components;a!==null&&AD(t,a,1)}}function AD(t,e,n){for(let r=0;r<e.length;r++)lF(t,e[r],n)}function Wg(t){for(t[Nn].changeDetectionScheduler?.notify();t;){t[re]|=64;let e=hc(t);if(VO(t)&&!e)return t;t=e}return null}var _o=class{get rootNodes(){let e=this._lView,n=e[pe];return ad(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(xr(e)){let n=e[ed],r=n?n.indexOf(this):-1;r>-1&&(km(e,r),Jl(n,r))}this._attachedToViewContainer=!1}rD(this._lView[pe],this._lView)}onDestroy(e){vC(this._lView,e)}markForCheck(){Wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){Tm(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,DD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tD(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e,Tm(this._lView)}},wo=(()=>{class t{static{this.__NG_ELEMENT_ID__=fF}}return t})(),dF=wo,hF=class extends dF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Zk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new _o(i)}};function fF(){return xd(Wt(),Te())}function xd(t,e){return t.type&4?new hF(e,t,Fs(t,e)):null}var sK=new RegExp(`^(\\d+)*(${B1}|${j1})*(.*)`);var pF=()=>null;function _b(t,e){return pF(t,e)}var cd=class{},jm=class{},ud=class{};function mF(t){let e=Error(`No component factory found for ${Gt(t)}.`);return e[gF]=t,e}var gF="ngComponent";var Bm=class{resolveComponentFactory(e){throw mF(e)}},Pd=(()=>{class t{static{this.NULL=new Bm}}return t})(),fc=class{},nr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>yF()}}return t})();function yF(){let t=Te(),e=Wt(),n=Ei(e.index,t);return(lo(n)?n:t)[yt]}var vF=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}}return t})(),lm={};var wb=new Set;function Ec(t){wb.has(t)||(wb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ib(...t){}function _F(){let t=typeof un.requestAnimationFrame=="function",e=un[t?"requestAnimationFrame":"setTimeout"],n=un[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=_F().nativeRequestAnimationFrame,EF(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wF,Ib,Ib);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wF={};function Kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IF(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(un,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$m(t),t.isCheckStableRunning=!0,Kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$m(t))}function EF(t){let e=()=>{IF(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(bF(a))return n.invokeTask(i,o,s,a);try{return Eb(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bb(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Eb(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bb(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,$m(t),Kg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function $m(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Eb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bb(t){t._nesting--,Kg(t)}function bF(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Es=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Es||{}),CF={destroy(){}};function Nd(t,e){!e&&FO(Nd);let n=e?.injector??k(Tt);if(!tk(n))return CF;Ec("NgAfterNextRender");let r=n.get(Qg),i=r.handler??=new Hm,o=e?.phase??Es.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(xg).onDestroy(s),u=kn(n,()=>new qm(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var qm=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(Ie),this.errorHandler=k(Xn,{optional:!0}),k(cd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Hm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Es.EarlyRead]:new Set,[Es.Write]:new Set,[Es.MixedReadWrite]:new Set,[Es.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Qg=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ld(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Q0(i,a);else if(o==2){let u=a,l=e[++s];r=Q0(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dd=class extends Pd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vi(e);return new Ps(n,this.ngModule)}};function Cb(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function DF(t){let e=t.toLowerCase();return e==="svg"?$O:e==="math"?qO:null}var zm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vd(r);let i=this.injector.get(e,lm,r);return i!==lm||n===lm?i:this.parentInjector.get(e,n,r)}},Ps=class extends ud{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Cb(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Cb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=De(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new zm(e,s):e,u=a.get(fc,null);if(u===null)throw new Y(407,!1);let l=a.get(vF,null),h=a.get(Qg,null),p=a.get(cd,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=r?Ak(v,r,this.componentDef.encapsulation,a):eD(v,A,DF(A)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let V=null;N!==null&&(V=kg(N,a,!0));let J=qg(0,null,null,1,0,null,null,null,null,null,null),$=Md(null,J,null,R,null,null,g,v,a,null,V);Tg($);let X,Se;try{let ne=this.componentDef,b,y=null;ne.findHostDirectiveDefs?(b=[],y=new Map,ne.findHostDirectiveDefs(ne,b,y),b.push(ne)):b=[ne];let w=TF($,N),E=SF(w,N,ne,b,$,g,v);Se=gC(J,dn),N&&RF(v,ne,N,r),n!==void 0&&xF(Se,this.ngContentSelectors,n),X=MF(E,ne,b,y,$,[PF]),Gg(J,$,null)}finally{Sg()}return new Gm(this.componentType,X,Fs(Se,$),$,Se)}finally{De(o)}}},Gm=class extends jm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _o(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zg(o[pe],o,i,e,n),this.previousInputValues.set(e,n);let s=Ei(this._tNode.index,o);Wg(s)}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TF(t,e){let n=t[pe],r=dn;return t[r]=e,Ic(n,r,2,"#host",null)}function SF(t,e,n,r,i,o,s){let a=i[pe];AF(r,t,e,s);let u=null;e!==null&&(u=kg(e,i[Ms]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Md(i,fD(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Lm(a,t,r.length-1),Rd(i,p),i[t.index]=p}function AF(t,e,n,r){for(let i of t)e.mergedAttrs=ac(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ld(e,e.mergedAttrs,!0),n!==null&&aD(r,n,e))}function MF(t,e,n,r,i,o){let s=Wt(),a=i[pe],u=_n(s,i);mD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=vo(i,a,p,s);wi(g,i)}gD(a,i,s),u&&wi(u,i);let l=vo(i,a,s.directiveStart+s.componentOffset,s);if(t[Pn]=i[Pn]=l,o!==null)for(let h of o)h(l,e);return jg(a,s,i),l}function RF(t,e,n,r){if(r)Im(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=IO(e.selectors[0]);i&&Im(t,n,i),o&&o.length>0&&sD(t,n,o.join(" "))}}function xF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function PF(){let t=Wt();Dd(Te()[pe],t)}var Ci=(()=>{class t{static{this.__NG_ELEMENT_ID__=NF}}return t})();function NF(){let t=Wt();return RD(t,Te())}var OF=Ci,MD=class extends OF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fs(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mg(this._hostTNode,this._hostLView);if(xC(e)){let n=nd(e,this._hostLView),r=td(e),i=n[pe].data[r+8];return new ho(i,n)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Db(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_b(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vb(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!LO(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Ps(vi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Nt,null);N&&(o=N)}let h=vi(u.componentType??{}),p=_b(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,o);return this.insertImpl(v.hostView,a,vb(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ct],l=new MD(u,u[Fn],u[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return eF(s,i,o,r),e.attachToViewContainerRef(),Gb(dm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Db(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=km(this._lContainer,n);r&&(Jl(dm(this._lContainer),n),rD(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=km(this._lContainer,n);return r&&Jl(dm(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Db(t){return t[ed]}function dm(t){return t[ed]||(t[ed]=[])}function RD(t,e){let n,r=e[t.index];return xr(r)?n=r:(n=yD(r,e,null,t),e[t.index]=n,Rd(e,n)),FF(n,e,t,r),new MD(n,t,e)}function kF(t,e){let n=t[yt],r=n.createComment(""),i=_n(e,t),o=Vg(n,i);return sd(n,o,r,gk(n,i),!1),r}var FF=UF,LF=()=>!1;function VF(t,e,n){return LF(t,e,n)}function UF(t,e,n,r){if(t[mo])return;let i;n.type&8?i=Jn(r):i=kF(e,n),t[mo]=i}var Wm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Km=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Yg(e,n).matches!==null&&this.queries[n].setDirty()}},Qm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=WF(e):this.predicate=e}},Ym=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,jF(n,o)),this.matchTNodeWithReadOption(e,n,Gl(n,e,o,!1,!1))}else r===wo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Zt||i===Ci||i===wo&&n.type&4)this.addMatch(n.index,-2);else{let o=Gl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function BF(t,e){return t.type&11?Fs(t,e):t.type&4?xd(t,e):null}function $F(t,e,n,r){return n===-1?BF(e,t):n===-2?qF(t,e,r):vo(t,t[pe],n,e)}function qF(t,e,n){if(n===Zt)return Fs(e,t);if(n===wo)return xd(e,t);if(n===Ci)return RD(e,t)}function xD(t,e,n,r){let i=e[Sr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push($F(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Xm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=xD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=ln;p<h.length;p++){let g=h[p];g[vc]===g[Ct]&&Xm(g[pe],g,l,r)}if(h[Rs]!==null){let p=h[Rs];for(let g=0;g<p.length;g++){let v=p[g];Xm(v[pe],v,l,r)}}}}}return r}function HF(t,e){return t[Sr].queries[e].queryList}function zF(t,e,n){let r=new Nm((n&4)===4);return xk(t,e,r,r.destroy),(e[Sr]??=new Km).queries.push(new Wm(r))-1}function GF(t,e,n,r){let i=Dt();if(i.firstCreatePass){let o=Wt();KF(i,new Qm(e,n,r),o.index),QF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return zF(i,Te(),n)}function WF(t){return t.split(",").map(e=>e.trim())}function KF(t,e,n){t.queries===null&&(t.queries=new Ym),t.queries.track(new Jm(e,n))}function QF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Yg(t,e){return t.queries.getByIndex(e)}function YF(t,e){let n=t[pe],r=Yg(n,e);return r.crossesNgTemplate?Xm(n,t,e,[]):xD(n,t,r,e)}function Di(t,e){Ec("NgSignals");let n=b0(t),r=n[ro];return e?.equal&&(r.equal=e.equal),n.set=i=>ll(r,i),n.update=i=>C0(r,i),n.asReadonly=JF.bind(n),n}function JF(){let t=this[ro];if(t.readonlyFn===void 0){let e=()=>this();e[ro]=t,t.readonlyFn=e}return t.readonlyFn}function XF(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=XF(t.type),n=!0,r=[t];for(;e;){let i;if(_i(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bl(t.inputs),s.inputTransforms=Bl(t.inputTransforms),s.declaredInputs=Bl(t.declaredInputs),s.outputs=Bl(t.outputs);let a=i.hostBindings;a&&rL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&tL(t,u),l&&nL(t,l),ZF(t,i),jN(t.outputs,i.outputs),_i(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===en&&(n=!1)}}e=Object.getPrototypeOf(e)}eL(r)}function ZF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function eL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ac(i.hostAttrs,n=ac(n,i.hostAttrs))}}function Bl(t){return t===Ts?{}:t===vn?[]:t}function tL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Jg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ii=class{},pc=class{};var Zm=class extends Ii{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dd(this);let i=tC(e);this._bootstrapComponents=ZC(i.bootstrap),this._r3Injector=jC(e,n,[{provide:Ii,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eg=class extends pc{constructor(e){super(),this.moduleType=e}create(e){return new Zm(this.moduleType,e,[])}};var hd=class extends Ii{constructor(e){super(),this.componentFactoryResolver=new dd(this),this.instance=null;let n=new cc([...e.providers,{provide:Ii,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],e.parent||gg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Od(t,e,n=null){return new hd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ls=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PD(t){return oL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function iL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function oL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Xg(t,e,n){return t[e]=n}function sL(t,e){return t[e]}function Io(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ND(t,e,n,r){let i=Io(t,e,n);return Io(t,e+1,r)||i}function aL(t){return(t.flags&32)===32}function cL(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ic(e,t,4,s||null,xs(l,a));Hg(e,n,h,xs(l,u)),Dd(e,h);let p=h.tView=qg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function le(t,e,n,r,i,o,s,a){let u=Te(),l=Dt(),h=t+dn,p=l.firstCreatePass?cL(h,l,u,e,n,r,i,o,s):l.data[h];bo(p,!1);let g=uL(l,u,p,t);bd()&&Sd(l,u,g,p),wi(g,u);let v=yD(g,u,g,p);return u[h]=v,Rd(u,v),VF(v,p,u),Ed(p)&&Bg(l,u,p),s!=null&&$g(u,p,a),le}var uL=lL;function lL(t,e,n,r){return Cd(!0),e[yt].createComment("")}function bc(t,e,n,r){let i=Te(),o=Cg();if(Io(i,o,e)){let s=Dt(),a=Ag();Gk(a,i,t,e,n,r)}return bc}function OD(t,e,n,r){return Io(t,Cg(),n)?e+Ds(n)+r:Ln}function dL(t,e,n,r,i,o){let s=o1(),a=ND(t,s,n,i);return EC(2),a?e+Ds(n)+r+Ds(i)+o:Ln}function $l(t,e){return t<<17|e<<2}function Eo(t){return t>>17&32767}function hL(t){return(t&2)==2}function fL(t,e){return t&131071|e<<17}function tg(t){return t|2}function Ns(t){return(t&131068)>>2}function hm(t,e){return t&-131069|e<<2}function pL(t){return(t&1)===1}function ng(t){return t|1}function mL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Eo(s),u=Ns(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||yc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Eo(t[a+1]);t[r+1]=$l(g,a),g!==0&&(t[g+1]=hm(t[g+1],r)),t[a+1]=fL(t[a+1],r)}else t[r+1]=$l(a,0),a!==0&&(t[a+1]=hm(t[a+1],r)),a=r;else t[r+1]=$l(u,0),a===0?a=r:t[u+1]=hm(t[u+1],r),u=r;l&&(t[r+1]=tg(t[r+1])),Tb(t,h,r,!0),Tb(t,h,r,!1),gL(e,h,t,r,o),s=$l(a,u),o?e.classBindings=s:e.styleBindings=s}function gL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&yc(o,e)>=0&&(n[r+1]=ng(n[r+1]))}function Tb(t,e,n,r){let i=t[n+1],o=e===null,s=r?Eo(i):Ns(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];yL(u,e)&&(a=!0,t[s+1]=r?ng(l):tg(l)),s=r?Eo(l):Ns(l)}a&&(t[n+1]=r?tg(i):ng(i))}function yL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yc(t,e)>=0:!1}function H(t,e,n){let r=Te(),i=Cg();if(Io(r,i,e)){let o=Dt(),s=Ag();pD(o,s,r,t,e,r[yt],n,!1)}return H}function Sb(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";zg(t,n,o[s],s,r)}function Ti(t,e){return vL(t,e,null,!0),Ti}function vL(t,e,n,r){let i=Te(),o=Dt(),s=EC(2);if(o.firstUpdatePass&&wL(o,t,s,r),e!==Ln&&Io(i,s,e)){let a=o.data[Co()];DL(o,a,i,i[yt],t,i[s+1]=TL(e,n),r,s)}}function _L(t,e){return e>=t.expandoStartIndex}function wL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Co()],s=_L(t,n);SL(o,r)&&e===null&&!s&&(e=!1),e=IL(i,o,e,r),mL(i,o,e,n,s,r)}}function IL(t,e,n,r){let i=l1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=fm(null,t,e,n,r),n=mc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=fm(i,t,e,n,r),o===null){let u=EL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=fm(null,t,e,u[1],r),u=mc(u,e.attrs,r),bL(t,e,r,u))}else o=CL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ns(r)!==0)return t[Eo(r)]}function bL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Eo(i)]=r}function CL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=mc(r,s,n)}return mc(r,e.attrs,n)}function fm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=mc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function mc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=pL(l)?Ab(u,e,n,i,Ns(l),s):void 0;if(!fd(h)){fd(o)||hL(l)&&(o=Ab(u,null,n,i,a,s));let p=mC(Co(),n);bk(r,s,p,i,o)}}function Ab(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Ln&&(g=p?vn:void 0);let v=p?nm(g,r):h===r?g:void 0;if(l&&!fd(v)&&(v=nm(u,r)),fd(v)&&(a=v,s))return a;let A=t[i+1];i=s?Eo(A):Ns(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=nm(u,r))}return a}function fd(t){return t!==void 0}function TL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Gt(wc(t)))),t}function SL(t,e){return(t.flags&(e?8:16))!==0}function AL(t,e,n,r,i,o){let s=e.consts,a=xs(s,i),u=Ic(e,t,2,r,a);return Hg(e,n,u,xs(s,o)),u.attrs!==null&&ld(u,u.attrs,!1),u.mergedAttrs!==null&&ld(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function C(t,e,n,r){let i=Te(),o=Dt(),s=dn+t,a=i[yt],u=o.firstCreatePass?AL(s,o,i,e,n,r):o.data[s],l=ML(o,i,u,a,e,t);i[s]=l;let h=Ed(u);return bo(u,!0),aD(a,l,u),!aL(u)&&bd()&&Sd(o,i,l,u),JO()===0&&wi(l,i),XO(),h&&(Bg(o,i,u),jg(o,u,i)),r!==null&&$g(i,u),C}function T(){let t=Wt();Eg()?IC():(t=t.parent,bo(t,!1));let e=t;t1(e)&&n1(),ZO();let n=Dt();return n.firstCreatePass&&(Dd(n,t),vg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&y1(e)&&Sb(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&v1(e)&&Sb(n,e,Te(),e.stylesWithoutHost,!1),T}function se(t,e,n,r){return C(t,e,n,r),T(),se}var ML=(t,e,n,r,i,o)=>(Cd(!0),eD(r,i,f1()));function RL(t,e,n,r,i){let o=e.consts,s=xs(o,r),a=Ic(e,t,8,"ng-container",s);s!==null&&ld(a,s,!0);let u=xs(o,i);return Hg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Zg(t,e,n){let r=Te(),i=Dt(),o=t+dn,s=i.firstCreatePass?RL(o,i,r,e,n):i.data[o];bo(s,!0);let a=xL(i,r,s,t);return r[o]=a,bd()&&Sd(i,r,a,s),wi(a,r),Ed(s)&&(Bg(i,r,s),jg(i,s,r)),n!=null&&$g(r,s),Zg}function ey(){let t=Wt(),e=Dt();return Eg()?IC():(t=t.parent,bo(t,!1)),e.firstCreatePass&&(Dd(e,t),vg(t)&&e.queries.elementEnd(t)),ey}var xL=(t,e,n,r)=>(Cd(!0),ok(e[yt],""));function Ot(){return Te()}var uo=void 0;function PL(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var NL=["en",[["a","p"],["AM","PM"],uo],[["AM","PM"],uo,uo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uo,"{1} 'at' {0}",uo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",PL],pm={};function hn(t){let e=OL(t),n=Mb(e);if(n)return n;let r=e.split("-")[0];if(n=Mb(r),n)return n;if(r==="en")return NL;throw new Y(701,!1)}function Mb(t){return t in pm||(pm[t]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[t]),pm[t]}var Ze=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ze||{});function OL(t){return t.toLowerCase().replace(/_/g,"-")}var pd="en-US";var kL=pd;function FL(t){typeof t=="string"&&(kL=t.toLowerCase().replace(/_/g,"-"))}function de(t,e,n,r){let i=Te(),o=Dt(),s=Wt();return VL(o,i,i[yt],s,t,e,r),de}function LL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[uc],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function VL(t,e,n,r,i,o,s){let a=Ed(r),l=t.firstCreatePass&&wD(t),h=e[Pn],p=_D(e),g=!0;if(r.type&3||s){let N=_n(r,e),R=s?s(N):N,V=p.length,J=s?X=>s(Jn(X[r.index])):r.index,$=null;if(!s&&a&&($=LL(t,e,i,r.index)),$!==null){let X=$.__ngLastListenerFn__||$;X.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,g=!1}else{o=xb(r,e,h,o,!1);let X=n.listen(R,i,o);p.push(o,X),l&&l.push(i,J,V,V+1)}}else o=xb(r,e,h,o,!1);let v=r.outputs,A;if(g&&v!==null&&(A=v[i])){let N=A.length;if(N)for(let R=0;R<N;R+=2){let V=A[R],J=A[R+1],Se=e[V][J].subscribe(o),ne=p.length;p.push(o,Se),l&&l.push(i,r.index,ne,-(ne+1))}}}function Rb(t,e,n,r){let i=De(null);try{return Wn(6,e,n),n(r)!==!1}catch(o){return ID(t,o),!1}finally{Wn(7,e,n),De(i)}}function xb(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ei(t.index,e):e;Wg(a);let u=Rb(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Rb(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Ne(t=1){return h1(t)}function ty(t,e,n,r,i){let o=Te(),s=OD(o,e,n,r);if(s!==Ln){let a=Dt(),u=Ag();pD(a,u,o,t,s,o[yt],i,!1)}return ty}function kD(t,e,n,r){GF(t,e,n,r)}function FD(t){let e=Te(),n=Dt(),r=bC();Dg(r+1);let i=Yg(n,r);if(t.dirty&&GO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=YF(e,r);t.reset(o,P1),t.notifyOnChanges()}return!0}return!1}function LD(){return HF(Te(),bC())}function UL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function kd(t){let e=i1();return _g(e,dn+t)}function x(t,e=""){let n=Te(),r=Dt(),i=t+dn,o=r.firstCreatePass?Ic(r,i,1,e,null):r.data[i],s=jL(r,n,o,e,t);n[i]=s,bd()&&Sd(r,n,s,o),bo(o,!1)}var jL=(t,e,n,r,i)=>(Cd(!0),rk(e[yt],r));function kt(t){return ut("",t,""),kt}function ut(t,e,n){let r=Te(),i=OD(r,t,e,n);return i!==Ln&&ED(r,Co(),i),ut}function Vs(t,e,n,r,i){let o=Te(),s=dL(o,t,e,n,r,i);return s!==Ln&&ED(o,Co(),s),Vs}function BL(t,e,n){let r=Dt();if(r.firstCreatePass){let i=_i(t);rg(n,r.data,r.blueprint,i,!0),rg(e,r.data,r.blueprint,i,!1)}}function rg(t,e,n,r,i){if(t=zt(t),Array.isArray(t))for(let o=0;o<t.length;o++)rg(t[o],e,n,r,i);else{let o=Dt(),s=Te(),a=Wt(),u=As(t)?t:zt(t.provide),l=aC(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(As(t)||!t.multi){let v=new yo(l,i,L),A=gm(u,e,i?h:h+g,p);A===-1?(Mm(id(a,s),o,u),mm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[A]=v,s[A]=v)}else{let v=gm(u,e,h+g,p),A=gm(u,e,h,h+g),N=v>=0&&n[v],R=A>=0&&n[A];if(i&&!R||!i&&!N){Mm(id(a,s),o,u);let V=HL(i?qL:$L,n.length,i,r,l);!i&&R&&(n[A].providerFactory=V),mm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=VD(n[i?A:v],l,!i&&r);mm(o,t,v>-1?v:A,V)}!i&&r&&R&&n[A].componentProviders++}}}function mm(t,e,n,r){let i=As(e),o=MO(e);if(i||o){let u=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function VD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $L(t,e,n,r){return ig(this.multi,[])}function qL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vo(n,n[pe],this.providerFactory.index,r);o=a.slice(0,s),ig(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ig(i,o);return o}function ig(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function HL(t,e,n,r,i){let o=new yo(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,VD(o,i,r&&!n),o}function Nr(t,e=[]){return n=>{n.providersResolver=(r,i)=>BL(r,i?i(t):t,e)}}var zL=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=iC(!1,n.type),i=r.length>0?Od([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(z(Nt))})}}return t})();function be(t){Ec("NgStandalone"),t.getStandaloneInjector=e=>e.get(zL).getOrCreateStandaloneInjector(t)}function Fd(t,e,n){let r=bg()+t,i=Te();return i[r]===Ln?Xg(i,r,n?e.call(n):e()):sL(i,r)}function UD(t,e){let n=t[e];return n===Ln?void 0:n}function GL(t,e,n,r,i,o){let s=e+n;return Io(t,s,i)?Xg(t,s+1,o?r.call(o,i):r(i)):UD(t,s+1)}function WL(t,e,n,r,i,o,s){let a=e+n;return ND(t,a,i,o)?Xg(t,a+2,s?r.call(s,i,o):r(i,o)):UD(t,a+2)}function Ge(t,e){let n=Dt(),r,i=t+dn;n.firstCreatePass?(r=KL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=fo(r.type,!0)),s,a=Jt(L);try{let u=rd(!1),l=o();return rd(u),UL(n,Te(),i,l),l}finally{Jt(a)}}function KL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function vt(t,e,n){let r=t+dn,i=Te(),o=_g(i,r);return jD(i,r)?GL(i,bg(),e,o.transform,n,o):o.transform(n)}function Do(t,e,n,r){let i=t+dn,o=Te(),s=_g(o,i);return jD(o,i)?WL(o,bg(),e,s.transform,n,r,s):s.transform(n,r)}function jD(t,e){return t[pe].data[e].pure}function BD(t,e){return xd(t,e)}var Mr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$D=new Mr("17.3.12"),Ld=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var qD=new W("");function Si(t){return!!t&&typeof t.then=="function"}function ny(t){return!!t&&typeof t.subscribe=="function"}var Vd=new W(""),HD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Vd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Si(o))n.push(o);else if(ny(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cc=new W("");function QL(){E0(()=>{throw new Y(600,!1)})}function YL(t){return t.isBoundToModule}function JL(t,e,n){try{let r=n();return Si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Us=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(BC),this.afterRenderEffectManager=k(Qg),this.externalTestViews=new Set,this.beforeRender=new Pt,this.afterTick=new Pt,this.componentTypes=[],this.components=[],this.isStable=k(Ls).hasPendingTasks.pipe(Q(n=>!n)),this._injector=k(Nt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ud;if(!this._injector.get(HD).done){let g=!i&&eC(n),v=!1;throw new Y(405,v)}let s;i?s=n:s=this._injector.get(Pd).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=YL(s)?void 0:this._injector.get(Ii),u=r||s.selector,l=s.create(Tt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(qD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ym(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Y(101,!1);let r=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,De(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===CD)throw new Y(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)XL(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>og(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>og(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ym(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Cc,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ym(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ym(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XL(t,e,n){!e&&!og(t)||ZL(t,n,e)}function og(t){return Ig(t)}function ZL(t,e,n){let r;n?(r=0,t[re]|=1024):t[re]&64?r=0:r=1,DD(t,e,r)}var sg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ud=(()=>{class t{compileModuleSync(n){return new eg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=tC(n),o=ZC(i.declarations).reduce((s,a)=>{let u=vi(a);return u&&s.push(new Ps(u)),s},[]);return new sg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eV=(()=>{class t{constructor(){this.zone=k(Ie),this.applicationRef=k(Us)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tV(t){return[{provide:Ie,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{let e=k(eV,{optional:!0});return()=>e.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{let e=k(oV);return()=>{e.initialize()}}},{provide:BC,useFactory:nV}]}function nV(){let t=k(Ie),e=k(Xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function rV(t){let e=tV(()=>new Ie(iV(t)));return Xt([[],e])}function iV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oV=(()=>{class t{constructor(){this.subscription=new nt,this.initialized=!1,this.zone=k(Ie),this.pendingTasks=k(Ls)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sV(){return typeof $localize<"u"&&$localize.locale||pd}var Dc=new W("",{providedIn:"root",factory:()=>k(Dc,ge.Optional|ge.SkipSelf)||sV()});var zD=new W("");var Kl=null;function aV(t=[],e){return Tt.create({name:e,providers:[{provide:_d,useValue:"platform"},{provide:zD,useValue:new Set([()=>Kl=null])},...t]})}function cV(t=[]){if(Kl)return Kl;let e=aV(t);return Kl=e,QL(),uV(e),e}function uV(t){t.get(Ng,null)?.forEach(n=>n())}var Ai=(()=>{class t{static{this.__NG_ELEMENT_ID__=lV}}return t})();function lV(t){return dV(Wt(),Te(),(t&16)===16)}function dV(t,e,n){if(Id(t)&&!n){let r=Ei(t.index,e);return new _o(r,r)}else if(t.type&47){let r=e[Yn];return new _o(r,e)}return null}var ag=class{constructor(){}supports(e){return PD(e)}create(e){return new cg(e)}},hV=(t,e)=>e,cg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Pb(r,i,o)?n:r,a=Pb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,A=v+g;h<=A&&A<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!PD(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,iL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ug(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new md),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new md),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ug=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},md=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new lg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Pb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nb(){return new ry([new ag])}var ry=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:Nb})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Nb()),deps:[[t,new hg,new rt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Y(901,!1)}}return t})();function GD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=cV(r),o=[rV(),...n||[]],a=new hd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ie);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Xn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),g=i.get(zD);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),JL(l,u,()=>{let v=a.get(HD);return v.runInitializers(),v.donePromise.then(()=>{let A=a.get(Dc,pd);FL(A||pd);let N=a.get(Us);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function To(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function iy(t){let e=De(null);try{return t()}finally{De(e)}}function WD(t){let e=vi(t);if(!e)return null;let n=new Ps(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var eT=null;function Vr(){return eT}function tT(t){eT??=t}var Kd=class{};var Ft=new W(""),gy=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(fV),providedIn:"platform"})}}return t})(),nT=new W(""),fV=(()=>{class t extends gy{constructor(){super(),this._doc=k(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(n){let r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function yy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function KD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var Ur=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(vy),providedIn:"root"})}}return t})(),rT=new W(""),vy=(()=>{class t extends Ur{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(gy),z(rT,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iT=(()=>{class t extends Ur{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=yy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(gy),z(rT,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Bs=(()=>{class t{constructor(n){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gV(KD(QD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return t.stripTrailingSlash(mV(this._basePath,QD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=kr}static{this.joinWithSlash=yy}static{this.stripTrailingSlash=KD}static{this.\u0275fac=function(r){return new(r||t)(z(Ur))}}static{this.\u0275prov=q({token:t,factory:()=>pV(),providedIn:"root"})}}return t})();function pV(){return new Bs(z(Ur))}function mV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function QD(t){return t.replace(/\/index.html$/,"")}function gV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var oT=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(oT||{});var Kt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Kt||{}),Ue=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ue||{}),fn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(fn||{}),pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yV(t){return hn(t)[Ze.LocaleId]}function vV(t,e,n){let r=hn(t),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=In(i,e);return In(o,n)}function _V(t,e,n){let r=hn(t),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=In(i,e);return In(o,n)}function wV(t,e,n){let r=hn(t),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=In(i,e);return In(o,n)}function IV(t,e){let r=hn(t)[Ze.Eras];return In(r,e)}function jd(t,e){let n=hn(t);return In(n[Ze.DateFormat],e)}function Bd(t,e){let n=hn(t);return In(n[Ze.TimeFormat],e)}function $d(t,e){let r=hn(t)[Ze.DateTimeFormat];return In(r,e)}function Fr(t,e){let n=hn(t),r=n[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Ze.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Ze.NumberSymbols][pn.Group]}return r}function EV(t,e){return hn(t)[Ze.NumberFormats][e]}function sT(t){if(!t[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bV(t){let e=hn(t);return sT(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?oy(r):[oy(r[0]),oy(r[1])])}function CV(t,e,n){let r=hn(t);sT(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=In(i,e)||[];return In(o,n)||[]}function In(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function oy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var DV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qd={},TV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Lr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Lr||{}),Pe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Pe||{}),xe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(xe||{});function SV(t,e,n,r){let i=FV(t);e=Or(n,e)||e;let s=[],a;for(;e;)if(a=TV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=cT(r,u),i=kV(i,r,!0));let l="";return s.forEach(h=>{let p=NV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Qd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Or(t,e){let n=yV(t);if(qd[n]??={},qd[n][e])return qd[n][e];let r="";switch(e){case"shortDate":r=jd(t,fn.Short);break;case"mediumDate":r=jd(t,fn.Medium);break;case"longDate":r=jd(t,fn.Long);break;case"fullDate":r=jd(t,fn.Full);break;case"shortTime":r=Bd(t,fn.Short);break;case"mediumTime":r=Bd(t,fn.Medium);break;case"longTime":r=Bd(t,fn.Long);break;case"fullTime":r=Bd(t,fn.Full);break;case"short":let i=Or(t,"shortTime"),o=Or(t,"shortDate");r=Hd($d(t,fn.Short),[i,o]);break;case"medium":let s=Or(t,"mediumTime"),a=Or(t,"mediumDate");r=Hd($d(t,fn.Medium),[s,a]);break;case"long":let u=Or(t,"longTime"),l=Or(t,"longDate");r=Hd($d(t,fn.Long),[u,l]);break;case"full":let h=Or(t,"fullTime"),p=Or(t,"fullDate");r=Hd($d(t,fn.Full),[h,p]);break}return r&&(qd[n][e]=r),r}function Hd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Vn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function AV(t,e){return Vn(t,3).substring(0,e)}function lt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=MV(t,o);if((n>0||a>-n)&&(a+=n),t===Pe.Hours)a===0&&n===-12&&(a=12);else if(t===Pe.FractionalSeconds)return AV(a,e);let u=Fr(s,pn.MinusSign);return Vn(a,e,u,r,i)}}function MV(t,e){switch(t){case Pe.FullYear:return e.getFullYear();case Pe.Month:return e.getMonth();case Pe.Date:return e.getDate();case Pe.Hours:return e.getHours();case Pe.Minutes:return e.getMinutes();case Pe.Seconds:return e.getSeconds();case Pe.FractionalSeconds:return e.getMilliseconds();case Pe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Be(t,e,n=Kt.Format,r=!1){return function(i,o){return RV(i,o,t,e,n,r)}}function RV(t,e,n,r,i,o){switch(n){case xe.Months:return wV(e,i,r)[t.getMonth()];case xe.Days:return _V(e,i,r)[t.getDay()];case xe.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=bV(e),h=CV(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[v,A]=g,N=s>=v.hours&&a>=v.minutes,R=s<A.hours||s===A.hours&&a<A.minutes;if(v.hours<A.hours){if(N&&R)return!0}else if(N||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return vV(e,i,r)[s<12?0:1];case xe.Eras:return IV(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function zd(t){return function(e,n,r){let i=-1*r,o=Fr(n,pn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Lr.Short:return(i>=0?"+":"")+Vn(s,2,o)+Vn(Math.abs(i%60),2,o);case Lr.ShortGMT:return"GMT"+(i>=0?"+":"")+Vn(s,1,o);case Lr.Long:return"GMT"+(i>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(i%60),2,o);case Lr.Extended:return r===0?"Z":(i>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var xV=0,Wd=4;function PV(t){let e=Qd(t,xV,1).getDay();return Qd(t,0,1+(e<=Wd?Wd:Wd+7)-e)}function aT(t){let e=t.getDay(),n=e===0?-3:Wd-e;return Qd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function sy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=aT(n),s=PV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Vn(i,t,Fr(r,pn.MinusSign))}}function Gd(t,e=!1){return function(n,r){let o=aT(n).getFullYear();return Vn(o,t,Fr(r,pn.MinusSign),e)}}var ay={};function NV(t){if(ay[t])return ay[t];let e;switch(t){case"G":case"GG":case"GGG":e=Be(xe.Eras,Ue.Abbreviated);break;case"GGGG":e=Be(xe.Eras,Ue.Wide);break;case"GGGGG":e=Be(xe.Eras,Ue.Narrow);break;case"y":e=lt(Pe.FullYear,1,0,!1,!0);break;case"yy":e=lt(Pe.FullYear,2,0,!0,!0);break;case"yyy":e=lt(Pe.FullYear,3,0,!1,!0);break;case"yyyy":e=lt(Pe.FullYear,4,0,!1,!0);break;case"Y":e=Gd(1);break;case"YY":e=Gd(2,!0);break;case"YYY":e=Gd(3);break;case"YYYY":e=Gd(4);break;case"M":case"L":e=lt(Pe.Month,1,1);break;case"MM":case"LL":e=lt(Pe.Month,2,1);break;case"MMM":e=Be(xe.Months,Ue.Abbreviated);break;case"MMMM":e=Be(xe.Months,Ue.Wide);break;case"MMMMM":e=Be(xe.Months,Ue.Narrow);break;case"LLL":e=Be(xe.Months,Ue.Abbreviated,Kt.Standalone);break;case"LLLL":e=Be(xe.Months,Ue.Wide,Kt.Standalone);break;case"LLLLL":e=Be(xe.Months,Ue.Narrow,Kt.Standalone);break;case"w":e=sy(1);break;case"ww":e=sy(2);break;case"W":e=sy(1,!0);break;case"d":e=lt(Pe.Date,1);break;case"dd":e=lt(Pe.Date,2);break;case"c":case"cc":e=lt(Pe.Day,1);break;case"ccc":e=Be(xe.Days,Ue.Abbreviated,Kt.Standalone);break;case"cccc":e=Be(xe.Days,Ue.Wide,Kt.Standalone);break;case"ccccc":e=Be(xe.Days,Ue.Narrow,Kt.Standalone);break;case"cccccc":e=Be(xe.Days,Ue.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":e=Be(xe.Days,Ue.Abbreviated);break;case"EEEE":e=Be(xe.Days,Ue.Wide);break;case"EEEEE":e=Be(xe.Days,Ue.Narrow);break;case"EEEEEE":e=Be(xe.Days,Ue.Short);break;case"a":case"aa":case"aaa":e=Be(xe.DayPeriods,Ue.Abbreviated);break;case"aaaa":e=Be(xe.DayPeriods,Ue.Wide);break;case"aaaaa":e=Be(xe.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":e=Be(xe.DayPeriods,Ue.Abbreviated,Kt.Standalone,!0);break;case"bbbb":e=Be(xe.DayPeriods,Ue.Wide,Kt.Standalone,!0);break;case"bbbbb":e=Be(xe.DayPeriods,Ue.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(xe.DayPeriods,Ue.Abbreviated,Kt.Format,!0);break;case"BBBB":e=Be(xe.DayPeriods,Ue.Wide,Kt.Format,!0);break;case"BBBBB":e=Be(xe.DayPeriods,Ue.Narrow,Kt.Format,!0);break;case"h":e=lt(Pe.Hours,1,-12);break;case"hh":e=lt(Pe.Hours,2,-12);break;case"H":e=lt(Pe.Hours,1);break;case"HH":e=lt(Pe.Hours,2);break;case"m":e=lt(Pe.Minutes,1);break;case"mm":e=lt(Pe.Minutes,2);break;case"s":e=lt(Pe.Seconds,1);break;case"ss":e=lt(Pe.Seconds,2);break;case"S":e=lt(Pe.FractionalSeconds,1);break;case"SS":e=lt(Pe.FractionalSeconds,2);break;case"SSS":e=lt(Pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zd(Lr.Short);break;case"ZZZZZ":e=zd(Lr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zd(Lr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zd(Lr.Long);break;default:return null}return ay[t]=e,e}function cT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function OV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function kV(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=cT(e,i);return OV(t,r*(o-i))}function FV(t){if(YD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Qd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(DV))return LV(r)}let e=new Date(t);if(!YD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function LV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function YD(t){return t instanceof Date&&!isNaN(t.valueOf())}var VV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,JD=22,Yd=".",Tc="0",UV=";",jV=",",cy="#";function BV(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Fr(n,pn.Infinity);else{let l=zV(t);s&&(l=HV(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let J=o.match(VV);if(J===null)throw new Error(`${o} is not a valid digit info`);let $=J[1],X=J[3],Se=J[5];$!=null&&(h=uy($)),X!=null&&(p=uy(X)),Se!=null?g=uy(Se):X!=null&&p>g&&(g=p)}GV(l,p,g);let v=l.digits,A=l.integerLen,N=l.exponent,R=[];for(u=v.every(J=>!J);A<h;A++)v.unshift(0);for(;A<0;A++)v.unshift(0);A>0?R=v.splice(A,v.length):(R=v,v=[0]);let V=[];for(v.length>=e.lgSize&&V.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)V.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&V.unshift(v.join("")),a=V.join(Fr(n,r)),R.length&&(a+=Fr(n,i)+R.join("")),N&&(a+=Fr(n,pn.Exponential)+"+"+N)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function $V(t,e,n){let r=EV(e,oT.Decimal),i=qV(r,Fr(e,pn.MinusSign));return BV(t,i,e,pn.Group,pn.Decimal,n)}function qV(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(UV),i=r[0],o=r[1],s=i.indexOf(Yd)!==-1?i.split(Yd):[i.substring(0,i.lastIndexOf(Tc)+1),i.substring(i.lastIndexOf(Tc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(cy));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Tc?n.minFrac=n.maxFrac=h+1:p===cy?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(jV);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(cy);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function HV(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function zV(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Yd))>-1&&(e=e.replace(Yd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Tc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Tc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>JD&&(r=r.splice(0,JD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function GV(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,v,A){return g=g+p,A[v]=g<10?g:g-10,u&&(A[v]===0&&v>=l?A.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function uy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Jd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ly=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ly(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),XD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);XD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(L(Ci),L(wo),L(ry))}}static{this.\u0275dir=qe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function XD(t,e){t.context.$implicit=e.item}var Lt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new dy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ZD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ZD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(L(Ci),L(wo))}}static{this.\u0275dir=qe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),dy=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Gt(e)}'.`)}function _y(t,e){return new Y(2100,!1)}var hy=class{createSubscription(e,n){return iy(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){iy(()=>e.unsubscribe())}},fy=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},WV=new fy,KV=new hy,nn=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Si(n))return WV;if(ny(n))return KV;throw _y(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(L(Ai,16))}}static{this.\u0275pipe=Os({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var QV="mediumDate",YV=new W(""),JV=new W(""),uT=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??QV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return SV(n,s,o||this.locale,a)}catch(s){throw _y(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(L(Dc,16),L(YV,24),L(JV,24))}}static{this.\u0275pipe=Os({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Xd=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!XV(n))return null;i||=this._locale;try{let o=ZV(n);return $V(o,i,r)}catch(o){throw _y(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(L(Dc,16))}}static{this.\u0275pipe=Os({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function XV(t){return!(t==null||t===""||t!==t)}function ZV(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Ye=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=er({type:t})}static{this.\u0275inj=Zn({})}}return t})(),wy="browser",e2="server";function t2(t){return t===wy}function Zd(t){return t===e2}var lT=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>t2(k(wn))?new py(k(Ft),window):new my})}}return t})(),py=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=n2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function n2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var my=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},js=class{};var Ac=class{},th=class{},So=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ey=class{encodeKey(e){return dT(e)}encodeValue(e){return dT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function o2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var s2=/%(\d[a-f0-9])/gi,a2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dT(t){return encodeURIComponent(t).replace(s2,(e,n)=>a2[n]??e)}function eh(t){return`${t}`}var Mi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ey,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=o2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(eh):[eh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(eh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(eh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var by=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function c2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fT(t){return typeof Blob<"u"&&t instanceof Blob}function pT(t){return typeof FormData<"u"&&t instanceof FormData}function u2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Sc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(c2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new So,this.context??=new by,!this.params)this.params=new Mi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hT(this.body)||fT(this.body)||pT(this.body)||u2(this.body)?this.body:this.body instanceof Mi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pT(this.body)?null:fT(this.body)?this.body.type||null:hT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,v)=>g.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,v)=>g.set(v,e.setParams[v]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},$s=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($s||{}),Mc=class{constructor(e,n=ih.Ok,r="OK"){this.headers=e.headers||new So,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Cy=class t extends Mc{constructor(e={}){super(e),this.type=$s.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nh=class t extends Mc{constructor(e={}){super(e),this.type=$s.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rh=class extends Mc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ih=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ih||{});function Iy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var l2=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Sc)o=n;else{let u;i.headers instanceof So?u=i.headers:u=new So(i.headers);let l;i.params&&(i.params instanceof Mi?l=i.params:l=new Mi({fromObject:i.params})),o=new Sc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Tr(u=>this.handler.handle(u)));if(n instanceof Sc||i.observe==="events")return s;let a=s.pipe(qt(u=>u instanceof nh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Q(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Q(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(Q(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Mi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Iy(i,r))}post(n,r,i={}){return this.request("POST",n,Iy(i,r))}put(n,r,i={}){return this.request("PUT",n,Iy(i,r))}static{this.\u0275fac=function(r){return new(r||t)(z(Ac))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function d2(t,e){return e(t)}function h2(t,e,n){return(r,i)=>kn(n,()=>e(r,o=>t(o,i)))}var yT=new W(""),f2=new W(""),p2=new W("");var mT=(()=>{class t extends Ac{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=k(Ls);let i=k(p2,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(yT),...this.injector.get(f2,[])]));this.chain=i.reduceRight((o,s)=>h2(o,s,this.injector),d2)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(co(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(z(th),z(Nt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();var m2=/^\)\]\}',?\n/;function g2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):Z(null)).pipe(st(()=>new te(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&s.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new So(s.getAllResponseHeaders()),V=g2(s)||n.url;return u=new Cy({headers:R,status:s.status,statusText:N,url:V}),u},h=()=>{let{headers:N,status:R,statusText:V,url:J}=l(),$=null;R!==ih.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=$?ih.Ok:0);let X=R>=200&&R<300;if(n.responseType==="json"&&typeof $=="string"){let Se=$;$=$.replace(m2,"");try{$=$!==""?JSON.parse($):null}catch(ne){$=Se,X&&(X=!1,$={error:ne,text:$})}}X?(o.next(new nh({body:$,headers:N,status:R,statusText:V,url:J||void 0})),o.complete()):o.error(new rh({error:$,headers:N,status:R,statusText:V,url:J||void 0}))},p=N=>{let{url:R}=l(),V=new rh({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},g=!1,v=N=>{g||(o.next(l()),g=!0);let R={type:$s.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},A=N=>{let R={type:$s.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:$s.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(z(js))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),vT=new W(""),y2="XSRF-TOKEN",v2=new W("",{providedIn:"root",factory:()=>y2}),_2="X-XSRF-TOKEN",w2=new W("",{providedIn:"root",factory:()=>_2}),oh=class{},I2=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(z(Ft),z(wn),z(v2))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function E2(t,e){let n=t.url.toLowerCase();if(!k(vT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=k(oh).getToken(),i=k(w2);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function _T(...t){let e=[l2,gT,mT,{provide:Ac,useExisting:mT},{provide:th,useExisting:gT},{provide:yT,useValue:E2,multi:!0},{provide:vT,useValue:!0},{provide:oh,useClass:I2}];for(let n of t)e.push(...n.\u0275providers);return Xt(e)}var Sy=class extends Kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ay=class t extends Sy{static makeCurrent(){tT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=b2();return n==null?null:C2(n)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jd(document.cookie,e)}},Rc=null;function b2(){return Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null}function C2(t){return new URL(t,document.baseURI).pathname}var D2=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),My=new W(""),bT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(My),z(Ie))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),sh=class{constructor(e){this._doc=e}},Dy="ng-app-id",CT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zd(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Dy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Dy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Dy,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(Ft),z(Pg),z(Og,8),z(wn))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xy=/%COMP%/g,DT="%COMP%",T2=`_nghost-${DT}`,S2=`_ngcontent-${DT}`,A2=!0,M2=new W("",{providedIn:"root",factory:()=>A2});function R2(t){return S2.replace(xy,t)}function x2(t){return T2.replace(xy,t)}function TT(t,e){return e.map(n=>n.replace(xy,t))}var wT=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zd(a),this.defaultRenderer=new xc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qn.ShadowDom&&(r=ce(j({},r),{encapsulation:Qn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ah?i.applyToHost(n):i instanceof Pc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Qn.Emulated:o=new ah(u,l,r,this.appId,h,s,a,p);break;case Qn.ShadowDom:return new Ry(u,l,n,r,s,a,this.nonce,p);default:o=new Pc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(bT),z(CT),z(Pg),z(M2),z(Ft),z(wn),z(Ie),z(Og))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),xc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ty[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(IT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(IT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ty[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ty[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(n,r,i&Ar.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ar.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function IT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ry=class extends xc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pc=class extends xc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?TT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ah=class extends Pc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=R2(l),this.hostAttr=x2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},P2=(()=>{class t extends sh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(Ft))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),ET=["alt","control","meta","shift"],N2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},k2=(()=>{class t extends sh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ET.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=N2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ET.forEach(s=>{if(s!==i){let a=O2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(Ft))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function ST(t,e){return GD(j({rootComponent:t},F2(e)))}function F2(t){return{appProviders:[...B2,...t?.providers??[]],platformProviders:j2}}function L2(){Ay.makeCurrent()}function V2(){return new Xn}function U2(){return WC(document),document}var j2=[{provide:wn,useValue:wy},{provide:Ng,useValue:L2,multi:!0},{provide:Ft,useFactory:U2,deps:[]}];var B2=[{provide:_d,useValue:"root"},{provide:Xn,useFactory:V2,deps:[]},{provide:My,useClass:P2,multi:!0,deps:[Ft,Ie,wn]},{provide:My,useClass:k2,multi:!0,deps:[Ft]},wT,CT,bT,{provide:fc,useExisting:wT},{provide:js,useClass:D2,deps:[]},[]];var AT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(Ft))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var MT={production:!1,firebaseConfig:{apiKey:"AIzaSyDAisk3qnShJbdyHUUT0627BXztkS3QkMI",authDomain:"projeto-integrador-cf3b5.firebaseapp.com",projectId:"projeto-integrador-cf3b5",storageBucket:"projeto-integrador-cf3b5.appspot.com",messagingSenderId:"461519297399",appId:"1:461519297399:web:fe51fb13788ff1ca0d5f72"}};var fe="primary",Kc=Symbol("RouteTitle"),Fy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ws(t){return new Fy(t)}function q2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function H2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rr(t[n],e[n]))return!1;return!0}function rr(t,e){let n=t?Ly(t):void 0,r=e?Ly(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!VT(t[i],e[i]))return!1;return!0}function Ly(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function VT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function UT(t){return t.length>0?t[t.length-1]:null}function Oi(t){return Xp(t)?t:Si(t)?ke(Promise.resolve(t)):Z(t)}var z2={exact:BT,subset:$T},jT={exact:G2,subset:W2,ignored:()=>!0};function RT(t,e,n){return z2[n.paths](t.root,e.root,n.matrixParams)&&jT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function G2(t,e){return rr(t,e)}function BT(t,e,n){if(!Mo(t.segments,e.segments)||!lh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BT(t.children[r],e.children[r],n))return!1;return!0}function W2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>VT(t[n],e[n]))}function $T(t,e,n){return qT(t,e,e.segments,n)}function qT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mo(i,n)||e.hasChildren()||!lh(i,n,r))}else if(t.segments.length===n.length){if(!Mo(t.segments,n)||!lh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$T(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Mo(t.segments,i)||!lh(t.segments,i,r)||!t.children[fe]?!1:qT(t.children[fe],e,o,r)}}function lh(t,e,n){return e.every((r,i)=>jT[n](t[i].parameters,r.parameters))}var Ri=class{constructor(e=new Oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){return Y2.serialize(this)}},Oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}},Ao=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ws(this.parameters),this._parameterMap}toString(){return zT(this)}};function K2(t,e){return Mo(t,e)&&t.every((n,r)=>rr(n.parameters,e[r].parameters))}function Mo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Q2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var Qc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new Uc,providedIn:"root"})}}return t})(),Uc=class{parse(e){let n=new Uy(e);return new Ri(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Nc(e.root,!0)}`,r=Z2(e.queryParams),i=typeof e.fragment=="string"?`#${J2(e.fragment)}`:"";return`${n}${r}${i}`}},Y2=new Uc;function dh(t){return t.segments.map(e=>zT(e)).join("/")}function Nc(t,e){if(!t.hasChildren())return dh(t);if(e){let n=t.children[fe]?Nc(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${Nc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Q2(t,(r,i)=>i===fe?[Nc(t.children[fe],!1)]:[`${i}:${Nc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${dh(t)}/${n[0]}`:`${dh(t)}/(${n.join("//")})`}}function HT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ch(t){return HT(t).replace(/%3B/gi,";")}function J2(t){return encodeURI(t)}function Vy(t){return HT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hh(t){return decodeURIComponent(t)}function xT(t){return hh(t.replace(/\+/g,"%20"))}function zT(t){return`${Vy(t.path)}${X2(t.parameters)}`}function X2(t){return Object.entries(t).map(([e,n])=>`;${Vy(e)}=${Vy(n)}`).join("")}function Z2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ch(n)}=${ch(i)}`).join("&"):`${ch(n)}=${ch(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var eU=/^[^\/()?;#]+/;function Py(t){let e=t.match(eU);return e?e[0]:""}var tU=/^[^\/()?;=#]+/;function nU(t){let e=t.match(tU);return e?e[0]:""}var rU=/^[^=?&#]+/;function iU(t){let e=t.match(rU);return e?e[0]:""}var oU=/^[^&#]+/;function sU(t){let e=t.match(oU);return e?e[0]:""}var Uy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Oe(e,n)),r}parseSegment(){let e=Py(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new Ao(hh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Py(this.remaining);i&&(r=i,this.capture(r))}e[hh(n)]=hh(r)}parseQueryParam(e){let n=iU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=sU(this.remaining);s&&(r=s,this.capture(r))}let i=xT(n),o=xT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Py(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function GT(t){return t.segments.length>0?new Oe([],{[fe]:t}):t}function WT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WT(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Oe(t.segments,e);return aU(n)}function aU(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Oe(t.segments.concat(e.segments),e.children)}return t}function Ks(t){return t instanceof Ri}function cU(t,e,n=null,r=null){let i=KT(t);return QT(i,e,n,r)}function KT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Oe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=GT(r);return e??i}function QT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ny(i,i,i,n,r);let o=uU(e);if(o.toRoot())return Ny(i,i,new Oe([],{}),n,r);let s=lU(o,i,t),a=s.processChildren?Fc(s.segmentGroup,s.index,o.commands):JT(s.segmentGroup,s.index,o.commands);return Ny(i,s.segmentGroup,a,n,r)}function fh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jc(t){return typeof t=="object"&&t!=null&&t.outlets}function Ny(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=YT(t,e,n);let a=GT(WT(s));return new Ri(a,o,i)}function YT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YT(o,e,n)}),new Oe(t.segments,r)}var ph=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fh(r[0]))throw new Y(4003,!1);let i=r.find(jc);if(i&&i!==UT(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ph(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ph(n,e,r)}var zs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function lU(t,e,n){if(t.isAbsolute)return new zs(e,!0,0);if(!n)return new zs(e,!1,NaN);if(n.parent===null)return new zs(n,!0,0);let r=fh(t.commands[0])?0:1,i=n.segments.length-1+r;return dU(n,i,t.numberOfDoubleDots)}function dU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new zs(r,!1,i-o)}function hU(t){return jc(t[0])?t[0].outlets:{[fe]:t}}function JT(t,e,n){if(t??=new Oe([],{}),t.segments.length===0&&t.hasChildren())return Fc(t,e,n);let r=fU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Oe(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Oe(t.segments.slice(r.pathIndex),t.children),Fc(o,0,i)}else return r.match&&i.length===0?new Oe(t.segments,{}):r.match&&!t.hasChildren()?jy(t,e,n):r.match?Fc(t,0,i):jy(t,e,n)}function Fc(t,e,n){if(n.length===0)return new Oe(t.segments,{});{let r=hU(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Fc(t.children[fe],e,n);return new Oe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(t.segments,i)}}function fU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(jc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NT(u,l,s))return o;r+=2}else{if(!NT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(jc(o)){let u=pU(o.outlets);return new Oe(r,u)}if(i===0&&fh(n[0])){let u=t.segments[e];r.push(new Ao(u.path,PT(n[0]))),i++;continue}let s=jc(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fh(a)?(r.push(new Ao(s,PT(a))),i+=2):(r.push(new Ao(s,{})),i++)}return new Oe(r,{})}function pU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jy(new Oe([],{}),0,r))}),e}function PT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NT(t,e,n){return t==n.path&&rr(e,n.parameters)}var Lc="imperative",wt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(wt||{}),bn=class{constructor(e,n){this.id=e,this.url=n}},Qs=class extends bn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends bn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gn||{}),mh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mh||{}),xi=class extends bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wt.NavigationSkipped}},Bc=class extends bn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gh=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},By=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$y=class extends bn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qy=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hy=class extends bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zy=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gy=class{constructor(e){this.route=e,this.type=wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wy=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ky=class{constructor(e){this.snapshot=e,this.type=wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qy=class{constructor(e){this.snapshot=e,this.type=wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yy=class{constructor(e){this.snapshot=e,this.type=wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=wt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$c=class{},qc=class{constructor(e){this.url=e}};var Jy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yc,this.attachRef=null}},Yc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Jy,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zy(e,this._root).map(n=>n.value)}};function Xy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xy(t,n);if(r)return r}return null}function Zy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zy(t,n);if(r.length)return r.unshift(e),r}return[]}var mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var _h=class extends vh{constructor(e,n){super(e),this.snapshot=n,uv(this,e)}toString(){return this.snapshot.toString()}};function XT(t){let e=mU(t),n=new gt([new Ao("",{})]),r=new gt({}),i=new gt({}),o=new gt({}),s=new gt(""),a=new Ni(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new _h(new mn(a,[]),e)}function mU(t){let e={},n={},r={},i="",o=new Hc([],e,r,i,n,fe,t,null,{});return new wh("",new mn(o,[]))}var Ni=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Q(l=>l[Kc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>Ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>Ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&eS(i)&&(r.resolve[Kc]=i.title),r}var Hc=class{get title(){return this.data?.[Kc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},wh=class extends vh{constructor(e,n){super(n),this.url=e,uv(this,n)}toString(){return ZT(this._root)}};function uv(t,e){e.value._routerState=t,e.children.forEach(n=>uv(t,n))}function ZT(t){let e=t.children.length>0?` { ${t.children.map(ZT).join(", ")} } `:"";return`${t.value}${e}`}function Oy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),rr(e.params,n.params)||t.paramsSubject.next(n.params),H2(e.url,n.url)||t.urlSubject.next(n.url),rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ev(t,e){let n=rr(t.params,e.params)&&K2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ev(t.parent,e.parent))}function eS(t){return typeof t.title=="string"||t.title===null}var Ro=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=k(Yc),this.location=k(Ci),this.changeDetector=k(Ai),this.environmentInjector=k(Nt),this.inputBinder=k(Ch,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new tv(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]})}}return t})(),tv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ni?this.route:e===Yc?this.childContexts:this.parent.get(e,n)}},Ch=new W(""),OT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ic([r.queryParams,r.params,r.data]).pipe(st(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=WD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function gU(t,e,n){let r=zc(t,e._root,n?n._root:void 0);return new _h(r,e)}function zc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=yU(t,e,n);return new mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zc(t,a)),s}}let r=vU(e.value),i=e.children.map(o=>zc(t,o));return new mn(r,i)}}function yU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zc(t,r,i);return zc(t,r)})}function vU(t){return new Ni(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var tS="ngNavigationCancelingError";function nS(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ks(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tS]=!0,n.cancellationCode=e,n}function _U(t){return iS(t)&&Ks(t.url)}function iS(t){return!!t&&t[tS]}var wU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[Ro],encapsulation:2})}}return t})();function IU(t,e){return t.providers&&!t._injector&&(t._injector=Od(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lv(t){let e=t.children&&t.children.map(lv),n=e?ce(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=wU),n}function ir(t){return t.outlet||fe}function EU(t,e){let n=t.filter(r=>ir(r)===e);return n.push(...t.filter(r=>ir(r)!==e)),n}function Jc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bU=(t,e,n,r)=>Q(i=>(new nv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),nv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Oy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ky(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Oy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Oy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Jc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ih=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gs=class{constructor(e,n){this.component=e,this.route=n}};function CU(t,e,n){let r=t._root,i=e?e._root:null;return Oc(r,i,n,[r.value])}function DU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ub(t)?t:e.get(t):r}function Oc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hs(e);return t.children.forEach(s=>{TU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vc(a,n.getContext(s),i)),i}function TU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=SU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ih(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Oc(t,e,a?a.children:null,r,i):Oc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gs(a.outlet.component,s))}else s&&Vc(e,a,i),i.canActivateChecks.push(new Ih(r)),o.component?Oc(t,null,a?a.children:null,r,i):Oc(t,null,n,r,i);return i}function SU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mo(t.url,e.url)||!rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(t,e)||!rr(t.queryParams,e.queryParams);case"paramsChange":default:return!ev(t,e)}}function Vc(t,e,n){let r=Hs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vc(s,e.children.getContext(o),n):Vc(s,null,n):Vc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gs(e.outlet.component,i)):n.canDeactivateChecks.push(new Gs(null,i)):n.canDeactivateChecks.push(new Gs(null,i))}function Xc(t){return typeof t=="function"}function AU(t){return typeof t=="boolean"}function MU(t){return t&&Xc(t.canLoad)}function RU(t){return t&&Xc(t.canActivate)}function xU(t){return t&&Xc(t.canActivateChild)}function PU(t){return t&&Xc(t.canDeactivate)}function NU(t){return t&&Xc(t.canMatch)}function oS(t){return t instanceof Dr||t?.name==="EmptyError"}var uh=Symbol("INITIAL_VALUE");function Ys(){return st(t=>ic(t.map(e=>e.pipe(Ht(1),Ll(uh)))).pipe(Q(e=>{for(let n of e)if(n!==!0){if(n===uh)return uh;if(n===!1||n instanceof Ri)return n}return!0}),qt(e=>e!==uh),Ht(1)))}function OU(t,e){return ot(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(ce(j({},n),{guardsResult:!0})):kU(s,r,i,t).pipe(ot(a=>a&&AU(a)?FU(r,o,t,e):Z(a)),Q(a=>ce(j({},n),{guardsResult:a})))})}function kU(t,e,n,r){return ke(t).pipe(ot(i=>BU(i.component,i.route,n,e,r)),Gn(i=>i!==!0,!0))}function FU(t,e,n,r){return ke(e).pipe(Tr(i=>gs(VU(i.route.parent,r),LU(i.route,r),jU(t,i.path,n),UU(t,i.route,n))),Gn(i=>i!==!0,!0))}function LU(t,e){return t!==null&&e&&e(new Qy(t)),Z(!0)}function VU(t,e){return t!==null&&e&&e(new Wy(t)),Z(!0)}function UU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Ol(()=>{let s=Jc(e)??n,a=Xs(o,s),u=RU(a)?a.canActivate(e,t):kn(s,()=>a(e,t));return Oi(u).pipe(Gn())}));return Z(i).pipe(Ys())}function jU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DU(s)).filter(s=>s!==null).map(s=>Ol(()=>{let a=s.guards.map(u=>{let l=Jc(s.node)??n,h=Xs(u,l),p=xU(h)?h.canActivateChild(r,t):kn(l,()=>h(r,t));return Oi(p).pipe(Gn())});return Z(a).pipe(Ys())}));return Z(o).pipe(Ys())}function BU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Jc(e)??i,l=Xs(a,u),h=PU(l)?l.canDeactivate(t,e,n,r):kn(u,()=>l(t,e,n,r));return Oi(h).pipe(Gn())});return Z(s).pipe(Ys())}function $U(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Xs(s,t),u=MU(a)?a.canLoad(e,n):kn(t,()=>a(e,n));return Oi(u)});return Z(o).pipe(Ys(),sS(r))}function sS(t){return ml(at(e=>{if(Ks(e))throw nS(t,e)}),Q(e=>e===!0))}function qU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Xs(s,t),u=NU(a)?a.canMatch(e,n):kn(t,()=>a(e,n));return Oi(u)});return Z(o).pipe(Ys(),sS(r))}var Gc=class{constructor(e){this.segmentGroup=e||null}},Eh=class extends Error{constructor(e){super(),this.urlTree=e}};function qs(t){return ms(new Gc(t))}function HU(t){return ms(new Y(4e3,!1))}function zU(t){return ms(rS(!1,gn.GuardRejected))}var rv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[fe])return HU(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Eh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ri(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GU(t,e,n,r,i){let o=dv(t,e,n);return o.matched?(r=IU(e,r),qU(r,e,n,i).pipe(Q(s=>s===!0?o:j({},iv)))):Z(o)}function dv(t,e,n){if(e.path==="**")return WU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},iv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||q2)(n,t,e);if(!i)return j({},iv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WU(t){return{matched:!0,parameters:t.length>0?UT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kT(t,e,n,r){return n.length>0&&YU(t,n,r)?{segmentGroup:new Oe(e,QU(r,new Oe(n,t.children))),slicedSegments:[]}:n.length===0&&JU(t,n,r)?{segmentGroup:new Oe(t.segments,KU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Oe(t.segments,t.children),slicedSegments:n}}function KU(t,e,n,r){let i={};for(let o of n)if(Dh(t,e,o)&&!r[ir(o)]){let s=new Oe([],{});i[ir(o)]=s}return j(j({},r),i)}function QU(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&ir(r)!==fe){let i=new Oe([],{});n[ir(r)]=i}return n}function YU(t,e,n){return n.some(r=>Dh(t,e,r)&&ir(r)!==fe)}function JU(t,e,n){return n.some(r=>Dh(t,e,r))}function Dh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function XU(t,e,n,r){return ir(t)!==r&&(r===fe||!Dh(e,n,t))?!1:dv(e,t,n).matched}function ZU(t,e,n){return e.length===0&&!t.children[n]}var ov=class{};function ej(t,e,n,r,i,o,s="emptyOnly"){return new sv(t,e,n,r,i,s,o).recognize()}var tj=31,sv=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=kT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(n=>{let r=new Hc([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new mn(r,n),o=new wh("",i),s=cU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(pi(r=>{if(r instanceof Eh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Q(o=>o instanceof mn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ke(i).pipe(Tr(o=>{let s=r.children[o],a=EU(n,o);return this.processSegmentGroup(e,a,s,o)}),Fl((o,s)=>(o.push(...s),o)),mi(null),em(),ot(o=>{if(o===null)return qs(r);let s=aS(o);return nj(s),Z(s)}))}processSegment(e,n,r,i,o,s){return ke(n).pipe(Tr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(pi(u=>{if(u instanceof Gc)return Z(null);throw u}))),Gn(a=>!!a),pi(a=>{if(oS(a))return ZU(r,i,o)?Z(new ov):qs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return XU(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):qs(i):qs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=dv(n,i,o);if(!a)return qs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tj&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(ot(g=>this.processSegment(e,r,n,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=GU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(st(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(st(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,v=new Hc(h,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ij(r),ir(r),r.component??r._loadedComponent??null,r,oj(r)),{segmentGroup:A,slicedSegments:N}=kT(n,h,p,u);if(N.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(Q(V=>V===null?null:new mn(v,V)));if(u.length===0&&N.length===0)return Z(new mn(v,[]));let R=ir(r)===o;return this.processSegment(l,u,A,N,R?fe:o,!0).pipe(Q(V=>new mn(v,V instanceof mn?[V]:[])))}))):qs(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):$U(e,n,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(at(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zU(n))):Z({routes:[],injector:e})}};function nj(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function rj(t){let e=t.value.routeConfig;return e&&e.path===""}function aS(t){let e=[],n=new Set;for(let r of t){if(!rj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=aS(r.children);e.push(new mn(r.value,i))}return e.filter(r=>!n.has(r))}function ij(t){return t.data||{}}function oj(t){return t.resolve||{}}function sj(t,e,n,r,i,o){return ot(s=>ej(t,e,n,r,s.extractedUrl,i,o).pipe(Q(({state:a,tree:u})=>ce(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function aj(t,e){return ot(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of cS(u))s.add(l);let a=0;return ke(s).pipe(Tr(u=>o.has(u)?cj(u,r,t,e):(u.data=cv(u,u.parent,t).resolve,Z(void 0))),at(()=>a++),vs(1),ot(u=>a===s.size?Z(n):cn))})}function cS(t){let e=t.children.map(n=>cS(n)).flat();return[t,...e]}function cj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!eS(i)&&(o[Kc]=i.title),uj(o,t,e,r).pipe(Q(s=>(t._resolvedData=s,t.data=cv(t,t.parent,n).resolve,null)))}function uj(t,e,n,r){let i=Ly(t);if(i.length===0)return Z({});let o={};return ke(i).pipe(ot(s=>lj(t[s],e,n,r).pipe(Gn(),at(a=>{o[s]=a}))),vs(1),Zp(o),pi(s=>oS(s)?cn:ms(s)))}function lj(t,e,n,r){let i=Jc(e)??r,o=Xs(t,i),s=o.resolve?o.resolve(e,n):kn(i,()=>o(e,n));return Oi(s)}function ky(t){return st(e=>{let n=t(e);return n?ke(n).pipe(Q(()=>e)):Z(e)})}var uS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===fe);return r}getResolvedTitleForRoute(n){return n.data[Kc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(dj),providedIn:"root"})}}return t})(),dj=(()=>{class t extends uS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(AT))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zc=new W("",{providedIn:"root",factory:()=>({})}),Wc=new W(""),hv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ud)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Oi(n.loadComponent()).pipe(Q(lS),at(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),co(()=>{this.componentLoaders.delete(n)})),i=new ds(r,()=>new Pt).pipe(ls());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hj(r,this.compiler,n,this.onLoadEndListener).pipe(co(()=>{this.childrenLoaders.delete(r)})),s=new ds(o,()=>new Pt).pipe(ls());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hj(t,e,n,r){return Oi(t.loadChildren()).pipe(Q(lS),ot(i=>i instanceof pc||Array.isArray(i)?Z(i):ke(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Wc,[],{optional:!0,self:!0}).flat()),{routes:s.map(lv),injector:o}}))}function fj(t){return t&&typeof t=="object"&&"default"in t}function lS(t){return fj(t)?t.default:t}var fv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(pj),providedIn:"root"})}}return t})(),pj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dS=new W(""),hS=new W("");function mj(t,e,n){let r=t.get(hS),i=t.get(Ft);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),gj(t))),{onViewTransitionCreated:u}=r;return u&&kn(t,()=>u({transition:a,from:e,to:n})),s})}function gj(t){return new Promise(e=>{Nd(e,{injector:t})})}var pv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt,this.transitionAbortSubject=new Pt,this.configLoader=k(hv),this.environmentInjector=k(Nt),this.urlSerializer=k(Qc),this.rootContexts=k(Yc),this.location=k(Bs),this.inputBindingEnabled=k(Ch,{optional:!0})!==null,this.titleStrategy=k(uS),this.options=k(Zc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(fv),this.createViewTransition=k(dS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new zy(i)),r=i=>this.events.next(new Gy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ce(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(o=>o.id!==0),Q(o=>ce(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),st(o=>{let s=!1,a=!1;return Z(o).pipe(st(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),cn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.rawUrl),p,mh.IgnoredSameUrlNavigation)),u.resolve(null),cn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(st(p=>{let g=this.transitions?.getValue();return this.events.next(new Qs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?cn:Promise.resolve(p)}),sj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),at(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new gh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:A,extras:N}=u,R=new Qs(p,this.urlSerializer.serialize(g),v,A);this.events.next(R);let V=XT(this.rootComponentType).snapshot;return this.currentTransition=o=ce(j({},u),{targetSnapshot:V,urlAfterRedirects:g,extras:ce(j({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(o)}else{let p="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,mh.IgnoredByUrlHandlingStrategy)),u.resolve(null),cn}}),at(u=>{let l=new By(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Q(u=>(this.currentTransition=o=ce(j({},u),{guards:CU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),OU(this.environmentInjector,u=>this.events.next(u)),at(u=>{if(o.guardsResult=u.guardsResult,Ks(u.guardsResult))throw nS(this.urlSerializer,u.guardsResult);let l=new $y(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",gn.GuardRejected),!1)),ky(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(at(l=>{let h=new qy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),st(l=>{let h=!1;return Z(l).pipe(aj(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",gn.NoDataFromResolver)}}))}),at(l=>{let h=new Hy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),ky(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(at(g=>{h.component=g}),Q(()=>{})));for(let g of h.children)p.push(...l(g));return p};return ic(l(u.targetSnapshot.root)).pipe(mi(null),Ht(1))}),ky(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?ke(h).pipe(Q(()=>o)):Z(o)}),Q(u=>{let l=gU(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),at(()=>{this.events.next(new $c)}),bU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ht(1),at({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),tm(this.transitionAbortSubject.pipe(at(u=>{throw u}))),co(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),pi(u=>{if(a=!0,iS(u))this.events.next(new xi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),_U(u)?this.events.next(new qc(u.url)):o.resolve(!1);else{this.events.next(new Bc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return cn}))}))}cancelNavigationTransition(n,r,i){let o=new xi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yj(t){return t!==Lc}var vj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(_j),providedIn:"root"})}}return t})(),av=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_j=(()=>{class t extends av{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(wj),providedIn:"root"})}}return t})(),wj=(()=>{class t extends fS{constructor(){super(...arguments),this.location=k(Bs),this.urlSerializer=k(Qc),this.options=k(Zc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(fv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Qs)this.stateMemento=this.createStateMemento();else if(n instanceof Pi)this.rawUrlTree=r.initialUrl;else if(n instanceof gh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof $c?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof xi&&(n.code===gn.GuardRejected||n.code===gn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Bc?this.restoreHistory(r,!0):n instanceof Un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kc||{});function pS(t,e){t.events.pipe(qt(n=>n instanceof Un||n instanceof xi||n instanceof Bc||n instanceof Pi),Q(n=>n instanceof Un||n instanceof Pi?kc.COMPLETE:(n instanceof xi?n.code===gn.Redirect||n.code===gn.SupersededByNewNavigation:!1)?kc.REDIRECTING:kc.FAILED),qt(n=>n!==kc.REDIRECTING),Ht(1)).subscribe(()=>{e()})}function Ij(t){throw t}var Ej={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Ld),this.stateManager=k(fS),this.options=k(Zc,{optional:!0})||{},this.pendingTasks=k(Ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(pv),this.urlSerializer=k(Qc),this.location=k(Bs),this.urlHandlingStrategy=k(fv),this._events=new Pt,this.errorHandler=this.options.errorHandler||Ij,this.navigated=!1,this.routeReuseStrategy=k(vj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Wc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ch,{optional:!0}),this.eventsSubscription=new nt,this.isNgZoneEnabled=k(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xi&&r.code!==gn.Redirect&&r.code!==gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Un)this.navigated=!0;else if(r instanceof qc){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yj(i.source)};this.scheduleNavigation(s,Lc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Dj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(lv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=KT(g)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return QT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ks(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Lc,null,r)}navigate(n,r={skipLocationChange:!1}){return Cj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},Ej):r===!1?i=j({},bj):i=r,Ks(n))return RT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return RT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return pS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Y(4008,!1)}function Dj(t){return!(t instanceof $c)&&!(t instanceof qc)}var Js=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Pt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:JC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(L(dt),L(Ni),Rg("tabindex"),L(nr),L(Zt),L(Ur))}}static{this.\u0275dir=qe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Qe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",To],skipLocationChange:[Qe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",To],replaceUrl:[Qe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",To],routerLink:"routerLink"},standalone:!0,features:[Jg,tr]})}}return t})(),mS=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ct,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Un&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(fi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ke(n).pipe(fi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Tj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(L(dt),L(Zt),L(nr),L(Ai),L(Js,8))}}static{this.\u0275dir=qe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&kD(o,Js,5),r&2){let s;FD(s=LD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[tr]})}}return t})();function Tj(t){return!!t.paths}var bh=class{};var Sj=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(qt(n=>n instanceof Un),Tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Od(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(i).pipe(fi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Z(null);let o=i.pipe(ot(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ke([o,s]).pipe(fi())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(z(dt),z(Ud),z(Nt),z(bh),z(hv))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gS=new W(""),Aj=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(Nt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Un?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pi&&n.code===mh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yh&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Nd(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new yh(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){uD()}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function yS(t,...e){return Xt([{provide:Wc,multi:!0,useValue:t},[],{provide:Ni,useFactory:vS,deps:[dt]},{provide:Cc,multi:!0,useFactory:_S},e.map(n=>n.\u0275providers)])}function vS(t){return t.routerState.root}function eu(t,e){return{\u0275kind:t,\u0275providers:e}}function _S(){let t=k(Tt);return e=>{let n=t.get(Us);if(e!==n.components[0])return;let r=t.get(dt),i=t.get(wS);t.get(mv)===1&&r.initialNavigation(),t.get(IS,null,ge.Optional)?.setUpPreloading(),t.get(gS,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new W("",{factory:()=>new Pt}),mv=new W("",{providedIn:"root",factory:()=>1});function Mj(){return eu(2,[{provide:mv,useValue:0},{provide:Vd,multi:!0,deps:[Tt],useFactory:e=>{let n=e.get(nT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(dt),o=e.get(wS);pS(i,()=>{r(!0)}),e.get(pv).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function Rj(){return eu(3,[{provide:Vd,multi:!0,useFactory:()=>{let e=k(dt);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}])}var IS=new W("");function xj(t){return eu(0,[{provide:IS,useExisting:Sj},{provide:bh,useExisting:t}])}function Pj(){return eu(8,[OT,{provide:Ch,useExisting:OT}])}function Nj(t){let e=[{provide:dS,useValue:mj},{provide:hS,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return eu(9,e)}var FT=new W("ROUTER_FORROOT_GUARD"),Oj=[Bs,{provide:Qc,useClass:Uc},dt,Yc,{provide:Ni,useFactory:vS,deps:[dt]},hv,[]],Th=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Oj,[],{provide:Wc,multi:!0,useValue:n},{provide:FT,useFactory:Vj,deps:[[dt,new rt,new hg]]},{provide:Zc,useValue:r||{}},r?.useHash?Fj():Lj(),kj(),r?.preloadingStrategy?xj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Uj(r):[],r?.bindToComponentInputs?Pj().\u0275providers:[],r?.enableViewTransitions?Nj().\u0275providers:[],jj()]}}static forChild(n){return{ngModule:t,providers:[{provide:Wc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(FT,8))}}static{this.\u0275mod=er({type:t})}static{this.\u0275inj=Zn({})}}return t})();function kj(){return{provide:gS,useFactory:()=>{let t=k(lT),e=k(Ie),n=k(Zc),r=k(pv),i=k(Qc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Aj(i,r,t,e,n)}}}function Fj(){return{provide:Ur,useClass:iT}}function Lj(){return{provide:Ur,useClass:vy}}function Vj(t){return"guarded"}function Uj(t){return[t.initialNavigation==="disabled"?Rj().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Mj().\u0275providers:[]]}var LT=new W("");function jj(){return[{provide:LT,useFactory:_S},{provide:Cc,multi:!0,useExisting:LT}]}var xS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(L(nr),L(Zt))}}static{this.\u0275dir=qe({type:t})}}return t})(),_v=(()=>{class t extends xS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,features:[en]})}}return t})(),Fh=new W("");var Bj={provide:Fh,useExisting:On(()=>Dn),multi:!0};function $j(){let t=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qj=new W(""),Dn=(()=>{class t extends xS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$j())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(L(nr),L(Zt),L(qj,8))}}static{this.\u0275dir=qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Nr([Bj]),en]})}}return t})();function ki(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function PS(t){return t!=null&&typeof t.length=="number"}var iu=new W(""),Lh=new W(""),Hj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fe=class{static min(e){return zj(e)}static max(e){return Gj(e)}static required(e){return NS(e)}static requiredTrue(e){return Wj(e)}static email(e){return Kj(e)}static minLength(e){return Qj(e)}static maxLength(e){return Yj(e)}static pattern(e){return Jj(e)}static nullValidator(e){return Mh(e)}static compose(e){return US(e)}static composeAsync(e){return BS(e)}};function zj(t){return e=>{if(ki(e.value)||ki(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Gj(t){return e=>{if(ki(e.value)||ki(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function NS(t){return ki(t.value)?{required:!0}:null}function Wj(t){return t.value===!0?null:{required:!0}}function Kj(t){return ki(t.value)||Hj.test(t.value)?null:{email:!0}}function Qj(t){return e=>ki(e.value)||!PS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Yj(t){return e=>PS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Jj(t){if(!t)return Mh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ki(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Mh(t){return null}function OS(t){return t!=null}function kS(t){return Si(t)?ke(t):t}function FS(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function LS(t,e){return e.map(n=>n(t))}function Xj(t){return!t.validate}function VS(t){return t.map(e=>Xj(e)?e:n=>e.validate(n))}function US(t){if(!t)return null;let e=t.filter(OS);return e.length==0?null:function(n){return FS(LS(n,e))}}function jS(t){return t!=null?US(VS(t)):null}function BS(t){if(!t)return null;let e=t.filter(OS);return e.length==0?null:function(n){let r=LS(n,e).map(kS);return ys(r).pipe(Q(FS))}}function $S(t){return t!=null?BS(VS(t)):null}function ES(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qS(t){return t._rawValidators}function HS(t){return t._rawAsyncValidators}function gv(t){return t?Array.isArray(t)?t:[t]:[]}function Rh(t,e){return Array.isArray(t)?t.includes(e):t===e}function bS(t,e){let n=gv(e);return gv(t).forEach(i=>{Rh(n,i)||n.push(i)}),n}function CS(t,e){return gv(e).filter(n=>!Rh(t,n))}var xh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Cn=class extends xh{get formDirective(){return null}get path(){return null}},ru=class extends xh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ph=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Zj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HQ=ce(j({},Zj),{"[class.ng-submitted]":"isSubmitted"}),or=(()=>{class t extends Ph{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(L(ru,2))}}static{this.\u0275dir=qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[en]})}}return t})(),sr=(()=>{class t extends Ph{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(L(Cn,10))}}static{this.\u0275dir=qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[en]})}}return t})();var tu="VALID",Sh="INVALID",Zs="PENDING",nu="DISABLED";function wv(t){return(Vh(t)?t.validators:t)||null}function eB(t){return Array.isArray(t)?jS(t):t||null}function Iv(t,e){return(Vh(e)?e.asyncValidators:t)||null}function tB(t){return Array.isArray(t)?$S(t):t||null}function Vh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function zS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")}function GS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Y(1002,"")})}var ea=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tu}get invalid(){return this.status===Sh}get pending(){return this.status==Zs}get disabled(){return this.status===nu}get enabled(){return this.status!==nu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CS(e,this._rawAsyncValidators))}hasValidator(e){return Rh(this._rawValidators,e)}hasAsyncValidator(e){return Rh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nu,this.errors=null,this._forEachChild(r=>{r.disable(ce(j({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(j({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tu,this._forEachChild(r=>{r.enable(ce(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(j({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tu||this.status===Zs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nu:tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;let n=kS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?nu:this.errors?Sh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Sh)?Sh:tu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tB(this._rawAsyncValidators)}},Nh=class extends ea{constructor(e,n,r){super(wv(n),Iv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){GS(this,!0,e),Object.keys(e).forEach(r=>{zS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yv=class extends Nh{};var Ev=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Uh}),Uh="always";function bv(t,e){return[...e.path,t]}function DS(t,e,n=Uh){Cv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),rB(t,e),oB(t,e),iB(t,e),nB(t,e)}function TS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Oh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Cv(t,e){let n=qS(t);e.validator!==null?t.setValidators(ES(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=HS(t);e.asyncValidator!==null?t.setAsyncValidators(ES(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Oh(e._rawValidators,i),Oh(e._rawAsyncValidators,i)}function kh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=HS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Oh(e._rawValidators,r),Oh(e._rawAsyncValidators,r),n}function rB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WS(t,e)})}function iB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function WS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function sB(t,e){t==null,Cv(t,e)}function aB(t,e){return kh(t,e)}function cB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function uB(t){return Object.getPrototypeOf(t.constructor)===_v}function lB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Dn?n=o:uB(o)?r=o:i=o}),i||r||n||null}function hB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ah=class extends ea{constructor(e=null,n,r){super(wv(n),Iv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fB=t=>t instanceof Ah,pB=(()=>{class t extends Cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return bv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,features:[en]})}}return t})();var ar=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var KS=new W("");var mB={provide:Cn,useExisting:On(()=>Tn)},Tn=(()=>{class t extends Cn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return DS(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){TS(n.control||null,n,!1),hB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,lB(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(TS(r||null,n),fB(i)&&(DS(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);sB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&aB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cv(this.form,this),this._oldForm&&kh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(L(iu,10),L(Lh,10),L(Ev,8))}}static{this.\u0275dir=qe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Qe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([mB]),en,tr]})}}return t})(),gB={provide:Cn,useExisting:On(()=>QS)},QS=(()=>{class t extends pB{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){YS(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(L(Cn,13),L(iu,10),L(Lh,10))}}static{this.\u0275dir=qe({type:t,selectors:[["","formGroupName",""]],inputs:{name:[Qe.None,"formGroupName","name"]},features:[Nr([gB]),en]})}}return t})(),yB={provide:Cn,useExisting:On(()=>jh)},jh=(()=>{class t extends Cn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return bv(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){YS(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(L(Cn,13),L(iu,10),L(Lh,10))}}static{this.\u0275dir=qe({type:t,selectors:[["","formArrayName",""]],inputs:{name:[Qe.None,"formArrayName","name"]},features:[Nr([yB]),en]})}}return t})();function YS(t){return!(t instanceof QS)&&!(t instanceof Tn)&&!(t instanceof jh)}var vB={provide:ru,useExisting:On(()=>jn)},jn=(()=>{class t extends ru{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dB(this,o)}ngOnChanges(n){this._added||this._setUpControl(),cB(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return bv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(L(Cn,13),L(iu,10),L(Lh,10),L(Fh,10),L(KS,8))}}static{this.\u0275dir=qe({type:t,selectors:[["","formControlName",""]],inputs:{name:[Qe.None,"formControlName","name"],isDisabled:[Qe.None,"disabled","isDisabled"],model:[Qe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([vB]),en,tr]})}}return t})(),_B={provide:Fh,useExisting:On(()=>Bh),multi:!0};function JS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function wB(t){return t.split(":")[0]}var Bh=(()=>{class t extends _v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=JS(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=wB(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([_B]),en]})}}return t})(),XS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(JS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(L(Zt),L(nr),L(Bh,9))}}static{this.\u0275dir=qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),IB={provide:Fh,useExisting:On(()=>ZS),multi:!0};function MS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function EB(t){return t.split(":")[0]}var ZS=(()=>{class t extends _v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=EB(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([IB]),en]})}}return t})(),eA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(MS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(MS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(L(Zt),L(nr),L(ZS,9))}}static{this.\u0275dir=qe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var bB=(()=>{class t{constructor(){this._validator=Mh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,features:[tr]})}}return t})();var CB={provide:iu,useExisting:On(()=>jr),multi:!0};var jr=(()=>{class t extends bB{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=To,this.createValidator=n=>NS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Pr(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bc("required",i._enabled?"":null)},inputs:{required:"required"},features:[Nr([CB]),en]})}}return t})();var tA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=er({type:t})}static{this.\u0275inj=Zn({})}}return t})(),vv=class extends ea{constructor(e,n,r){super(wv(n),Iv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){GS(this,!1,e),e.forEach((r,i)=>{zS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cr=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return RS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Nh(i,o)}record(n,r=null){let i=this._reduceControls(n);return new yv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(RS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ah(n,ce(j({},o),{nonNullable:!0}))):new Ah(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new vv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ah)return n;if(n instanceof ea)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ev,useValue:n.callSetDisabledState??Uh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=er({type:t})}static{this.\u0275inj=Zn({imports:[tA]})}}return t})(),ur=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:KS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ev,useValue:n.callSetDisabledState??Uh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=er({type:t})}static{this.\u0275inj=Zn({imports:[tA]})}}return t})();var iA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Tv;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TB=function(t){let e=iA(t);return oA.encodeByteArray(e,!0)},su=function(t){return TB(t).replace(/\./g,"")},Av=function(t){try{return oA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AB=()=>SB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Av(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return AB()||MB()||RB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mv=t=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hh=t=>{let e=Mv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rv=()=>{var t;return(t=qh())===null||t===void 0?void 0:t.config},xv=t=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${t}`]};var $h=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[su(JSON.stringify(n)),su(JSON.stringify(s)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function xB(){var t;let e=(t=qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){let t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lA(){return!xB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var PB="FirebaseError",Qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}},Br=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?NB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Qt(i,a,r)}};function NB(t,e){return t.replace(OB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OB=/\{\$([^}]+)}/g;function hA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(rA(o)&&rA(s)){if(!Po(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rA(t){return t!==null&&typeof t=="object"}function au(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function na(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fA(t,e){let n=new Sv(t,e);return n.subscribe.bind(n)}var Sv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dv),i.error===void 0&&(i.error=Dv),i.complete===void 0&&(i.complete=Dv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}var WQ=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var No="[DEFAULT]";var Nv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $h;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LB(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FB(t){return t===No?void 0:t}function LB(t){return t.instantiationMode==="EAGER"}var Gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Nv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var VB=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),UB={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},jB=ve.INFO,BB={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},$B=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=BB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fi=class{constructor(e){this.name=e,this._logLevel=jB,this._logHandler=$B,this._userLogHandler=null,VB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var qB=(t,e)=>e.some(n=>t instanceof n),pA,mA;function HB(){return pA||(pA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zB(){return mA||(mA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gA=new WeakMap,kv=new WeakMap,yA=new WeakMap,Ov=new WeakMap,Lv=new WeakMap;function GB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(lr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gA.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function WB(t){if(kv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kv.set(t,e)}var Fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vA(t){Fv=t(Fv)}function KB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wh(this),e,...n);return yA.set(r,e.sort?e.sort():[e]),lr(r)}:zB().includes(t)?function(...e){return t.apply(Wh(this),e),lr(gA.get(this))}:function(...e){return lr(t.apply(Wh(this),e))}}function QB(t){return typeof t=="function"?KB(t):(t instanceof IDBTransaction&&WB(t),qB(t,HB())?new Proxy(t,Fv):t)}function lr(t){if(t instanceof IDBRequest)return GB(t);if(Ov.has(t))return Ov.get(t);let e=QB(t);return e!==t&&(Ov.set(t,e),Lv.set(e,t)),e}var Wh=t=>Lv.get(t);function wA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=lr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(lr(s.result),u.oldVersion,u.newVersion,lr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var YB=["get","getKey","getAll","getAllKeys","count"],JB=["put","add","delete","clear"],Vv=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=JB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YB.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Vv.set(e,o),o}vA(t=>ce(j({},t),{get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));var jv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function XB(t){let e=t.getComponent();return e?.type==="VERSION"}var Bv="@firebase/app",IA="0.10.10";var $r=new Fi("@firebase/app"),ZB="@firebase/app-compat",e$="@firebase/analytics-compat",t$="@firebase/analytics",n$="@firebase/app-check-compat",r$="@firebase/app-check",i$="@firebase/auth",o$="@firebase/auth-compat",s$="@firebase/database",a$="@firebase/database-compat",c$="@firebase/functions",u$="@firebase/functions-compat",l$="@firebase/installations",d$="@firebase/installations-compat",h$="@firebase/messaging",f$="@firebase/messaging-compat",p$="@firebase/performance",m$="@firebase/performance-compat",g$="@firebase/remote-config",y$="@firebase/remote-config-compat",v$="@firebase/storage",_$="@firebase/storage-compat",w$="@firebase/firestore",I$="@firebase/vertexai-preview",E$="@firebase/firestore-compat",b$="firebase",C$="10.13.1";var $v="[DEFAULT]",D$={[Bv]:"fire-core",[ZB]:"fire-core-compat",[t$]:"fire-analytics",[e$]:"fire-analytics-compat",[r$]:"fire-app-check",[n$]:"fire-app-check-compat",[i$]:"fire-auth",[o$]:"fire-auth-compat",[s$]:"fire-rtdb",[a$]:"fire-rtdb-compat",[c$]:"fire-fn",[u$]:"fire-fn-compat",[l$]:"fire-iid",[d$]:"fire-iid-compat",[h$]:"fire-fcm",[f$]:"fire-fcm-compat",[p$]:"fire-perf",[m$]:"fire-perf-compat",[g$]:"fire-rc",[y$]:"fire-rc-compat",[v$]:"fire-gcs",[_$]:"fire-gcs-compat",[w$]:"fire-fst",[E$]:"fire-fst-compat",[I$]:"fire-vertex","fire-js":"fire-js",[b$]:"fire-js-all"};var cu=new Map,T$=new Map,qv=new Map;function EA(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){let e=t.name;if(qv.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,t);for(let n of cu.values())EA(n,t);for(let n of T$.values())EA(n,t);return!0}function Oo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t.settings!==void 0}var S$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Br("app","Firebase",S$);var Hv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}};var hr=C$;function Wv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=Rv()),!n)throw Li.create("no-options");let o=cu.get(i);if(o){if(Po(n,o.options)&&Po(r,o.config))return o;throw Li.create("duplicate-app",{appName:i})}let s=new Gh(i);for(let u of qv.values())s.addComponent(u);let a=new Hv(n,r,s);return cu.set(i,a),a}function Vi(t=$v){let e=cu.get(t);if(!e&&t===$v&&Rv())return Wv();if(!e)throw Li.create("no-app",{appName:t});return e}function Kh(){return Array.from(cu.values())}function We(t,e,n){var r;let i=(r=D$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}dr(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var A$="firebase-heartbeat-database",M$=1,uu="firebase-heartbeat-store",Uv=null;function TA(){return Uv||(Uv=wA(A$,M$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Uv}function R$(t){return _(this,null,function*(){try{let n=(yield TA()).transaction(uu),r=yield n.objectStore(uu).get(SA(t));return yield n.done,r}catch(e){if(e instanceof Qt)$r.warn(e.message);else{let n=Li.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}})}function bA(t,e){return _(this,null,function*(){try{let r=(yield TA()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,SA(t)),yield r.done}catch(n){if(n instanceof Qt)$r.warn(n.message);else{let r=Li.create("idb-set",{originalErrorMessage:n?.message});$r.warn(r.message)}}})}function SA(t){return`${t.name}!${t.options.appId}`}var x$=1024,P$=30*24*60*60*1e3,zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Gv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=P$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CA(),{heartbeatsToSend:r,unsentEntries:i}=N$(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $r.warn(n),""}})}};function CA(){return new Date().toISOString().substring(0,10)}function N$(t,e=x$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Gv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Pv()?dA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield R$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function DA(t){return su(JSON.stringify({version:2,heartbeats:t})).length}function O$(t){dr(new rn("platform-logger",e=>new jv(e),"PRIVATE")),dr(new rn("heartbeat",e=>new zv(e),"PRIVATE")),We(Bv,IA,t),We(Bv,IA,"esm2017"),We("fire-js","")}O$("");var k$="firebase",F$="10.13.1";We(k$,F$,"app");var qr=new Mr("ANGULARFIRE2_VERSION");function ia(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fo=(t,e)=>{let n=e?[e]:Kh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ui=class{constructor(){return Fo(L$)}},L$="app-check";function ra(){}var Qh=class{zone;delegate;constructor(e,n=Yp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Kv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(at({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ji=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qh(Zone.current)),this.insideAngular=n.run(()=>new Qh(Zone.current,Qp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(Ie))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function V$(t){return Yh().ngZone.runOutsideAngular(()=>t())}function ko(t){return Yh().ngZone.run(()=>t())}function U$(t){return j$(Yh())(t)}function j$(t){return function(n){return n=n.lift(new Kv(t.ngZone)),n.pipe(hi(t.outsideAngular),di(t.insideAngular))}}var B$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ko(()=>t.apply(void 0,r))},et=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ko(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra))),r[o]=B$(r[o],n));let i=V$(()=>t.apply(this,r));if(!e)if(i instanceof te){let o=Yh();return i.pipe(hi(o.outsideAngular),di(o.insideAngular))}else return ko(()=>i);return i instanceof te?i.pipe(U$):i instanceof Promise?ko(()=>new Promise((o,s)=>i.then(a=>ko(()=>o(a)),a=>ko(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ko(()=>i)};var $n=class{constructor(e){return e}},Hr=class{constructor(){return Kh()}};function $$(t){return t&&t.length===1?t[0]:new $n(Vi())}var Qv=new W("angularfire2._apps"),q$={provide:$n,useFactory:$$,deps:[[new rt,Qv]]},H$={provide:Hr,deps:[[new rt,Qv]]};function z$(t){return(e,n)=>{let r=n.get(wn);We("angularfire",qr.full,"core"),We("angularfire",qr.full,"app"),We("angular",$D.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $n(i)}}function AA(t,...e){return Xt([q$,H$,{provide:Qv,useFactory:z$(t),multi:!0,deps:[Ie,Tt,ji,...e]}])}var MA=et(Wv,!0);function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WA=GA,KA=new Br("auth","Firebase",GA());var nf=new Fi("@firebase/auth");function G$(t,...e){nf.logLevel<=ve.WARN&&nf.warn(`Auth (${hr}): ${t}`,...e)}function Xh(t,...e){nf.logLevel<=ve.ERROR&&nf.error(`Auth (${hr}): ${t}`,...e)}function pr(t,...e){throw v_(t,...e)}function Lo(t,...e){return v_(t,...e)}function QA(t,e,n){let r=Object.assign(Object.assign({},WA()),{[e]:n});return new Br("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return QA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KA.create(t,...e)}function ie(t,e,...n){if(!t)throw v_(e,...n)}function zr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function $i(t,e){t||zr(e)}function Zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W$(){return RA()==="http:"||RA()==="https:"}function RA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function K$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W$()||aA()||"connection"in navigator)?navigator.onLine:!0}function Q$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=sA()||cA()}get(){return K$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function __(t,e){$i(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var rf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Y$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var J$=new Vo(3e4,6e4);function qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hi(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return YA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=au(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),rf.fetch()(JA(t,t.config.apiHost,n,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function YA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Y$),e);try{let i=new e_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Jh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Jh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QA(t,h,l);pr(t,h)}}catch(i){if(i instanceof Qt)throw i;pr(t,"network-request-failed",{message:String(i)})}})}function yu(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Hi(t,e,n,r,i);return"mfaPendingCredential"in l&&pr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function JA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?__(t.config,i):`${t.config.apiScheme}://${i}`}function X$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var e_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lo(this.auth,"network-request-failed")),J$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Lo(t,e,r);return i.customData._tokenResponse=n,i}function xA(t){return t!==void 0&&t.enterprise!==void 0}var t_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return X$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Z$(t,e){return _(this,null,function*(){return Hi(t,"GET","/v2/recaptchaConfig",qi(t,e))})}function e4(t,e){return _(this,null,function*(){return Hi(t,"POST","/v1/accounts:delete",e)})}function XA(t,e){return _(this,null,function*(){return Hi(t,"POST","/v1/accounts:lookup",e)})}function lu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function w_(t,e=!1){return _(this,null,function*(){let n=ht(t),r=yield n.getIdToken(e),i=I_(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:lu(Yv(i.auth_time)),issuedAtTime:lu(Yv(i.iat)),expirationTime:lu(Yv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Yv(t){return Number(t)*1e3}function I_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Av(n);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PA(t){let e=I_(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hu(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Qt&&t4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function t4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var n_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function of(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield hu(t,XA(n,{idToken:r}));ie(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZA(o.providerUserInfo):[],a=n4(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function E_(t){return _(this,null,function*(){let e=ht(t);yield of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function n4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZA(t){return t.map(e=>{var{providerId:n}=e,r=Jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function r4(t,e){return _(this,null,function*(){let n=yield YA(t,{},()=>_(this,null,function*(){let r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function i4(t,e){return _(this,null,function*(){return Hi(t,"POST","/v2/accounts:revokeToken",qi(t,e))})}var du=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");let n=PA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield r4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zr("not implemented")}};function Bi(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var oa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield hu(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return w_(this,e)}reload(){return E_(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield of(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Bn(this.auth.app))return Promise.reject(Wr(this.auth));let e=yield this.getIdToken();return yield hu(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,J=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:X,isAnonymous:Se,providerData:ne,stsTokenManager:b}=n;ie($&&b,e,"internal-error");let y=du.fromJSON(this.name,b);ie(typeof $=="string",e,"internal-error"),Bi(p,e.name),Bi(g,e.name),ie(typeof X=="boolean",e,"internal-error"),ie(typeof Se=="boolean",e,"internal-error"),Bi(v,e.name),Bi(A,e.name),Bi(N,e.name),Bi(R,e.name),Bi(V,e.name),Bi(J,e.name);let w=new t({uid:$,auth:e,email:g,emailVerified:X,displayName:p,isAnonymous:Se,photoURL:A,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:V,lastLoginAt:J});return ne&&Array.isArray(ne)&&(w.providerData=ne.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new du;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield of(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ZA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new du;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var NA=new Map;function Gr(t){$i(t instanceof Function,"Expected a class definition");let e=NA.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NA.set(t,e),e)}var o4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),r_=o4;function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}var sf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?oa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Gr(r_),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Gr(r_),s=Zh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=oa._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function OA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oM(e))return"Blackberry";if(sM(e))return"Webos";if(tM(e))return"Safari";if((e.includes("chrome/")||nM(e))&&!e.includes("edge/"))return"Chrome";if(iM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eM(t=It()){return/firefox\//i.test(t)}function tM(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nM(t=It()){return/crios\//i.test(t)}function rM(t=It()){return/iemobile/i.test(t)}function iM(t=It()){return/android/i.test(t)}function oM(t=It()){return/blackberry/i.test(t)}function sM(t=It()){return/webos/i.test(t)}function b_(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s4(t=It()){var e;return b_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a4(){return uA()&&document.documentMode===10}function aM(t=It()){return b_(t)||iM(t)||sM(t)||oM(t)||/windows phone/i.test(t)||rM(t)}function cM(t,e=[]){let n;switch(t){case"Browser":n=OA(It());break;case"Worker":n=`${OA(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hr}/${r}`}var i_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function c4(n){return _(this,arguments,function*(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",qi(t,e))})}var u4=6,o_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:u4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var s_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new af(this),this.idTokenSubscription=new af(this),this.beforeStateQueue=new i_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield XA(this,{idToken:e}),r=yield oa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Bn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield of(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Q$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Bn(this.app))return Promise.reject(Wr(this));let n=e?ht(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Bn(this.app)?Promise.reject(Wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bn(this.app)?Promise.reject(Wr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Gr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield c4(this),n=new o_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield i4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=yield sf.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&G$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jo(t){return ht(t)}var af=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fA(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l4(t){pf=t}function uM(t){return pf.loadJS(t)}function d4(){return pf.recaptchaEnterpriseScript}function h4(){return pf.gapiScript}function lM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var f4="recaptcha-enterprise",p4="NO_RECAPTCHA",a_=class{constructor(e){this.type=f4,this.auth=jo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){Z$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new t_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;xA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(p4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&xA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=d4();u.length!==0&&(u+=a),uM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function kA(t,e,n,r=!1){return _(this,null,function*(){let i=new a_(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function c_(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield kA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield kA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function C_(t,e){let n=Oo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Po(o,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function m4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function D_(t,e,n){let r=jo(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=dM(e),{host:s,port:a}=g4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y4()}function dM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g4(t){let e=dM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FA(s)}}}function FA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function y4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var pu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}};function v4(t,e){return _(this,null,function*(){return Hi(t,"POST","/v1/accounts:signUp",e)})}function _4(t,e){return _(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithPassword",qi(t,e))})}function w4(t,e){return _(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))})}function I4(t,e){return _(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))})}var mu=class t extends pu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,n,"signInWithPassword",_4);case"emailLink":return w4(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,r,"signUpPassword",v4);case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jv(t,e){return _(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithIdp",qi(t,e))})}function E4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b4(t){let e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}var cf=class t{constructor(e){var n,r,i,o,s,a;let u=ta(na(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=E4((i=u.mode)!==null&&i!==void 0?i:null);ie(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=b4(e);try{return new t(n)}catch{return null}}};var hM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return mu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=cf.parseLink(r);return ie(i,"argument-error"),mu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),uf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var u_=class extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function C4(t,e){return _(this,null,function*(){return yu(t,"POST","/v1/accounts:signUp",qi(t,e))})}var sa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield oa._fromIdTokenResponse(e,r,i),s=LA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var l_=class t extends Qt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?l_._fromErrorAndOperation(t,o,e,r):o})}function D4(t,e,n=!1){return _(this,null,function*(){let r=yield hu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return sa._forOperation(t,"link",r)})}function T4(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Bn(r.app))return Promise.reject(Wr(r));let i="reauthenticate";try{let o=yield hu(t,fM(r,i,e,t),n);ie(o.idToken,r,"internal-error");let s=I_(o.idToken);ie(s,r,"internal-error");let{sub:a}=s;return ie(t.uid===a,r,"user-mismatch"),sa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pr(r,"user-mismatch"),o}})}function pM(t,e,n=!1){return _(this,null,function*(){if(Bn(t.app))return Promise.reject(Wr(t));let r="signIn",i=yield fM(t,r,e),o=yield sa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function T_(t,e){return _(this,null,function*(){return pM(jo(t),e)})}function mM(t){return _(this,null,function*(){let e=jo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function S_(t,e,n){return _(this,null,function*(){if(Bn(t.app))return Promise.reject(Wr(t));let r=jo(t),s=yield c_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mM(t),u}),a=yield sa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function A_(t,e,n){return Bn(t.app)?Promise.reject(Wr(t)):T_(ht(t),hM.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&mM(t),r}))}function vu(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function M_(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function mf(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function R_(t){return ht(t).signOut()}var lf="__sak";var df=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var S4=1e3,A4=10,M4=(()=>{class t extends df{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);a4()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,A4):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},S4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield ui(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield ui(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield ui(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),gM=M4;var R4=(()=>{class t extends df{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),x_=R4;function x4(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var P4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield x4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var d_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=yM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fr(){return window}function N4(t){fr().location.href=t}function vM(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}function O4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function k4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F4(){return vM()?self:null}var _M="firebaseLocalStorageDb",L4=1,hf="firebaseLocalStorage",wM="fbase_key",Uo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function gf(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function V4(){let t=indexedDB.deleteDatabase(_M);return new Uo(t).toPromise()}function h_(){let t=indexedDB.open(_M,L4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(hf,{keyPath:wM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),yield V4(),e(yield h_()))}))})}function VA(t,e,n){return _(this,null,function*(){let r=gf(t,!0).put({[wM]:e,value:n});return new Uo(r).toPromise()})}function U4(t,e){return _(this,null,function*(){let n=gf(t,!1).get(e),r=yield new Uo(n).toPromise();return r===void 0?null:r.value})}function UA(t,e){let n=gf(t,!0).delete(e);return new Uo(n).toPromise()}var j4=800,B4=3,$4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield h_(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>B4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return vM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=P4._getInstance(F4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield O4(),!this.activeServiceWorker)return;this.sender=new d_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||k4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield h_();return yield VA(n,lf,"1"),yield UA(n,lf),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>VA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>U4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>UA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=gf(o,!1).getAll();return new Uo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IM=$4;var jY=lM("rcb"),BY=new Vo(3e4,6e4);function q4(t,e){return e?Gr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var gu=class extends pu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function H4(t){return pM(t.auth,new gu(t),t.bypassAuthState)}function z4(t){let{auth:e,user:n}=t;return ie(n,e,"internal-error"),T4(n,new gu(t),t.bypassAuthState)}function G4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return ie(n,e,"internal-error"),D4(n,new gu(t),t.bypassAuthState)})}var f_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H4;case"linkViaPopup":case"linkViaRedirect":return G4;case"reauthViaPopup":case"reauthViaRedirect":return z4;default:pr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $Y=new Vo(2e3,1e4);var W4="pendingRedirect",ef=new Map,p_=class t extends f_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=ef.get(this.auth._key());if(!e){try{let r=(yield K4(this.resolver,this.auth))?yield ui(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ui(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ui(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function K4(t,e){return _(this,null,function*(){let n=J4(e),r=Y4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Q4(t,e){ef.set(t._key(),e)}function Y4(t){return Gr(t._redirectPersistence)}function J4(t){return Zh(W4,t.config.apiKey,t.name)}function X4(t,e,n=!1){return _(this,null,function*(){if(Bn(t.app))return Promise.reject(Wr(t));let r=jo(t),i=q4(r,e),s=yield new p_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Z4=10*60*1e3,m_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z4&&this.cachedEventUids.clear(),this.cachedEventUids.has(jA(e))}saveEventToCache(e){this.cachedEventUids.add(jA(e)),this.lastProcessedEventTime=Date.now()}};function jA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(t);default:return!1}}function tq(n){return _(this,arguments,function*(t,e={}){return Hi(t,"GET","/v1/projects",e)})}var nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rq=/^https?/;function iq(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tq(t);for(let n of e)try{if(oq(n))return}catch{}pr(t,"unauthorized-domain")})}function oq(t){let e=Zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!rq.test(n))return!1;if(nq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var sq=new Vo(3e4,6e4);function BA(){let t=fr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aq(t){return new Promise((e,n)=>{var r,i,o;function s(){BA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BA(),n(Lo(t,"network-request-failed"))},timeout:sq.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fr().gapi)===null||o===void 0)&&o.load)s();else{let a=lM("iframefcb");return fr()[a]=()=>{gapi.load?s():n(Lo(t,"network-request-failed"))},uM(`${h4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw tf=null,e})}var tf=null;function cq(t){return tf=tf||aq(t),tf}var uq=new Vo(5e3,15e3),lq="__/auth/iframe",dq="emulator/auth/iframe",hq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pq(t){let e=t.config;ie(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?__(e,dq):`https://${t.config.authDomain}/${lq}`,r={apiKey:e.apiKey,appName:t.name,v:hr},i=fq.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${au(r).slice(1)}`}function mq(t){return _(this,null,function*(){let e=yield cq(t),n=fr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:pq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hq,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Lo(t,"network-request-failed"),a=fr().setTimeout(()=>{o(s)},uq.get());function u(){fr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var gq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yq=500,vq=600,_q="_blank",wq="http://localhost",ff=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Iq(t,e,n,r=yq,i=vq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},gq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();n&&(a=nM(l)?_q:n),eM(l)&&(e=e||wq,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,A])=>`${g}${v}=${A},`,"");if(s4(l)&&a!=="_self")return Eq(e||"",a),new ff(null);let p=window.open(e||"",a,h);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new ff(p)}function Eq(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bq="__/auth/handler",Cq="emulator/auth/handler",Dq=encodeURIComponent("fac");function $A(t,e,n,r,i,o){return _(this,null,function*(){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hr,eventId:i};if(e instanceof uf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",hA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof u_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Dq}=${encodeURIComponent(u)}`:"";return`${Tq(t)}?${au(a).slice(1)}${l}`})}function Tq({config:t}){return t.emulator?__(t,Cq):`https://${t.authDomain}/${bq}`}var Xv="webStorageSupport",g_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=X4,this._overrideRedirectResult=Q4}_openPopup(e,n,r,i){return _(this,null,function*(){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $A(e,n,r,Zv(),i);return Iq(e,s,yM())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield $A(e,n,r,Zv(),i);return N4(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield mq(e),r=new m_(e);return n.register("authEvent",i=>(ie(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xv,{type:Xv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Xv];s!==void 0&&n(!!s),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||tM()||b_()}},bM=g_;var qA="@firebase/auth",HA="1.7.8";var y_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Sq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aq(t){dr(new rn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cM(t)},l=new s_(r,i,o,u);return m4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new rn("auth-internal",e=>{let n=jo(e.getProvider("auth").getImmediate());return(r=>new y_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(qA,HA,Sq(t)),We(qA,HA,"esm2017")}var Mq=5*60,Rq=xv("authIdTokenMaxAge")||Mq,zA=null,xq=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rq)return;let i=n?.token;zA!==i&&(zA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function P_(t=Vi()){let e=Oo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=C_(t,{popupRedirectResolver:bM,persistence:[IM,gM,x_]}),r=xv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=xq(o.toString());M_(n,s,()=>s(n.currentUser)),vu(n,a=>s(a))}}let i=Mv("auth");return i&&D_(n,`http://${i}`),n}function Pq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Lo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Pq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aq("Browser");function DM(t){return new te(function(e){var n=mf(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}function TM(t){return new te(function(e){var n=vu(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var SM="auth",Kr=class{constructor(e){return e}},Bo=class{constructor(){return Fo(SM)}};var N_=new W("angularfire2.auth-instances");function w3(t,e){let n=ia(SM,t,e);return n&&new Kr(n)}function I3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kr(r)}}var E3={provide:Bo,deps:[[new rt,N_]]},b3={provide:Kr,useFactory:w3,deps:[[new rt,N_],$n]};function AM(t,...e){return We("angularfire",qr.full,"auth"),Xt([b3,E3,{provide:N_,useFactory:I3(t),multi:!0,deps:[Ie,Tt,ji,Hr,[new rt,Ui],...e]}])}var MM=et(DM,!0),RM=et(TM,!0);var xM=et(S_,!0);var PM=et(P_,!0);var NM=et(A_,!0);var OM=et(R_,!0);var Sn=(()=>{class t{constructor(){this.auth=k(Kr),this.isAdminSubject=new gt(!1),this.isAdmin$=this.isAdminSubject.asObservable(),this.user$=RM(this.auth),this.currentUser=Di(void 0),this.isLoggedIn$=this.user$.pipe(Q(n=>!!n)),this.user$.subscribe(n=>this.checkAdminStatus(n?.email)),this.user$.subscribe(n=>{this.currentUser.set(n??void 0)})}login(n,r){return _(this,null,function*(){yield NM(this.auth,n,r)})}register(n,r){return _(this,null,function*(){yield xM(this.auth,n,r)})}logout(){return _(this,null,function*(){yield OM(this.auth)})}checkAdminStatus(n){this.isAdminSubject.next(n?.toLowerCase()==="admin@admin.com")}getCurrentUser(){return this.auth.currentUser}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function D3(t,e){t&1&&(C(0,"div"),x(1,"Email \xE9 obrigat\xF3rio."),T())}function T3(t,e){t&1&&(C(0,"div"),x(1,"Email inv\xE1lido."),T())}function S3(t,e){if(t&1&&(C(0,"div",10),le(1,D3,2,0,"div",11)(2,T3,2,0,"div",11),T()),t&2){let n=Ne();F(),H("ngIf",n.f.email.errors==null?null:n.f.email.errors.required),F(),H("ngIf",n.f.email.errors==null?null:n.f.email.errors.email)}}function A3(t,e){t&1&&(C(0,"div"),x(1,"Senha \xE9 obrigat\xF3ria."),T())}function M3(t,e){t&1&&(C(0,"div"),x(1,"A senha deve ter pelo menos 6 caracteres."),T())}function R3(t,e){if(t&1&&(C(0,"div",10),le(1,A3,2,0,"div",11)(2,M3,2,0,"div",11),T()),t&2){let n=Ne();F(),H("ngIf",n.f.password.errors==null?null:n.f.password.errors.required),F(),H("ngIf",n.f.password.errors==null?null:n.f.password.errors.minlength)}}var yf=(()=>{class t{constructor(n,r,i){this.authService=n,this.formBuilder=r,this.router=i,this.loginForm=this.formBuilder.group({email:["",[Fe.required,Fe.email]],password:["",[Fe.required,Fe.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}onSubmit(){this.loginForm.invalid||this.authService.login(this.f.email.value,this.f.password.value).then(()=>{this.authService.isAdmin$.pipe(Ht(1)).subscribe(n=>{n?this.router.navigate(["/admin"]):this.router.navigate(["/index/games"])})}).catch(n=>console.error("Erro no login",n))}static{this.\u0275fac=function(r){return new(r||t)(L(Sn),L(cr),L(dt))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-login"]],standalone:!0,features:[be],decls:20,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","required",""],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","required",""],["type","submit",3,"disabled"],["routerLink","/register"],[1,"error-message"],[4,"ngIf"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h2"),x(2,"Login"),T(),C(3,"form",1),de("ngSubmit",function(){return i.onSubmit()}),C(4,"div",2)(5,"label",3),x(6,"Email"),T(),se(7,"input",4),le(8,S3,3,2,"div",5),T(),C(9,"div",2)(10,"label",6),x(11,"Senha"),T(),se(12,"input",7),le(13,R3,3,2,"div",5),T(),C(14,"button",8),x(15,"Entrar"),T()(),C(16,"p"),x(17,"N\xE3o tem uma conta? "),C(18,"a",9),x(19,"Cadastre-se"),T()()()),r&2&&(F(3),H("formGroup",i.loginForm),F(5),H("ngIf",i.f.email.touched&&i.f.email.invalid),F(5),H("ngIf",i.f.password.touched&&i.f.password.invalid),F(),H("disabled",i.loginForm.invalid))},dependencies:[Ye,Lt,ur,ar,Dn,or,sr,jr,Tn,jn],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background-color:#1e1e1e;border-radius:8px;box-shadow:0 4px 6px #0000001a}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1db954;text-align:center;margin-bottom:1.5rem}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#b3b3b3}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #333;border-radius:4px;background-color:#2a2a2a;color:#fff;font-size:1rem}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.875rem;margin-top:.25rem}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#1db954;color:#121212;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1ed760}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#333;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;color:#b3b3b3}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1db954;text-decoration:none}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return t})();function x3(t,e){t&1&&(C(0,"div"),x(1,"Email \xE9 obrigat\xF3rio."),T())}function P3(t,e){t&1&&(C(0,"div"),x(1,"Email inv\xE1lido."),T())}function N3(t,e){if(t&1&&(C(0,"div",12),le(1,x3,2,0,"div",13)(2,P3,2,0,"div",13),T()),t&2){let n=Ne();F(),H("ngIf",n.f.email.errors==null?null:n.f.email.errors.required),F(),H("ngIf",n.f.email.errors==null?null:n.f.email.errors.email)}}function O3(t,e){t&1&&(C(0,"div"),x(1,"Senha \xE9 obrigat\xF3ria."),T())}function k3(t,e){t&1&&(C(0,"div"),x(1,"A senha deve ter pelo menos 6 caracteres."),T())}function F3(t,e){if(t&1&&(C(0,"div",12),le(1,O3,2,0,"div",13)(2,k3,2,0,"div",13),T()),t&2){let n=Ne();F(),H("ngIf",n.f.password.errors==null?null:n.f.password.errors.required),F(),H("ngIf",n.f.password.errors==null?null:n.f.password.errors.minlength)}}function L3(t,e){t&1&&(C(0,"div"),x(1,"Confirma\xE7\xE3o de senha \xE9 obrigat\xF3ria."),T())}function V3(t,e){t&1&&(C(0,"div"),x(1,"As senhas n\xE3o coincidem."),T())}function U3(t,e){if(t&1&&(C(0,"div",12),le(1,L3,2,0,"div",13)(2,V3,2,0,"div",13),T()),t&2){let n=Ne();F(),H("ngIf",n.f.confirmPassword.errors==null?null:n.f.confirmPassword.errors.required),F(),H("ngIf",n.registerForm.hasError("passwordMismatch"))}}var O_=(()=>{class t{constructor(n,r,i){this.authService=n,this.formBuilder=r,this.router=i,this.registerForm=this.formBuilder.group({email:["",[Fe.required,Fe.email]],password:["",[Fe.required,Fe.minLength(6)]],confirmPassword:["",[Fe.required]]},{validators:this.passwordMatchValidator})}ngOnInit(){}get f(){return this.registerForm.controls}passwordMatchValidator(n){let r=n.get("password"),i=n.get("confirmPassword");return r&&i&&r.value!==i.value?{passwordMismatch:!0}:null}onSubmit(){this.registerForm.invalid||this.authService.register(this.f.email.value,this.f.password.value).then(()=>{console.log("Registro bem-sucedido"),this.router.navigate(["/home"])}).catch(n=>console.error("Erro no registro",n))}static{this.\u0275fac=function(r){return new(r||t)(L(Sn),L(cr),L(dt))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-register"]],standalone:!0,features:[be],decls:25,vars:5,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","required",""],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","required",""],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","required",""],["type","submit",3,"disabled"],["routerLink","/login"],[1,"error-message"],[4,"ngIf"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h2"),x(2,"Cadastro"),T(),C(3,"form",1),de("ngSubmit",function(){return i.onSubmit()}),C(4,"div",2)(5,"label",3),x(6,"Email"),T(),se(7,"input",4),le(8,N3,3,2,"div",5),T(),C(9,"div",2)(10,"label",6),x(11,"Senha"),T(),se(12,"input",7),le(13,F3,3,2,"div",5),T(),C(14,"div",2)(15,"label",8),x(16,"Confirmar Senha"),T(),se(17,"input",9),le(18,U3,3,2,"div",5),T(),C(19,"button",10),x(20,"Cadastrar"),T()(),C(21,"p"),x(22,"J\xE1 tem uma conta? "),C(23,"a",11),x(24,"Fa\xE7a login"),T()()()),r&2&&(F(3),H("formGroup",i.registerForm),F(5),H("ngIf",i.f.email.touched&&i.f.email.invalid),F(5),H("ngIf",i.f.password.touched&&i.f.password.invalid),F(5),H("ngIf",i.f.confirmPassword.touched&&(i.f.confirmPassword.invalid||i.registerForm.hasError("passwordMismatch"))),F(),H("disabled",i.registerForm.invalid))},dependencies:[Ye,Lt,ur,ar,Dn,or,sr,jr,Tn,jn],styles:[".register-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background-color:#1e1e1e;border-radius:8px;box-shadow:0 4px 6px #0000001a}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1db954;text-align:center;margin-bottom:1.5rem}.register-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.register-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#b3b3b3}.register-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #333;border-radius:4px;background-color:#2a2a2a;color:#fff;font-size:1rem}.register-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.register-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.875rem;margin-top:.25rem}.register-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#1db954;color:#121212;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.register-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1ed760}.register-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#333;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;color:#b3b3b3}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1db954;text-decoration:none}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return t})();var kM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FM={};var zi,k_;(function(){var t;function e(b,y){function w(){}w.prototype=y.prototype,b.D=y.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(E,D,M){for(var I=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)I[Er-2]=arguments[Er];return y.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,y,w){w||(w=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(D=0;16>D;++D)E[D]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=b.g[0],w=b.g[1],D=b.g[2];var M=b.g[3],I=y+(M^w&(D^M))+E[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=M+(D^y&(w^D))+E[1]+3905402710&4294967295,M=y+(I<<12&4294967295|I>>>20),I=D+(w^M&(y^w))+E[2]+606105819&4294967295,D=M+(I<<17&4294967295|I>>>15),I=w+(y^D&(M^y))+E[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=y+(M^w&(D^M))+E[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=M+(D^y&(w^D))+E[5]+1200080426&4294967295,M=y+(I<<12&4294967295|I>>>20),I=D+(w^M&(y^w))+E[6]+2821735955&4294967295,D=M+(I<<17&4294967295|I>>>15),I=w+(y^D&(M^y))+E[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=y+(M^w&(D^M))+E[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=M+(D^y&(w^D))+E[9]+2336552879&4294967295,M=y+(I<<12&4294967295|I>>>20),I=D+(w^M&(y^w))+E[10]+4294925233&4294967295,D=M+(I<<17&4294967295|I>>>15),I=w+(y^D&(M^y))+E[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=y+(M^w&(D^M))+E[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=M+(D^y&(w^D))+E[13]+4254626195&4294967295,M=y+(I<<12&4294967295|I>>>20),I=D+(w^M&(y^w))+E[14]+2792965006&4294967295,D=M+(I<<17&4294967295|I>>>15),I=w+(y^D&(M^y))+E[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=y+(D^M&(w^D))+E[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=M+(w^D&(y^w))+E[6]+3225465664&4294967295,M=y+(I<<9&4294967295|I>>>23),I=D+(y^w&(M^y))+E[11]+643717713&4294967295,D=M+(I<<14&4294967295|I>>>18),I=w+(M^y&(D^M))+E[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=y+(D^M&(w^D))+E[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=M+(w^D&(y^w))+E[10]+38016083&4294967295,M=y+(I<<9&4294967295|I>>>23),I=D+(y^w&(M^y))+E[15]+3634488961&4294967295,D=M+(I<<14&4294967295|I>>>18),I=w+(M^y&(D^M))+E[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=y+(D^M&(w^D))+E[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=M+(w^D&(y^w))+E[14]+3275163606&4294967295,M=y+(I<<9&4294967295|I>>>23),I=D+(y^w&(M^y))+E[3]+4107603335&4294967295,D=M+(I<<14&4294967295|I>>>18),I=w+(M^y&(D^M))+E[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=y+(D^M&(w^D))+E[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=M+(w^D&(y^w))+E[2]+4243563512&4294967295,M=y+(I<<9&4294967295|I>>>23),I=D+(y^w&(M^y))+E[7]+1735328473&4294967295,D=M+(I<<14&4294967295|I>>>18),I=w+(M^y&(D^M))+E[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=y+(w^D^M)+E[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=M+(y^w^D)+E[8]+2272392833&4294967295,M=y+(I<<11&4294967295|I>>>21),I=D+(M^y^w)+E[11]+1839030562&4294967295,D=M+(I<<16&4294967295|I>>>16),I=w+(D^M^y)+E[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=y+(w^D^M)+E[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=M+(y^w^D)+E[4]+1272893353&4294967295,M=y+(I<<11&4294967295|I>>>21),I=D+(M^y^w)+E[7]+4139469664&4294967295,D=M+(I<<16&4294967295|I>>>16),I=w+(D^M^y)+E[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=y+(w^D^M)+E[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=M+(y^w^D)+E[0]+3936430074&4294967295,M=y+(I<<11&4294967295|I>>>21),I=D+(M^y^w)+E[3]+3572445317&4294967295,D=M+(I<<16&4294967295|I>>>16),I=w+(D^M^y)+E[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=y+(w^D^M)+E[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=M+(y^w^D)+E[12]+3873151461&4294967295,M=y+(I<<11&4294967295|I>>>21),I=D+(M^y^w)+E[15]+530742520&4294967295,D=M+(I<<16&4294967295|I>>>16),I=w+(D^M^y)+E[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=y+(D^(w|~M))+E[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=M+(w^(y|~D))+E[7]+1126891415&4294967295,M=y+(I<<10&4294967295|I>>>22),I=D+(y^(M|~w))+E[14]+2878612391&4294967295,D=M+(I<<15&4294967295|I>>>17),I=w+(M^(D|~y))+E[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=y+(D^(w|~M))+E[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=M+(w^(y|~D))+E[3]+2399980690&4294967295,M=y+(I<<10&4294967295|I>>>22),I=D+(y^(M|~w))+E[10]+4293915773&4294967295,D=M+(I<<15&4294967295|I>>>17),I=w+(M^(D|~y))+E[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=y+(D^(w|~M))+E[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=M+(w^(y|~D))+E[15]+4264355552&4294967295,M=y+(I<<10&4294967295|I>>>22),I=D+(y^(M|~w))+E[6]+2734768916&4294967295,D=M+(I<<15&4294967295|I>>>17),I=w+(M^(D|~y))+E[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=y+(D^(w|~M))+E[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=M+(w^(y|~D))+E[11]+3174756917&4294967295,M=y+(I<<10&4294967295|I>>>22),I=D+(y^(M|~w))+E[2]+718787259&4294967295,D=M+(I<<15&4294967295|I>>>17),I=w+(M^(D|~y))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+y&4294967295,b.g[1]=b.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,y){y===void 0&&(y=b.length);for(var w=y-this.blockSize,E=this.B,D=this.h,M=0;M<y;){if(D==0)for(;M<=w;)i(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<y;)if(E[D++]=b.charCodeAt(M++),D==this.blockSize){i(this,E),D=0;break}}else for(;M<y;)if(E[D++]=b[M++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var y=1;y<b.length-8;++y)b[y]=0;var w=8*this.o;for(y=b.length-8;y<b.length;++y)b[y]=w&255,w/=256;for(this.u(b),b=Array(16),y=w=0;4>y;++y)for(var E=0;32>E;E+=8)b[w++]=this.g[y]>>>E&255;return b};function o(b,y){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=y(b)}function s(b,y){this.h=y;for(var w=[],E=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;E&&M==y||(w[D]=M,E=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(y){return new s([y|0],0>y?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var y=[],w=1,E=0;b>=w;E++)y[E]=b/w|0,w*=4294967296;return new s(y,0)}function h(b,y){if(b.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b.charAt(0)=="-")return R(h(b.substring(1),y));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),E=p,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),I=parseInt(b.substring(D,D+M),y);8>M?(M=l(Math.pow(y,M)),E=E.j(M).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),g=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var b=0,y=1,w=0;w<this.g.length;w++){var E=this.i(w);b+=(0<=E?E:4294967296+E)*y,y*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(N(this))return"-"+R(this).toString(b);for(var y=l(Math.pow(b,6)),w=this,E="";;){var D=X(w,y).g;w=V(w,D.j(y));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=D,A(w))return M+E;for(;6>M.length;)M="0"+M;E=M+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var y=0;y<b.g.length;y++)if(b.g[y]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=V(this,b),N(b)?-1:A(b)?0:1};function R(b){for(var y=b.g.length,w=[],E=0;E<y;E++)w[E]=~b.g[E];return new s(w,~b.h).add(g)}t.abs=function(){return N(this)?R(this):this},t.add=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],E=0,D=0;D<=y;D++){var M=E+(this.i(D)&65535)+(b.i(D)&65535),I=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);E=I>>>16,M&=65535,I&=65535,w[D]=I<<16|M}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(b,y){return b.add(R(y))}t.j=function(b){if(A(this)||A(b))return p;if(N(this))return N(b)?R(this).j(R(b)):R(R(this).j(b));if(N(b))return R(this.j(R(b)));if(0>this.l(v)&&0>b.l(v))return l(this.m()*b.m());for(var y=this.g.length+b.g.length,w=[],E=0;E<2*y;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<b.g.length;D++){var M=this.i(E)>>>16,I=this.i(E)&65535,Er=b.i(D)>>>16,Fa=b.i(D)&65535;w[2*E+2*D]+=I*Fa,J(w,2*E+2*D),w[2*E+2*D+1]+=M*Fa,J(w,2*E+2*D+1),w[2*E+2*D+1]+=I*Er,J(w,2*E+2*D+1),w[2*E+2*D+2]+=M*Er,J(w,2*E+2*D+2)}for(E=0;E<y;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=y;E<2*y;E++)w[E]=0;return new s(w,0)};function J(b,y){for(;(b[y]&65535)!=b[y];)b[y+1]+=b[y]>>>16,b[y]&=65535,y++}function $(b,y){this.g=b,this.h=y}function X(b,y){if(A(y))throw Error("division by zero");if(A(b))return new $(p,p);if(N(b))return y=X(R(b),y),new $(R(y.g),R(y.h));if(N(y))return y=X(b,R(y)),new $(R(y.g),y.h);if(30<b.g.length){if(N(b)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,E=y;0>=E.l(b);)w=Se(w),E=Se(E);var D=ne(w,1),M=ne(E,1);for(E=ne(E,2),w=ne(w,2);!A(E);){var I=M.add(E);0>=I.l(b)&&(D=D.add(w),M=I),E=ne(E,1),w=ne(w,1)}return y=V(b,D.j(y)),new $(D,y)}for(D=p;0<=b.l(y);){for(w=Math.max(1,Math.floor(b.m()/y.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),M=l(w),I=M.j(y);N(I)||0<I.l(b);)w-=E,M=l(w),I=M.j(y);A(M)&&(M=g),D=D.add(M),b=V(b,I)}return new $(D,b)}t.A=function(b){return X(this,b).h},t.and=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],E=0;E<y;E++)w[E]=this.i(E)&b.i(E);return new s(w,this.h&b.h)},t.or=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],E=0;E<y;E++)w[E]=this.i(E)|b.i(E);return new s(w,this.h|b.h)},t.xor=function(b){for(var y=Math.max(this.g.length,b.g.length),w=[],E=0;E<y;E++)w[E]=this.i(E)^b.i(E);return new s(w,this.h^b.h)};function Se(b){for(var y=b.g.length+1,w=[],E=0;E<y;E++)w[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(w,b.h)}function ne(b,y){var w=y>>5;y%=32;for(var E=b.g.length-w,D=[],M=0;M<E;M++)D[M]=0<y?b.i(M+w)>>>y|b.i(M+w+1)<<32-y:b.i(M+w);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k_=FM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,zi=FM.Integer=s}).apply(typeof kM<"u"?kM:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr={};var F_,L_,ca,V_,_u,_f,U_,j_,B_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,P){for(var B=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)B[Le-2]=arguments[Le];return d.prototype[S].apply(m,B)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let S=c.length||0,P=m.length||0;c.length=S+P;for(let B=0;B<P;B++)c[S+B]=m[B]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Se=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let P=0;P<w.length;P++)f=w[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function I(){var c=dp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Er{constructor(){this.h=this.g=null}add(d,f){let m=Fa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Fa=new V(()=>new bP,c=>c.reset());class bP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let La,Va=!1,dp=new Er,lE=()=>{let c=a.Promise.resolve(void 0);La=()=>{c.then(CP)}};var CP=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){M(f)}var d=Fa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Va=!1};function oi(){this.s=this.s,this.C=this.C}oi.prototype.s=!1,oi.prototype.ma=function(){this.s||(this.s=!0,this.N())},oi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var DP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ua(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Se){e:{try{X(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:TP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ua.aa.h.call(this)}}A(Ua,At);var TP={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),SP=0;function AP(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++SP,this.da=this.fa=!1}function Hu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zu(c){this.src=c,this.g={},this.h=0}zu.prototype.add=function(c,d,f,m,S){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var B=fp(c,d,m,S);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new AP(d,this.src,P,!!m,S),d.fa=f,c.push(d)),d};function hp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=S)&&Array.prototype.splice.call(m,S,1),P&&(Hu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function fp(c,d,f,m){for(var S=0;S<c.length;++S){var P=c[S];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return S}return-1}var pp="closure_lm_"+(1e6*Math.random()|0),mp={};function dE(c,d,f,m,S){if(m&&m.once)return fE(c,d,f,m,S);if(Array.isArray(d)){for(var P=0;P<d.length;P++)dE(c,d[P],f,m,S);return null}return f=_p(f),c&&c[ja]?c.K(d,f,l(m)?!!m.capture:!!m,S):hE(c,d,f,!1,m,S)}function hE(c,d,f,m,S,P){if(!d)throw Error("Invalid event type");var B=l(S)?!!S.capture:!!S,Le=yp(c);if(Le||(c[pp]=Le=new zu(c)),f=Le.add(d,f,m,B,P),f.proxy)return f;if(m=MP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)DP||(S=B),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(mE(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function MP(){function c(f){return d.call(c.src,c.listener,f)}let d=RP;return c}function fE(c,d,f,m,S){if(Array.isArray(d)){for(var P=0;P<d.length;P++)fE(c,d[P],f,m,S);return null}return f=_p(f),c&&c[ja]?c.L(d,f,l(m)?!!m.capture:!!m,S):hE(c,d,f,!0,m,S)}function pE(c,d,f,m,S){if(Array.isArray(d))for(var P=0;P<d.length;P++)pE(c,d[P],f,m,S);else m=l(m)?!!m.capture:!!m,f=_p(f),c&&c[ja]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=fp(P,f,m,S),-1<f&&(Hu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=yp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=fp(d,f,m,S)),(f=-1<c?d[c]:null)&&gp(f))}function gp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ja])hp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(mE(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=yp(d))?(hp(f,c),f.h==0&&(f.src=null,d[pp]=null)):Hu(c)}}}function mE(c){return c in mp?mp[c]:mp[c]="on"+c}function RP(c,d){if(c.da)c=!0;else{d=new Ua(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&gp(c),c=f.call(m,d)}return c}function yp(c){return c=c[pp],c instanceof zu?c:null}var vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(c){return typeof c=="function"?c:(c[vp]||(c[vp]=function(d){return c.handleEvent(d)}),c[vp])}function Mt(){oi.call(this),this.i=new zu(this),this.M=this,this.F=null}A(Mt,oi),Mt.prototype[ja]=!0,Mt.prototype.removeEventListener=function(c,d,f,m){pE(this,c,d,f,m)};function Bt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var S=d;d=new At(m,c),E(d,S)}if(S=!0,f)for(var P=f.length-1;0<=P;P--){var B=d.g=f[P];S=Gu(B,m,!0,d)&&S}if(B=d.g=c,S=Gu(B,m,!0,d)&&S,S=Gu(B,m,!1,d)&&S,f)for(P=0;P<f.length;P++)B=d.g=f[P],S=Gu(B,m,!1,d)&&S}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Hu(f[m]);delete c.g[d],c.h--}}this.F=null},Mt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Mt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Gu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,P=0;P<d.length;++P){var B=d[P];if(B&&!B.da&&B.capture==f){var Le=B.listener,bt=B.ha||B.src;B.fa&&hp(c.i,B),S=Le.call(bt,m)!==!1&&S}}return S&&!m.defaultPrevented}function gE(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function yE(c){c.g=gE(()=>{c.g=null,c.i&&(c.i=!1,yE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class xP extends oi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(c){oi.call(this),this.h=c,this.g={}}A(Ba,oi);var vE=[];function _E(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&gp(d)},c),c.g={}}Ba.prototype.N=function(){Ba.aa.N.call(this),_E(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,PP=a.JSON.parse,NP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ip(){}Ip.prototype.h=null;function wE(c){return c.h||(c.h=c.i())}function IE(){}var $a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ep(){At.call(this,"d")}A(Ep,At);function bp(){At.call(this,"c")}A(bp,At);var Zi={},EE=null;function Wu(){return EE=EE||new Mt}Zi.La="serverreachability";function bE(c){At.call(this,Zi.La,c)}A(bE,At);function qa(c){let d=Wu();Bt(d,new bE(d))}Zi.STAT_EVENT="statevent";function CE(c,d){At.call(this,Zi.STAT_EVENT,c),this.stat=d}A(CE,At);function $t(c){let d=Wu();Bt(d,new CE(d,c))}Zi.Ma="timingevent";function DE(c,d){At.call(this,Zi.Ma,c),this.size=d}A(DE,At);function Ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function za(){this.g=!0}za.prototype.xa=function(){this.g=!1};function OP(c,d,f,m,S,P){c.info(function(){if(c.g)if(P)for(var B="",Le=P.split("&"),bt=0;bt<Le.length;bt++){var Ae=Le[bt].split("=");if(1<Ae.length){var Rt=Ae[0];Ae=Ae[1];var xt=Rt.split("_");B=2<=xt.length&&xt[1]=="type"?B+(Rt+"="+Ae+"&"):B+(Rt+"=redacted&")}}else B=null;else B=P;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+B})}function kP(c,d,f,m,S,P,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+P+" "+B})}function es(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+LP(c,f)+(m?" "+m:"")})}function FP(c,d){c.info(function(){return"TIMEOUT: "+d})}za.prototype.info=function(){};function LP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(var B=1;B<S.length;B++)S[B]=""}}}}return wp(f)}catch{return d}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Qu(){}A(Qu,Ip),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},Cp=new Qu;function si(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SE}function SE(){this.i=null,this.g="",this.h=!1}var AE={},Dp={};function Tp(c,d,f){c.L=1,c.v=Zu(br(d)),c.m=f,c.P=!0,ME(c,null)}function ME(c,d){c.F=Date.now(),Yu(c),c.A=br(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),qE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new SE,c.g=a0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new xP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(vE[0]=S.toString()),S=vE);for(var P=0;P<S.length;P++){var B=dE(f,S[P],m||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),qa(),OP(c.i,c.u,c.A,c.l,c.R,c.m)}si.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cr(c)==3?d.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)e:{let xt=Cr(this.g);var d=this.g.Ba();let rs=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||YE(this.g)))){this.J||xt!=4||d==7||(d==8||0>=rs?qa(3):qa(2)),Sp(this);var f=this.g.Z();this.X=f;t:if(RE(this)){var m=YE(this.g);c="";var S=m.length,P=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),Ga(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,kP(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Le)){var Ae=Le;break t}}Ae=null}if(f=Ae)es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ap(this,f);else{this.o=!1,this.s=3,$t(12),eo(this),Ga(this);break e}}if(this.P){f=!0;let An;for(;!this.J&&this.C<B.length;)if(An=VP(this,B),An==Dp){xt==4&&(this.s=4,$t(14),f=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(An==AE){this.s=4,$t(15),es(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else es(this.i,this.l,An,null),Ap(this,An);if(RE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||B.length!=0||this.h.h||(this.s=1,$t(16),f=!1),this.o=this.o&&f,!f)es(this.i,this.l,B,"[Invalid Chunked Response]"),eo(this),Ga(this);else if(0<B.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Op(Rt),Rt.M=!0,$t(11))}}else es(this.i,this.l,B,null),Ap(this,B);xt==4&&eo(this),this.o&&!this.J&&(xt==4?r0(this.j,this):(this.o=!1,Yu(this)))}else tN(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),eo(this),Ga(this)}}}catch{}finally{}};function RE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Dp:(f=Number(d.substring(f,m)),isNaN(f)?AE:(m+=1,m+f>d.length?Dp:(d=d.slice(m,m+f),c.C=m+f,d)))}si.prototype.cancel=function(){this.J=!0,eo(this)};function Yu(c){c.S=Date.now()+c.I,xE(c,c.I)}function xE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ha(g(c.ba,c),d)}function Sp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}si.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(FP(this.i,this.A),this.L!=2&&(qa(),$t(17)),eo(this),this.s=2,Ga(this)):xE(this,this.S-c)};function Ga(c){c.j.G==0||c.J||r0(c.j,c)}function eo(c){Sp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,_E(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ap(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mp(f.h,c))){if(!c.K&&Mp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)il(f),nl(f);else break e;Np(f),$t(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ha(g(f.Za,f),6e3));if(1>=OE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else no(f,11)}else if((c.K||f.g==c)&&il(f),!J(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Ae=S[d];if(f.T=Ae[0],Ae=Ae[1],f.G==2)if(Ae[0]=="c"){f.K=Ae[1],f.ia=Ae[2];let Rt=Ae[3];Rt!=null&&(f.la=Rt,f.j.info("VER="+f.la));let xt=Ae[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));let rs=Ae[5];rs!=null&&typeof rs=="number"&&0<rs&&(m=1.5*rs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let An=c.g;if(An){let sl=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var P=m.h;P.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Rp(P,P.h),P.h=null))}if(m.D){let kp=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;kp&&(m.ya=kp,$e(m.I,m.D,kp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var B=c;if(m.qa=s0(m,m.J?m.ia:null,m.W),B.K){kE(m.h,B);var Le=B,bt=m.L;bt&&(Le.I=bt),Le.B&&(Sp(Le),Yu(Le)),m.g=B}else t0(m);0<f.i.length&&rl(f)}else Ae[0]!="stop"&&Ae[0]!="close"||no(f,7);else f.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?no(f,7):Pp(f):Ae[0]!="noop"&&f.l&&f.l.ta(Ae),f.v=0)}}qa(4)}catch{}}var UP=class{constructor(c,d){this.g=c,this.map=d}};function PE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function OE(c){return c.h?1:c.g?c.g.size:0}function Mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Rp(c,d){c.g?c.g.add(d):c.h=d}function kE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}PE.prototype.cancel=function(){if(this.i=FE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function FE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function jP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function BP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function LE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=BP(c),m=jP(c),S=m.length,P=0;P<S;P++)d.call(void 0,m[P],f&&f[P],c)}var VE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $P(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var P=c[f].substring(0,m);S=c[f].substring(m+1)}else P=c[f];d(P,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function to(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof to){this.h=c.h,Ju(this,c.j),this.o=c.o,this.g=c.g,Xu(this,c.s),this.l=c.l;var d=c.i,f=new Qa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),UE(this,f),this.m=c.m}else c&&(d=String(c).match(VE))?(this.h=!1,Ju(this,d[1]||"",!0),this.o=Wa(d[2]||""),this.g=Wa(d[3]||"",!0),Xu(this,d[4]),this.l=Wa(d[5]||"",!0),UE(this,d[6]||"",!0),this.m=Wa(d[7]||"")):(this.h=!1,this.i=new Qa(null,this.h))}to.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ka(d,jE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ka(d,jE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ka(f,f.charAt(0)=="/"?zP:HP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ka(f,WP)),c.join("")};function br(c){return new to(c)}function Ju(c,d,f){c.j=f?Wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function UE(c,d,f){d instanceof Qa?(c.i=d,KP(c.i,c.h)):(f||(d=Ka(d,GP)),c.i=new Qa(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function Zu(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ka(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,qP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jE=/[#\/\?@]/g,HP=/[#\?:]/g,zP=/[#\?]/g,GP=/[#\?@]/g,WP=/#/g;function Qa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ai(c){c.g||(c.g=new Map,c.h=0,c.i&&$P(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Qa.prototype,t.add=function(c,d){ai(this),this.i=null,c=ts(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function BE(c,d){ai(c),d=ts(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function $E(c,d){return ai(c),d=ts(c,d),c.g.has(d)}t.forEach=function(c,d){ai(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},t.na=function(){ai(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let P=0;P<S.length;P++)f.push(d[m])}return f},t.V=function(c){ai(this);let d=[];if(typeof c=="string")$E(this,c)&&(d=d.concat(this.g.get(ts(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ai(this),this.i=null,c=ts(this,c),$E(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function qE(c,d,f){BE(c,d),0<f.length&&(c.i=null,c.g.set(ts(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var S=P;B[m]!==""&&(S+="="+encodeURIComponent(String(B[m]))),c.push(S)}}return this.i=c.join("&")};function ts(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function KP(c,d){d&&!c.j&&(ai(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(BE(this,m),qE(this,S,f))},c)),c.j=d}function QP(c,d){let f=new za;if(a.Image){let m=new Image;m.onload=v(ci,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(ci,f,"TestLoadImage: error",!1,d,m),m.onabort=v(ci,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(ci,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function YP(c,d){let f=new za,m=new AbortController,S=setTimeout(()=>{m.abort(),ci(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(S),P.ok?ci(f,"TestPingServer: ok",!0,d):ci(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),ci(f,"TestPingServer: error",!1,d)})}function ci(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function JP(){this.g=new NP}function XP(c,d,f){let m=f||"";try{LE(c,function(S,P){let B=S;l(S)&&(B=wp(S)),d.push(m+P+"="+encodeURIComponent(B))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Ya(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ya,Ip),Ya.prototype.g=function(){return new el(this.l,this.j)},Ya.prototype.i=function(c){return function(){return c}}({});function el(c,d){Mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(el,Mt),t=el.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Xa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;HE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function HE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ja(this):Xa(this),this.readyState==3&&HE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Qa=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Xa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zE(c){let d="";return ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=zE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function Xe(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Xe,Mt);var ZP=/^https?$/i,eN=["POST","PUT"];t=Xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?wE(this.o):wE(Cp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){GE(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eN,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,B]of f)this.g.setRequestHeader(P,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QE(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){GE(this,P)}};function GE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,WE(c),tl(c)}function WE(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?KE(this):this.bb())},t.bb=function(){KE(this)};function KE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Cr(c)!=4||c.Z()!=2)){if(c.u&&Cr(c)==4)gE(c.Ea,0,c);else if(Bt(c,"readystatechange"),Cr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=B===0){var S=String(c.D).match(VE)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!ZP.test(S?S.toLowerCase():"")}f=m}if(f)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var P=2<Cr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",WE(c)}}finally{tl(c)}}}}function tl(c,d){if(c.g){QE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Bt(c,"ready");try{f.onreadystatechange=m}catch{}}}function QE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),PP(d)}};function YE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tN(c){let d={};c=(c.g&&2<=Cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(J(c[m]))continue;var f=D(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[S]||[];d[S]=P,P.push(f)}b(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function JE(c){this.Aa=0,this.i=[],this.j=new za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,c),this.cb=Za("retryDelaySeedMs",1e4,c),this.Wa=Za("forwardChannelMaxRetries",2,c),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new PE(c&&c.concurrentRequestLimit),this.Da=new JP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=JE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){$t(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=s0(this,null,this.W),rl(this)};function Pp(c){if(XE(c),c.G==3){var d=c.U++,f=br(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),ec(c,f),d=new si(c,c.j,d),d.L=2,d.v=Zu(br(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=a0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Yu(d)}o0(c)}function nl(c){c.g&&(Op(c),c.g.cancel(),c.g=null)}function XE(c){nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),il(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rl(c){if(!NE(c.h)&&!c.s){c.s=!0;var d=c.Ga;La||lE(),Va||(La(),Va=!0),dp.add(d,c),c.B=0}}function nN(c,d){return OE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ha(g(c.Ga,c,d),i0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new si(this,this.j,c),P=this.o;if(this.S&&(P?(P=y(P),E(P,this.S)):P=this.S),this.m!==null||this.O||(S.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=e0(this,S,d),f=br(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),ec(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(zE(P)))+"&"+d:this.m&&xp(f,this.m,P)),Rp(this.h,S),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),S.T=!0,Tp(S,f,null)):Tp(S,f,d),this.G=2}}else this.G==3&&(c?ZE(this,c):this.i.length==0||NE(this.h)||ZE(this))};function ZE(c,d){var f;d?f=d.l:f=c.U++;let m=br(c.I);$e(m,"SID",c.K),$e(m,"RID",f),$e(m,"AID",c.T),ec(c,m),c.m&&c.o&&xp(m,c.m,c.o),f=new si(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=e0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rp(c.h,f),Tp(f,m,d)}function ec(c,d){c.H&&ne(c.H,function(f,m){$e(d,m,f)}),c.l&&LE({},function(f,m){$e(d,m,f)})}function e0(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var S=c.i;let P=-1;for(;;){let B=["count="+f];P==-1?0<f?(P=S[0].g,B.push("ofs="+P)):P=0:B.push("ofs="+P);let Le=!0;for(let bt=0;bt<f;bt++){let Ae=S[bt].g,Rt=S[bt].map;if(Ae-=P,0>Ae)P=Math.max(0,S[bt].g-100),Le=!1;else try{XP(Rt,B,"req"+Ae+"_")}catch{m&&m(Rt)}}if(Le){m=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function t0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;La||lE(),Va||(La(),Va=!0),dp.add(d,c),c.v=0}}function Np(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ha(g(c.Fa,c),i0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,n0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ha(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),nl(this),n0(this))};function Op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function n0(c){c.g=new si(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=br(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),ec(c,d),c.m&&c.o&&xp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Zu(br(d)),f.m=null,f.P=!0,ME(f,c)}t.Za=function(){this.C!=null&&(this.C=null,nl(this),Np(this),$t(19))};function il(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function r0(c,d){var f=null;if(c.g==d){il(c),Op(c),c.g=null;var m=2}else if(Mp(c.h,d))f=d.D,kE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=Wu(),Bt(m,new DE(m,f)),rl(c)}else t0(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&nN(c,d)||m==2&&Np(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:no(c,5);break;case 4:no(c,10);break;case 3:no(c,6);break;default:no(c,2)}}}function i0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function no(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let S=!m;m=new to(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ju(m,"https"),Zu(m),S?QP(m.toString(),f):YP(m.toString(),f)}else $t(2);c.G=0,c.l&&c.l.sa(d),o0(c),XE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function o0(c){if(c.G=0,c.ka=[],c.l){let d=FE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function s0(c,d,f){var m=f instanceof to?br(f):new to(f);if(m.g!="")d&&(m.g=d+"."+m.g),Xu(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var P=new to(null);m&&Ju(P,m),d&&(P.g=d),S&&Xu(P,S),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&$e(m,f,d),$e(m,"VER",c.la),ec(c,m),m}function a0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new Ya({eb:f})):new Xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c0(){}t=c0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ol(){}ol.prototype.g=function(c,d){return new sn(c,d)};function sn(c,d){Mt.call(this),this.g=new JE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ns(this)}A(sn,Mt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Pp(this.g)},sn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new UP(d.Ya++,c)),d.G==3&&rl(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,Pp(this.g),delete this.g,sn.aa.N.call(this)};function u0(c){Ep.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(u0,Ep);function l0(){bp.call(this),this.status=1}A(l0,bp);function ns(c){this.g=c}A(ns,c0),ns.prototype.ua=function(){Bt(this.g,"a")},ns.prototype.ta=function(c){Bt(this.g,new u0(c))},ns.prototype.sa=function(c){Bt(this.g,new l0)},ns.prototype.ra=function(){Bt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,B_=Qr.createWebChannelTransport=function(){return new ol},j_=Qr.getStatEventTarget=function(){return Wu()},U_=Qr.Event=Zi,_f=Qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,_u=Qr.ErrorCode=Ku,TE.COMPLETE="complete",V_=Qr.EventType=TE,IE.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,ca=Qr.WebChannel=IE,L_=Qr.FetchXmlHttpFactory=Ya,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,F_=Qr.XhrIo=Xe}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});var LM="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var Aa="10.13.1";var zo=new Fi("@firebase/firestore");function wu(){return zo.logLevel}function K(t,...e){if(zo.logLevel<=ve.DEBUG){let n=e.map(SI);zo.debug(`Firestore (${Aa}): ${t}`,...n)}}function Xr(t,...e){if(zo.logLevel<=ve.ERROR){let n=e.map(SI);zo.error(`Firestore (${Aa}): ${t}`,...n)}}function ma(t,...e){if(zo.logLevel<=ve.WARN){let n=e.map(SI);zo.warn(`Firestore (${Aa}): ${t}`,...n)}}function SI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function je(t,e){t||oe()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},G_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}},W_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},K_=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Cf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Et(e)}},Q_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Y_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Q_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},J_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},X_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new J_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function j3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Df=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=j3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Re(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var St=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new St(0,0))}static max(){return new t(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Je=class t extends Tf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},B3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class t extends Tf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return B3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(Je.fromString(e))}static fromName(e){return new t(Je.fromString(e).popFirst(5))}static empty(){return new t(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Je(e.slice()))}};var Z_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Z_.UNKNOWN_ID=-1;function $3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Go(i,ee.empty(),e)}function q3(t){return new Go(t.readTime,t.key,-1)}var Go=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(he.min(),ee.empty(),-1)}static max(){return new t(he.max(),ee.empty(),-1)}};function H3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}var z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ew=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Uu(t){return _(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==z3)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var U=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function G3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ju(t){return t.name==="IndexedDbTransactionError"}var vR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ep(t){return t==null}function Tu(t){return t===0&&1/t==-1/0}function W3(t){return typeof t=="number"&&Number.isInteger(t)&&!Tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var K3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eX=[...K3,"documentOverlays"],Q3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y3=Q3,J3=[...Y3,"indexConfiguration","indexState","indexEntries"];var tX=[...J3,"globals"];function VM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _R(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tt=class t{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}},ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ut=class t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gr=class t{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ut(yn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Af("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var X3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(je(!!t),typeof t=="string"){let e=0,n=X3.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ki(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}function AI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MI(t){let e=t.mapValue.fields.__previous_value__;return AI(e)?MI(e):e}function Su(t){let e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}var tw=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Mf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AI(t)?4:IR(t)?9007199254740991:wR(t)?10:11:oe()}function wr(t,e){if(t===e)return!0;let n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Zr(i.timestampValue),a=Zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ki(i.bytesValue).isEqual(Ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ke(i.doubleValue),a=Ke(o.doubleValue);return s===a?Tu(s)===Tu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(VM(s)!==VM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!wr(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Au(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;let n=Wo(t),r=Wo(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ke(o.integerValue||o.doubleValue),u=Ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return UM(t.timestampValue,e.timestampValue);case 4:return UM(Su(t),Su(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ki(o),u=Ki(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Re(a[l],u[l]);if(h!==0)return h}return Re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Re(Ke(o.latitude),Ke(s.latitude));return a!==0?a:Re(Ke(o.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=Re(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:jM(v,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===wf.mapValue&&s===wf.mapValue)return 0;if(o===wf.mapValue)return 1;if(s===wf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Re(u[p],h[p]);if(g!==0)return g;let v=ya(a[u[p]],l[h[p]]);if(v!==0)return v}return Re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function UM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);let n=Zr(t),r=Zr(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function jM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ya(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}function va(t){return nw(t)}function nw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=nw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${nw(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function BM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rw(t){return!!t&&"integerValue"in t}function RI(t){return!!t&&"arrayValue"in t}function $M(t){return!!t&&"nullValue"in t}function qM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function wR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Eu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ma(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Eu(this.value))}};function ER(t){let e=[];return Ma(t.fields,(n,r)=>{let i=new yn([n]);if(Ef(r)){let o=ER(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new gr(e)}var Hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _a=class{constructor(e,n){this.position=e,this.inclusive=n}};function HM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ya(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}var wa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rf=class{},mt=class t extends Rf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ow(e,n,r):n==="array-contains"?new cw(e,r):n==="in"?new uw(e,r):n==="not-in"?new lw(e,r):n==="array-contains-any"?new dw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sw(e,r):new aw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ya(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zn=class t extends Rf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return bR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function bR(t){return t.op==="and"}function CR(t){return eH(t)&&bR(t)}function eH(t){for(let e of t.filters)if(e instanceof zn)return!1;return!0}function iw(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+va(t.value);if(CR(t))return t.filters.map(e=>iw(e)).join(",");{let e=t.filters.map(n=>iw(n)).join(",");return`${t.op}(${e})`}}function DR(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DR(s,i.filters[a]),!0):!1}(t,e):void oe()}function TR(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${va(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(TR).join(" ,")+"}"}(t):"Filter"}var ow=class extends mt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},sw=class extends mt{constructor(e,n){super(e,"in",n),this.keys=SR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},aw=class extends mt{constructor(e,n){super(e,"not-in",n),this.keys=SR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var cw=class extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return RI(n)&&Au(n.arrayValue,this.value)}},uw=class extends mt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}},lw=class extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Au(this.value.arrayValue,n)}},dw=class extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!RI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Au(this.value.arrayValue,r))}};var hw=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function GM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hw(t,e,n,r,i,o,s)}function xI(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.ue=n}return e.ue}function PI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zM(t.startAt,e.startAt)&&zM(t.endAt,e.endAt)}function fw(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ko=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tH(t,e,n,r,i,o,s,a){return new Ko(t,e,n,r,i,o,s,a)}function NI(t){return new Ko(t)}function WM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AR(t){return t.collectionGroup!==null}function bu(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ut(yn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new wa(o,r))}),n.has(yn.keyField().canonicalString())||e.ce.push(new wa(yn.keyField(),r))}return e.ce}function vr(t){let e=ae(t);return e.le||(e.le=nH(e,bu(t))),e.le}function nH(t,e){if(t.limitType==="F")return GM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wa(i.field,o)});let n=t.endAt?new _a(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _a(t.startAt.position,t.startAt.inclusive):null;return GM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pw(t,e){let n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mw(t,e,n){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return PI(vr(t),vr(e))&&t.limitType===e.limitType}function MR(t){return`${xI(vr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TR(i)).join(", ")}]`),ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>va(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=HM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,bu(r),i)||r.endAt&&!function(s,a,u){let l=HM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,bu(r),i))}(t,e)}function rH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RR(t){return(e,n)=>{let r=!1;for(let i of bu(t)){let o=iH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iH(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ya(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var Qi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return _R(this.inner)}size(){return this.innerSize}};var oH=new tt(ee.comparator);function ei(){return oH}var xR=new tt(ee.comparator);function Iu(...t){let e=xR;for(let n of t)e=e.insert(n.key,n);return e}function PR(t){let e=xR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $o(){return Cu()}function NR(){return Cu()}function Cu(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}var sH=new tt(ee.comparator),aH=new Ut(ee.comparator);function _e(...t){let e=aH;for(let n of t)e=e.add(n);return e}var cH=new Ut(Re);function uH(){return cH}function OI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function OR(t){return{integerValue:""+t}}function lH(t,e){return W3(e)?OR(e):OI(t,e)}var Ia=class{constructor(){this._=void 0}};function dH(t,e,n){return t instanceof Ea?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&AI(o)&&(o=MI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qo?FR(t,e):t instanceof Yo?LR(t,e):function(i,o){let s=kR(i,o),a=KM(s)+KM(i.Pe);return rw(s)&&rw(i.Pe)?OR(a):OI(i.serializer,a)}(t,e)}function hH(t,e,n){return t instanceof Qo?FR(t,e):t instanceof Yo?LR(t,e):n}function kR(t,e){return t instanceof ba?function(r){return rw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ea=class extends Ia{},Qo=class extends Ia{constructor(e){super(),this.elements=e}};function FR(t,e){let n=VR(e);for(let r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yo=class extends Ia{constructor(e){super(),this.elements=e}};function LR(t,e){let n=VR(e);for(let r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}var ba=class extends Ia{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function KM(t){return Ke(t.integerValue||t.doubleValue)}function VR(t){return RI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qo&&i instanceof Qo||r instanceof Yo&&i instanceof Yo?ga(r.elements,i.elements,wr):r instanceof ba&&i instanceof ba?wr(r.Pe,i.Pe):r instanceof Ea&&i instanceof Ea}(t.transform,e.transform)}var gw=class{constructor(e,n){this.version=e,this.transformResults=n}},Jr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ca=class{};function UR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mu(t.key,Jr.none()):new Jo(t.key,t.data,Jr.none());{let n=t.data,r=qn.empty(),i=new Ut(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ti(t.key,r,new gr(i.toArray()),Jr.none())}}function pH(t,e,n){t instanceof Jo?function(i,o,s){let a=i.value.clone(),u=YM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(i,o,s){if(!bf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=YM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(jR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof Jo?function(o,s,a,u){if(!bf(o.precondition,s))return a;let l=o.value.clone(),h=JM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(o,s,a,u){if(!bf(o.precondition,s))return a;let l=JM(o.fieldTransforms,u,s),h=s.data;return h.setAll(jR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return bf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=kR(r.transform,i||null);o!=null&&(n===null&&(n=qn.empty()),n.set(r.field,o))}return n||null}function QM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(o,s)=>fH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Jo=class extends Ca{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ti=class extends Ca{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function jR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function YM(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hH(s,a,n[i]))}return r}function JM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,dH(o,s,e))}return r}var Mu=class extends Ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yw=class extends Ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&pH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=UR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>QM(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>QM(n,r))}},_w=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return sH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var ww=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Iw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ft,Ce;function gH(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function BR(t){if(t===void 0)return Xr("GRPC error has no .code"),O.UNKNOWN;switch(t){case ft.OK:return O.OK;case ft.CANCELLED:return O.CANCELLED;case ft.UNKNOWN:return O.UNKNOWN;case ft.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ft.INTERNAL:return O.INTERNAL;case ft.UNAVAILABLE:return O.UNAVAILABLE;case ft.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ft.NOT_FOUND:return O.NOT_FOUND;case ft.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ft.ABORTED:return O.ABORTED;case ft.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ft.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(Ce=ft||(ft={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var XM=null;function yH(){return new TextEncoder}var vH=new zi([4294967295,4294967295],0);function ZM(t){let e=yH().encode(t),n=new k_;return n.update(e),new Uint8Array(n.digest())}function eR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zi([n,r],0),new zi([i,o],0)]}var Ew=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zi.fromNumber(r)));return i.compare(vH)===1&&(i=new zi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ZM(e),[r,i]=eR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=ZM(e),[r,i]=eR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},qo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(he.min(),i,new tt(Re),ei(),_e())}},Ru=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var fa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Pf=class{constructor(e,n){this.targetId=e,this.me=n}},Nf=class{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Of=class{constructor(){this.fe=0,this.ge=nR(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},bw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=tR(),this.Qe=new tt(Re)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(fw(o))if(r===0){let s=new ee(o.path);this.Ue(n,s,Hn.newNoDocument(s,he.min()))}else je(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}XM?.et(function(h,p,g,v,A){var N,R,V,J,$,X;let Se={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ne=p.unchangedNames;return ne&&(Se.bloomFilter={applied:A===0,hashCount:(N=ne?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(J=(V=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&J!==void 0?J:0,padding:(X=($=ne?.bits)===null||$===void 0?void 0:$.padding)!==null&&X!==void 0?X:0,mightContain:b=>{var y;return(y=v?.mightContain(b))!==null&&y!==void 0&&y}}),Se}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ki(r).toUint8Array()}catch(u){if(u instanceof Af)return ma("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ew(s,i,o)}catch(u){return ma(u instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&fw(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Hn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new xf(e,n,this.Qe,this.ke,r);return this.ke=ei(),this.qe=tR(),this.Qe=new tt(Re),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Of,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(Re),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Of),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function tR(){return new tt(ee.comparator)}function nR(){return new tt(ee.comparator)}var _H={asc:"ASCENDING",desc:"DESCENDING"},wH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IH={and:"AND",or:"OR"},Cw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Dw(t,e){return t.useProto3Json||ep(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EH(t,e){return kf(t,e.toTimestamp())}function _r(t){return je(!!t),he.fromTimestamp(function(n){let r=Zr(n);return new St(r.seconds,r.nanos)}(t))}function kI(t,e){return Tw(t,e).canonicalString()}function Tw(t,e){let n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qR(t){let e=Je.fromString(t);return je(KR(e)),e}function Sw(t,e){return kI(t.databaseId,e.path)}function $_(t,e){let n=qR(e);if(n.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(zR(n))}function HR(t,e){return kI(t.databaseId,e)}function bH(t){let e=qR(t);return e.length===4?Je.emptyPath():zR(e)}function Aw(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zR(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rR(t,e,n){return{name:Sw(t,e),fields:n.value.mapValue.fields}}function CH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(je(h===void 0||typeof h=="string"),jt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:BR(l.code);return new G(h,l.message||"")}(s);n=new Nf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$_(t,r.document.name),o=_r(r.document.updateTime),s=r.document.createTime?_r(r.document.createTime):he.min(),a=new qn({mapValue:{fields:r.document.fields}}),u=Hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new fa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$_(t,r.document),o=r.readTime?_r(r.readTime):he.min(),s=Hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$_(t,r.document),o=r.removedTargetIds||[];n=new fa([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Iw(i,o),a=r.targetId;n=new Pf(a,s)}}return n}function DH(t,e){let n;if(e instanceof Jo)n={update:rR(t,e.key,e.value)};else if(e instanceof Mu)n={delete:Sw(t,e.key)};else if(e instanceof ti)n={update:rR(t,e.key,e.data),updateMask:OH(e.fieldMask)};else{if(!(e instanceof yw))return oe();n={verify:Sw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ba)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:EH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function TH(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_r(i.updateTime):_r(o);return s.isEqual(he.min())&&(s=_r(o)),new gw(s,i.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[HR(t,e.path)]}}function AH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HR(t,i);let o=function(l){if(l.length!==0)return WR(zn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:la(g.field),direction:xH(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Dw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function MH(t){let e=bH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=GR(p);return g instanceof zn&&CR(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(A){return new wa(da(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,ep(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new _a(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new _a(v,g)}(n.endAt)),tH(e,i,s,o,a,"F",u,l)}function RH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=da(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=da(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=da(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=da(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>GR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function xH(t){return _H[t]}function PH(t){return wH[t]}function NH(t){return IH[t]}function la(t){return{fieldPath:t.canonicalString()}}function da(t){return yn.fromServerFormat(t.fieldPath)}function WR(t){return t instanceof mt?function(n){if(n.op==="=="){if(qM(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if($M(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qM(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if($M(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:PH(n.op),value:n.value}}}(t):t instanceof zn?function(n){let r=n.getFilters().map(i=>WR(i));return r.length===1?r[0]:{compositeFilter:{op:NH(n.op),filters:r}}}(t):oe()}function OH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xu=class t{constructor(e,n,r,i,o=he.min(),s=he.min(),a=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mw=class{constructor(e){this.ct=e}};function kH(t){let e=MH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mw(e,e.limit,"L"):e}var Ff=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ke(e.integerValue));else if("doubleValue"in e){let r=Ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Tu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ki(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?IR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):wR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ke(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ee.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ff.vt=new Ff;var Rw=class{constructor(){this.un=new xw}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Go.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}},xw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(Je.comparator)).toArray()}};var rX=new Uint8Array(0);var mr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);var Pu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Pw=class{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Nw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ow=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,gr.empty(),St.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=$o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Iu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ei(),s=Cu(),a=function(){return Cu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ti)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Du(h.mutation,l,h.mutation.getFieldMask(),St.now())):s.set(l.key,gr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Nw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Cu(),i=new tt((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||gr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=NR();h.forEach(g=>{if(!o.has(g)){let v=UR(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve($o()),a=-1,u=o;return s.next(l=>U.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:PR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,u=>{let l=function(p,g){return new Ko(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Hn.newInvalidDocument(h)))});let a=Iu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Du(h.mutation,l,gr.empty(),St.now()),np(n,l)&&(a=a.insert(u,l))}),a})}};var kw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:kH(i.bundledQuery),readTime:_r(i.readTime)}}(n)),U.resolve()}};var Fw=class{constructor(){this.overlays=new tt(ee.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){let r=$o();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){let i=$o(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new tt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=$o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=$o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ww(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Lw=class{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}};var Nu=class{constructor(){this.Tr=new Ut(pt.Er),this.dr=new Ut(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ee(new Je([])),r=new pt(n,e),i=new pt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ee(new Je([])),r=new pt(n,e),i=new pt(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ee.comparator(e.key,n.key)}};var Vw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(pt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new vw(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Re);return n.forEach(i=>{let o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new pt(new ee(o),0),a=new Ut(Re);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),U.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{let o=new pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new pt(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Uw=class{constructor(e){this.Mr=e,this.docs=function(){return new tt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=ei();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ei(),s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||H3(q3(h),r)<=0||(i.has(h.key)||np(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jw(this)}getSize(e){return U.resolve(this.size)}},jw=class extends Pw{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Bw=class{constructor(e){this.persistence=e,this.Nr=new Qi(n=>xI(n),PI),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nu,this.targetCount=0,this.kr=Pu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Pu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}};var $w=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vR(0),this.Kr=!1,this.Kr=!0,this.$r=new Lw,this.referenceDelegate=e(this),this.Ur=new Bw(this),this.indexManager=new Rw,this.remoteDocumentCache=function(i){return new Uw(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Mw(n),this.Gr=new kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Vw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);let i=new qw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},qw=class extends ew{constructor(e){super(),this.currentSequenceNumber=e}},Hw=class t{constructor(e){this.persistence=e,this.Jr=new Nu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var zw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Gw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ww=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lA()?8:G3(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Gw;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wu()<=ve.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(wu()<=ve.DEBUG&&K("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wu()<=ve.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):U.resolve())}Yi(e,n){if(WM(n))return U.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mw(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,mw(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return WM(n)||i.isEqual(he.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?U.resolve(null):(wu()<=ve.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.rs(e,s,n,$3(i,-1)).next(a=>a))})}ts(e,n){let r=new Ut(RR(e));return n.forEach((i,o)=>{np(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return wu()<=ve.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,Go.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Kw=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Re),this._s=new Qi(o=>xI(o),PI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ow(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function FH(t,e,n,r){return new Kw(t,e,n,r)}function QR(t,e){return _(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function LH(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),v=U.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(N=>{let R=l.docVersions.get(A);je(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YR(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VH(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,R,V){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=ei(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(UH(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(he.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function UH(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ei();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function jH(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BH(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new xu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Qw(t,e,n){return _(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ju(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function iR(t,e,n){let r=ae(t),i=he.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),g=p._s.get(h);return g!==void 0?U.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:_e())).next(a=>($H(r,rH(e),a),{documents:a,Ts:o})))}function $H(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Lf=class{constructor(){this.activeTargetIds=uH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yw=class{constructor(){this.so=new Lf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jw=class{_o(e){}shutdown(){}};var Vf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var If=null;function q_(){return If===null?If=function(){return 268435456+Math.round(2147483648*Math.random())}():If++,"0x"+If.toString(16)}var qH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Vt="WebChannelConnection",Zw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=q_(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ma("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=qH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=q_();return new Promise((s,a)=>{let u=new F_;u.setWithCredentials(!0),u.listenOnce(V_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _u.NO_ERROR:let h=u.getResponseJson();K(Vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case _u.TIMEOUT:K(Vt,`RPC '${e}' ${o} timed out`),a(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:let p=u.getStatus();if(K(Vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let A=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN}(v.status);a(new G(A,v.message))}else a(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{K(Vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(Vt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=q_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=B_(),a=j_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new L_({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(Vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,v=!1,A=new Xw({Io:R=>{v?K(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(K(Vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),K(Vt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,V,J)=>{R.listen(V,$=>{try{J($)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,ca.EventType.OPEN,()=>{v||(K(Vt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(p,ca.EventType.CLOSE,()=>{v||(v=!0,K(Vt,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(p,ca.EventType.ERROR,R=>{v||(v=!0,ma(Vt,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new G(O.UNAVAILABLE,"The operation could not be completed")))}),N(p,ca.EventType.MESSAGE,R=>{var V;if(!v){let J=R.data[0];je(!!J);let $=J,X=$.error||((V=$[0])===null||V===void 0?void 0:V.error);if(X){K(Vt,`RPC '${e}' stream ${i} received error:`,X);let Se=X.status,ne=function(w){let E=ft[w];if(E!==void 0)return BR(E)}(Se),b=X.message;ne===void 0&&(ne=O.INTERNAL,b="Unknown error status: "+Se+" with message "+X.message),v=!0,A.So(new G(ne,b)),p.close()}else K(Vt,`RPC '${e}' stream ${i} received:`,J),A.bo(J)}}),N(a,U_.STAT_EVENT,R=>{R.stat===_f.PROXY?K(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===_f.NOPROXY&&K(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function H_(){return typeof document<"u"?document:null}function rp(t){return new Cw(t,!0)}var Uf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var jf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},eI=class extends jf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=CH(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?_r(s.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Aw(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=fw(u)?{documents:SH(o,u)}:{query:AH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$R(o,s.resumeToken);let l=Dw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=kf(o,s.snapshotVersion.toTimestamp());let l=Dw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=RH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Aw(this.serializer),n.removeTarget=e,this.a_(n)}},tI=class extends jf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=TH(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Aw(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>DH(this.serializer,r))};this.a_(n)}};var nI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Tw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Tw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},rI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Xo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ae(u);l.L_.add(4),yield Bu(l),l.q_.set("Unknown"),l.L_.delete(4),yield ip(l)})}(this))}))}),this.q_=new rI(r,i)}};function ip(t){return _(this,null,function*(){if(Xo(t))for(let e of t.B_)yield e(!0)})}function Bu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function JR(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),UI(n)?VI(n):Ra(n).r_()&&LI(n,e))}function FI(t,e){let n=ae(t),r=Ra(n);n.N_.delete(e),r.r_()&&XR(n,e),n.N_.size===0&&(r.r_()?r.o_():Xo(n)&&n.q_.set("Unknown"))}function LI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).A_(e)}function XR(t,e){t.Q_.xe(e),Ra(t).R_(e)}function VI(t){t.Q_=new bw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.q_.v_()}function UI(t){return Xo(t)&&!Ra(t).n_()&&t.N_.size>0}function Xo(t){return ae(t).L_.size===0}function ZR(t){t.Q_=void 0}function HH(t){return _(this,null,function*(){t.q_.set("Online")})}function zH(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{LI(t,e)})})}function GH(t,e){return _(this,null,function*(){ZR(t),UI(t)?(t.q_.M_(e),VI(t)):t.q_.set("Unknown")})}function WH(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof Nf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bf(t,r)}else if(e instanceof fa?t.Q_.Ke(e):e instanceof Pf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{let r=yield YR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),XR(o,u);let p=new xu(h.target,u,l,h.sequenceNumber);LI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Bf(t,r)}})}function Bf(t,e,n){return _(this,null,function*(){if(!ju(e))throw e;t.L_.add(1),yield Bu(t),t.q_.set("Offline"),n||(n=()=>YR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ip(t)}))})}function ex(t,e){return e().catch(n=>Bf(t,n,e))}function op(t){return _(this,null,function*(){let e=ae(t),n=Yi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KH(e);)try{let i=yield jH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QH(e,i)}catch(i){yield Bf(e,i)}tx(e)&&nx(e)})}function KH(t){return Xo(t)&&t.O_.length<10}function QH(t,e){t.O_.push(e);let n=Yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tx(t){return Xo(t)&&!Yi(t).n_()&&t.O_.length>0}function nx(t){Yi(t).start()}function YH(t){return _(this,null,function*(){Yi(t).p_()})}function JH(t){return _(this,null,function*(){let e=Yi(t);for(let n of t.O_)e.m_(n.mutations)})}function XH(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=_w.from(r,e,n);yield ex(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield op(t)})}function ZH(t,e){return _(this,null,function*(){e&&Yi(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return gH(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Yi(r).s_(),yield ex(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield op(r)}})}(t,e)),tx(t)&&nx(t)})}function oR(t,e){return _(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Xo(n);n.L_.add(3),yield Bu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ip(n)})}function ez(t,e){return _(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield ip(n)):e||(n.L_.add(2),yield Bu(n),n.q_.set("Unknown"))})}function Ra(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new eI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:HH.bind(null,t),Ro:zH.bind(null,t),mo:GH.bind(null,t),d_:WH.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),UI(t)?VI(t):t.q_.set("Unknown")):(yield t.K_.stop(),ZR(t))}))),t.K_}function Yi(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new tI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YH.bind(null,t),mo:ZH.bind(null,t),f_:JH.bind(null,t),g_:XH.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield op(t)):(yield t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var oI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jI(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),ju(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}var $f=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var qf=class{constructor(){this.W_=new tt(ee.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Da=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,$f.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var sI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},aI=class{constructor(){this.queries=sR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=sR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new G(O.ABORTED,"Firestore shutting down"))}};function sR(){return new Qi(t=>MR(t),tp)}function tz(t,e){return _(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new sI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=jI(s,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&BI(n)})}function nz(t,e){return _(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function rz(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&BI(n)}function iz(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function BI(t){t.Y_.forEach(e=>{e.next()})}var cI,aR;(aR=cI||(cI={})).ea="default",aR.Cache="cache";var uI=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cI.Cache}};var Hf=class{constructor(e){this.key=e}},zf=class{constructor(e){this.key=e}},lI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=RR(e),this.Ra=new $f(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new qf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=np(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;g&&v?g.data.isEqual(v.data)?A!==N&&(r.track({type:3,doc:v}),R=!0):this.ga(g,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),R=!0):g&&!v&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(v?(s=s.add(v),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,A){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(v)-N(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Da(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hf(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Da.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},hI=class{constructor(e){this.key=e,this.va=!1}},fI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qi(a=>MR(a),tp),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ee.comparator),this.Na=new Map,this.La=new Nu,this.Ba={},this.ka=new Map,this.qa=Pu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function oz(t,e,n=!0){return _(this,null,function*(){let r=cx(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield rx(r,e,n,!0),i})}function sz(t,e){return _(this,null,function*(){let n=cx(t);yield rx(n,e,!0,!1)})}function rx(t,e,n,r){return _(this,null,function*(){let i=yield BH(t.localStore,vr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield az(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JR(t.remoteStore,i),a})}function az(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,g,v)=>function(N,R,V,J){return _(this,null,function*(){let $=R.view.ma(V);$.ns&&($=yield iR(N.localStore,R.query,!1).then(({documents:b})=>R.view.ma(b,$)));let X=J&&J.targetChanges.get(R.targetId),Se=J&&J.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges($,N.isPrimaryClient,X,Se);return uR(N,R.targetId,ne.wa),ne.snapshot})}(t,p,g,v);let o=yield iR(t.localStore,e,!0),s=new lI(e,o.Ts),a=s.ma(o.documents),u=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);uR(t,n,l.wa);let h=new dI(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function cz(t,e,n){return _(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!tp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FI(r.remoteStore,i.targetId),pI(r,i.targetId)}).catch(Uu))):(pI(r,i.targetId),yield Qw(r.localStore,i.targetId,!0))})}function uz(t,e){return _(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FI(n.remoteStore,r.targetId))})}function lz(t,e,n){return _(this,null,function*(){let r=yz(t);try{let i=yield function(s,a){let u=ae(s),l=St.now(),h=a.reduce((v,A)=>v.add(A.key),_e()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=ei(),N=_e();return u.cs.getEntries(v,h).next(R=>{A=R,A.forEach((V,J)=>{J.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(R=>{p=R;let V=[];for(let J of a){let $=mH(J,p.get(J.key).overlayedDocument);$!=null&&V.push(new ti(J.key,$,ER($.value.mapValue),Jr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,V,a)}).next(R=>{g=R;let V=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,V)})}).then(()=>({batchId:g.batchId,changes:PR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new tt(Re)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield $u(r,i.changes),yield op(r.remoteStore)}catch(i){let o=jI(i,"Failed to persist write");n.reject(o)}})}function ix(t,e){return _(this,null,function*(){let n=ae(t);try{let r=yield VH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield $u(n,r,e)}catch(r){yield Uu(r)}})}function cR(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&BI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dz(t,e,n){return _(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new tt(ee.comparator);s=s.insert(o,Hn.newNoDocument(o,he.min()));let a=_e().add(o),u=new xf(he.min(),new Map,new tt(Re),s,a);yield ix(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),$I(r)}else yield Qw(r.localStore,e,!1).then(()=>pI(r,e,n)).catch(Uu)})}function hz(t,e){return _(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield LH(n.localStore,e);sx(n,r,null),ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $u(n,i)}catch(i){yield Uu(i)}})}function fz(t,e,n){return _(this,null,function*(){let r=ae(t);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(je(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);sx(r,e,n),ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $u(r,i)}catch(i){yield Uu(i)}})}function ox(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sx(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ax(t,r)})}function ax(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(FI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$I(t))}function uR(t,e,n){for(let r of n)r instanceof Hf?(t.La.addReference(r.key,e),pz(t,r)):r instanceof zf?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ax(t,r.key)):oe()}function pz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),$I(t))}function $I(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ee(Je.fromString(e)),r=t.qa.next();t.Na.set(r,new hI(n)),t.Oa=t.Oa.insert(n,r),JR(t.remoteStore,new xu(vr(NI(n.path)),r,"TargetPurposeLimboResolution",vR.oe))}}function $u(t,e,n){return _(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=zw.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(l,g=>U.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>U.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!ju(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),A=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,N)}}})}(r.localStore,o))})}function mz(t,e){return _(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield QR(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $u(n,r.hs)}})}function gz(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function cx(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dz.bind(null,e),e.Ca.d_=rz.bind(null,e.eventManager),e.Ca.$a=iz.bind(null,e.eventManager),e}function yz(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fz.bind(null,e),e}var Gf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FH(this.persistence,new Ww,e.initialUser,this.serializer)}createPersistence(e){return new $w(Hw.Zr,this.serializer)}createSharedClientState(e){return new Yw}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var mI=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mz.bind(null,this.syncEngine),yield ez(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new aI}()}createDatastore(e){let n=rp(e.databaseInfo.databaseId),r=function(o){return new Zw(o)}(e.databaseInfo);return function(o,s,a,u){return new nI(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new iI(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cR(this.syncEngine,n,0),function(){return Vf.D()?new Vf:new Jw}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new fI(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e,n;yield function(i){return _(this,null,function*(){let o=ae(i);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Bu(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var gI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var yI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Df.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){K("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=jI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function z_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield QR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function lR(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _z(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oR(e.remoteStore,i)),t._onlineComponents=e})}function vz(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function _z(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield z_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!vz(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),yield z_(t,new Gf)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield z_(t,new Gf);return t._offlineComponents})}function ux(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield lR(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield lR(t,new mI))),t._onlineComponents})}function wz(t){return ux(t).then(e=>e.syncEngine)}function dR(t){return _(this,null,function*(){let e=yield ux(t),n=e.eventManager;return n.onListen=oz.bind(null,e.syncEngine),n.onUnlisten=cz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uz.bind(null,e.syncEngine),n})}function lx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var hR=new Map;function dx(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Iz(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fR(t){if(!ee.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if(ee.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sp(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Wf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ta=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G_;switch(r.type){case"firstParty":return new Y_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=hR.get(n);r&&(K("ComponentProvider","Removing Datastore"),hR.delete(n),r.terminate())}(this),Promise.resolve()}};function hx(t,e,n,r={}){var i;let o=(t=Gi(t,Ta))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Et.MOCK_USER;else{a=zh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(l)}t._authCredentials=new W_(new Cf(a,u))}}var Sa=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},on=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Wi=class t extends Sa{constructor(e,n,r){super(e,n,NI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fx(t,e,...n){if(t=ht(t),dx("collection","path",e),t instanceof Ta){let r=Je.fromString(e,...n);return pR(r),new Wi(t,null,r)}{if(!(t instanceof on||t instanceof Wi))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Je.fromString(e,...n));return pR(r),new Wi(t.firestore,null,r)}}function qI(t,e,...n){if(t=ht(t),arguments.length===1&&(e=Df.newId()),dx("doc","path",e),t instanceof Ta){let r=Je.fromString(e,...n);return fR(r),new on(t,null,new ee(r))}{if(!(t instanceof on||t instanceof Wi))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Je.fromString(e,...n));return fR(r),new on(t.firestore,t instanceof Wi?t.converter:null,new ee(r))}}var vI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Uf(this,"async_queue_retry"),this.Eu=()=>{let n=H_();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=H_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=H_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Yr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return _(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ju(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=oI.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&oe()}verifyOperationInProgress(){}mu(){return _(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function mR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ji=class extends Ta{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gx(this),this._firestoreClient.terminate()}};function px(t,e){let n=typeof t=="object"?t:Vi(),r=typeof t=="string"?t:e||"(default)",i=Oo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Hh("firestore");o&&hx(i,...o)}return i}function mx(t){return t._firestoreClient||gx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gx(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new tw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ou=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(jt.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ku=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kf=class{constructor(e){this._methodName=e}};var Fu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var Lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Ez=/^__.*__$/,_I=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jo(e,this.data,n,this.fieldTransforms)}};function yx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var wI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Qf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(yx(this.wu)&&Ez.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},II=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Nu(e,n,r,i=!1){return new wI({wu:e,methodName:n,Ou:r,path:yn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HI(t){let e=t._freezeSettings(),n=rp(t._databaseId);return new II(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vx(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Ix("Data must be an object, but it was:",s,r);let a=_x(r,s),u,l;if(o.merge)u=new gr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Cz(e,p,n);if(!s.contains(g))throw new G(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Tz(h,g)||h.push(g)}u=new gr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new _I(new qn(a),u,l)}function bz(t,e,n,r=!1){return zI(n,t.Nu(r?4:3,e))}function zI(t,e){if(wx(t=ht(t)))return Ix("Unsupported field value:",e,t),_x(t,e);if(t instanceof Kf)return function(r,i){if(!yx(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=zI(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=St.fromDate(r);return{timestampValue:kf(i.serializer,o)}}if(r instanceof St){let o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(i.serializer,o)}}if(r instanceof Fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ou)return{bytesValue:$R(i.serializer,r._byteString)};if(r instanceof on){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return OI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${sp(r)}`)}(t,e)}function _x(t,e){let n={};return _R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,(r,i)=>{let o=zI(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Fu||t instanceof Ou||t instanceof on||t instanceof Kf||t instanceof Lu)}function Ix(t,e,n){if(!wx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=sp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Cz(t,e,n){if((e=ht(e))instanceof ku)return e._internalPath;if(typeof e=="string")return Ex(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Dz=new RegExp("[~\\*/\\[\\]]");function Ex(t,e,n){if(e.search(Dz)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(O.INVALID_ARGUMENT,a+t+u)}function Tz(t,e){return t.some(n=>n.isEqual(e))}var Yf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(GI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},EI=class extends Yf{data(){return super.data()}};function GI(t,e){return typeof e=="string"?Ex(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}function Sz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vu=class{},bI=class extends Vu{};function bx(t,e,...n){let r=[];e instanceof Vu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof CI).length,a=o.filter(u=>u instanceof Jf).length;if(s>1||s>0&&a>0)throw new G(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Jf=class t extends bI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Dx(e._query,n),new Sa(e.firestore,e.converter,pw(e._query,n))}_parse(e){let n=HI(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yR(p,h);let v=[];for(let A of p)v.push(gR(u,o,A));g={arrayValue:{values:v}}}else g=gR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yR(p,h),g=bz(a,s,p,h==="in"||h==="not-in");return mt.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Cx(t,e,n){let r=e,i=GI("where",t);return Jf._create(i,r,n)}var CI=class t extends Vu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Dx(s,u),s=pw(s,u)}(e._query,n),new Sa(e.firestore,e.converter,pw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function gR(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new G(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AR(e)&&n.indexOf("/")!==-1)throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Je.fromString(n));if(!ee.isDocumentKey(r))throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BM(t,new ee(r))}if(n instanceof on)return BM(t,n._key);throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(n)}.`)}function yR(t,e){if(!Array.isArray(t)||t.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dx(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var DI=class{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ma(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ke(s.doubleValue));return new Lu(o)}convertGeoPoint(e){return new Fu(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=MI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){let n=Zr(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Je.fromString(e);je(KR(r));let i=new Mf(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Tx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ho=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xf=class extends Yf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(GI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},pa=class extends Xf{data(e={}){return super.data(e)}},TI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pa(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new pa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new pa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Az(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Az(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var Zf=class extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ou(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}};function Sx(t,e,n){t=Gi(t,on);let r=Gi(t.firestore,Ji),i=Tx(t.converter,e,n);return KI(r,[vx(HI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function Ax(t){return KI(Gi(t.firestore,Ji),[new Mu(t._key,Jr.none())])}function Mx(t,e){let n=Gi(t.firestore,Ji),r=qI(t),i=Tx(t.converter,e);return KI(n,[vx(HI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function WI(t,...e){var n,r,i;t=ht(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mR(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof on)l=Gi(t.firestore,Ji),h=NI(t._key.path),u={next:p=>{e[s]&&e[s](Mz(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Gi(t,Sa);l=Gi(p.firestore,Ji),h=p._query;let g=new Zf(l);u={next:v=>{e[s]&&e[s](new TI(l,g,p,v))},error:e[s+1],complete:e[s+2]},Sz(t._query)}return function(g,v,A,N){let R=new gI(N),V=new uI(v,R,A);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return tz(yield dR(g),V)})),()=>{R.za(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return nz(yield dR(g),V)}))}}(mx(l),h,a,u)}function KI(t,e){return function(r,i){let o=new Yr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return lz(yield wz(r),i,o)})),o.promise}(mx(t),e)}function Mz(t,e,n){let r=n.docs.get(e._key),i=new Zf(t);return new Xf(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Aa=i})(hr),dr(new rn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ji(new K_(r.getProvider("auth-internal")),new X_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(LM,"4.7.1",e),We(LM,"4.7.1","esm2017")})();var ap=function(){return ap=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ap.apply(this,arguments)};var Pz={includeMetadataChanges:!1};function QI(t,e){return e===void 0&&(e=Pz),new te(function(n){var r=WI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Rx(t){return QI(t,{includeMetadataChanges:!0})}function xx(t,e){return e===void 0&&(e={}),Rx(t).pipe(Q(function(n){return YI(n,e)}))}function YI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:ap(ap({},r),(n={},n[e.idField]=t.id,n))}function Px(t){return QI(t,{includeMetadataChanges:!0}).pipe(Q(function(e){return e.docs}))}function Nx(t,e){return e===void 0&&(e={}),Px(t).pipe(Q(function(n){return n.map(function(r){return YI(r,e)})}))}var ni=class{constructor(e){return e}},Ox="firestore",JI=class{constructor(){return Fo(Ox)}};var XI=new W("angularfire2.firestore-instances");function Nz(t,e){let n=ia(Ox,t,e);return n&&new ni(n)}function Oz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ni(r)}}var kz={provide:JI,deps:[[new rt,XI]]},Fz={provide:ni,useFactory:Nz,deps:[[new rt,XI],$n]};function kx(t,...e){return We("angularfire",qr.full,"fst"),Xt([Fz,kz,{provide:XI,useFactory:Oz(t),multi:!0,deps:[Ie,Tt,ji,Hr,[new rt,Bo],[new rt,Ui],...e]}])}var cp=et(Nx,!0);var Fx=et(xx,!0);var Lx=et(Mx,!0);var xa=et(fx,!0);var Vx=et(Ax,!0);var Zo=et(qI,!0);var Ux=et(px,!0);var jx=et(bx,!0);var ZI=et(Sx,!0);var Bx=et(Cx,!0);var Pa=(()=>{class t{constructor(){this.firestore=k(ni)}getCollection(n){return cp(xa(this.firestore,n),{idField:"id"})}getDocument(n,r){return Fx(Zo(this.firestore,n,r),{idField:"id"})}createDocument(n,r,i){let o=Zo(this.firestore,n,r);return new te(s=>{ZI(o,j({},i)).then(()=>{s.next(),s.complete()}).catch(a=>s.error(a))})}generateId(n,r){let i=xa(this.firestore,n),o=r?Zo(i,r):Zo(i);return new te(s=>{s.next(o.id),s.complete()})}updateDocument(n,r,i){let o=Zo(this.firestore,n,r);return new te(s=>{ZI(o,i,{merge:!0}).then(()=>{s.next(),s.complete()}).catch(a=>s.error(a))})}deleteDocument(n,r){let i=Zo(this.firestore,n,r);return new te(o=>{Vx(i).then(()=>{o.next(),o.complete()}).catch(s=>o.error(s))})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Na=(()=>{class t{constructor(n){this.firestoreService=n,this.path="languages"}getLanguages(){return this.firestoreService.getCollection(this.path)}getLanguage(n){return this.firestoreService.getDocument(this.path,n)}createLanguage(n){return new te(r=>{this.firestoreService.generateId(this.path).subscribe(i=>{this.firestoreService.createDocument(this.path,i,ce(j({},n),{id:i})).subscribe({next:()=>{r.next(),r.complete()},error:o=>r.error(o)})})})}updateLanguage(n,r){return this.firestoreService.updateDocument(this.path,n,r)}deleteLanguage(n){return this.firestoreService.deleteDocument(this.path,n)}static{this.\u0275fac=function(r){return new(r||t)(z(Pa))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xi=(()=>{class t{constructor(){this.isSpeechEnabled=!0}speak(n){if(this.isSpeechEnabled){let r=new SpeechSynthesisUtterance(n);r.lang="pt-BR",window.speechSynthesis.speak(r)}}toggleSpeech(n){this.isSpeechEnabled=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vz(t,e){if(t&1&&(C(0,"li"),x(1),T()),t&2){let n=e.$implicit;F(),kt(n)}}function Uz(t,e){if(t&1&&(C(0,"div",3)(1,"h2"),x(2),T(),se(3,"img",4),C(4,"h3"),x(5,"Curiosidades Culturais:"),T(),C(6,"ul"),le(7,Vz,2,1,"li",5),T()()),t&2){let n=e.$implicit;F(2),kt(n.name),F(),H("src",n.flag,bi)("alt","Bandeira de "+n.name),F(4),H("ngForOf",n.culturalCuriosities)}}var Hx=(()=>{class t{constructor(n){this.accessibilityService=n,this.languageService=k(Na)}ngOnInit(){this.loadLanguages()}onButtonClick(n){this.accessibilityService.speak(n)}loadLanguages(){this.languages$=this.languageService.getLanguages()}static{this.\u0275fac=function(r){return new(r||t)(L(Xi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-language"]],standalone:!0,features:[be],decls:6,vars:3,consts:[[1,"language-catalog"],[1,"language-list"],["class","language-card",4,"ngFor","ngForOf"],[1,"language-card"],[3,"src","alt"],[4,"ngFor","ngForOf"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h1"),x(2,"Cat\xE1logo de L\xEDnguas: Curiosidades Culturais e Refer\xEAncias em Jogos"),T(),C(3,"div",1),le(4,Uz,8,4,"div",2),Ge(5,"async"),T()()),r&2&&(F(4),H("ngForOf",vt(5,1,i.languages$)))},dependencies:[Ye,tn,nn],styles:[".language-catalog[_ngcontent-%COMP%]{padding:2rem}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1db954}.language-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}.language-card[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease;padding:1.5rem}.language-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.language-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1db954;margin-top:0}.language-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:1rem}.language-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#b3b3b3;margin-top:1.5rem;margin-bottom:.5rem}.language-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem;margin-top:.5rem;color:#fff}.language-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})}}return t})();var eE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-main"]],standalone:!0,features:[be],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[Th,Ro]})}}return t})();var zx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-about"]],standalone:!0,features:[be],decls:83,vars:0,consts:[[1,"about-page"],[1,"about-header"],[1,"tagline"],[1,"mission"],[1,"how-it-works"],[1,"steps"],[1,"step"],[1,"fas","fa-gamepad"],[1,"fas","fa-language"],[1,"fas","fa-users"],[1,"fas","fa-graduation-cap"],[1,"our-team"],[1,"team-members"],[1,"member"],["src","assets/images/team-member-1.jpg","alt","Ana Silva"],["src","assets/images/team-member-2.jpg","alt","Carlos Mendes"],["src","assets/images/team-member-3.jpg","alt","L\xFAcia Santos"],[1,"testimonials"],[1,"testimonial"],[1,"contact"],[1,"contact-btn"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"header",1)(2,"h1"),x(3,"Sobre a Arcadius Language"),T(),C(4,"p",2),x(5,"Aprendendo idiomas atrav\xE9s dos jogos que voc\xEA ama"),T()(),C(6,"section",3)(7,"h2"),x(8,"Nossa Miss\xE3o"),T(),C(9,"p"),x(10,"Na Arcadius Language, acreditamos que o aprendizado de idiomas deve ser divertido, envolvente e relevante para o mundo moderno. Nossa miss\xE3o \xE9 revolucionar o ensino de l\xEDnguas combinando a paix\xE3o pelos jogos com m\xE9todos inovadores de aprendizado."),T()(),C(11,"section",4)(12,"h2"),x(13,"Como Funciona"),T(),C(14,"div",5)(15,"div",6),se(16,"i",7),C(17,"h3"),x(18,"Escolha seu Jogo"),T(),C(19,"p"),x(20,"Selecione entre uma variedade de jogos populares que se alinham com seus interesses."),T()(),C(21,"div",6),se(22,"i",8),C(23,"h3"),x(24,"Selecione o Idioma"),T(),C(25,"p"),x(26,"Escolha o idioma que deseja aprender, desde iniciante at\xE9 n\xEDveis avan\xE7ados."),T()(),C(27,"div",6),se(28,"i",9),C(29,"h3"),x(30,"Conecte-se"),T(),C(31,"p"),x(32,"Junte-se a sess\xF5es de jogo com professores nativos e outros alunos."),T()(),C(33,"div",6),se(34,"i",10),C(35,"h3"),x(36,"Aprenda Jogando"),T(),C(37,"p"),x(38,"Pratique o idioma em contextos reais enquanto se diverte jogando."),T()()()(),C(39,"section",11)(40,"h2"),x(41,"Nossa Equipe"),T(),C(42,"p"),x(43,"A Arcadius Language \xE9 formada por uma equipe diversificada de entusiastas de jogos, linguistas e educadores apaixonados por criar experi\xEAncias de aprendizado \xFAnicas."),T(),C(44,"div",12)(45,"div",13),se(46,"img",14),C(47,"h3"),x(48,"Ana Silva"),T(),C(49,"p"),x(50,"Fundadora e CEO"),T()(),C(51,"div",13),se(52,"img",15),C(53,"h3"),x(54,"Carlos Mendes"),T(),C(55,"p"),x(56,"Diretor de Conte\xFAdo Educacional"),T()(),C(57,"div",13),se(58,"img",16),C(59,"h3"),x(60,"L\xFAcia Santos"),T(),C(61,"p"),x(62,"Chefe de Tecnologia"),T()()()(),C(63,"section",17)(64,"h2"),x(65,"O Que Nossos Alunos Dizem"),T(),C(66,"div",18)(67,"p"),x(68,'"Aprender ingl\xEAs jogando Fortnite foi uma experi\xEAncia incr\xEDvel! Melhorei minha comunica\xE7\xE3o e fiz amigos do mundo todo."'),T(),C(69,"cite"),x(70,"- Pedro, 17 anos"),T()(),C(71,"div",18)(72,"p"),x(73,'"Nunca pensei que aprender japon\xEAs poderia ser t\xE3o divertido. Animal Crossing se tornou minha sala de aula virtual!"'),T(),C(74,"cite"),x(75,"- Mariana, 22 anos"),T()()(),C(76,"section",19)(77,"h2"),x(78,"Entre em Contato"),T(),C(79,"p"),x(80,"Quer saber mais sobre como podemos ajudar voc\xEA a aprender um novo idioma atrav\xE9s dos jogos?"),T(),C(81,"button",20),x(82,"Fale Conosco"),T()()())},styles:[".about-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;color:#fff}.about-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.about-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1db954;font-size:2.5rem;margin-bottom:.5rem}.about-header[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.2rem;color:#b3b3b3}section[_ngcontent-%COMP%]{margin-bottom:4rem}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1db954;font-size:2rem;margin-bottom:1rem}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6}.steps[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:2rem}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:1 1 200px;text-align:center}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#1db954;margin-bottom:1rem}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#b3b3b3}.team-members[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;gap:2rem}.team-members[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{text-align:center}.team-members[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;margin-bottom:1rem}.team-members[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.3rem}.team-members[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#b3b3b3}.testimonials[_ngcontent-%COMP%]   .testimonial[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;padding:1.5rem;margin-bottom:1rem}.testimonials[_ngcontent-%COMP%]   .testimonial[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;margin-bottom:.5rem}.testimonials[_ngcontent-%COMP%]   .testimonial[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]{color:#1db954}.contact[_ngcontent-%COMP%]{text-align:center}.contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.contact[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]{background-color:#1db954;color:#121212;border:none;padding:.75rem 1.5rem;font-size:1rem;border-radius:25px;cursor:pointer;transition:background-color .3s ease}.contact[_ngcontent-%COMP%]   .contact-btn[_ngcontent-%COMP%]:hover{background-color:#1ed760}"]})}}return t})();var Gx=(()=>{class t{transform(n){return n?.seconds?new Date(n.seconds*1e3):new Date(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Os({name:"timestampToDate",type:t,pure:!0,standalone:!0})}}return t})();var lp=(()=>{class t{constructor(n){this.firestore=n}addReview(n){let r=xa(this.firestore,"reviews");return Lx(r,ce(j({},n),{createdAt:new Date})).then()}getGameReviews(n){let r=xa(this.firestore,"reviews"),i=jx(r,Bx("gameId","==",n));return cp(i,{idField:"id"}).pipe(Q(o=>o))}calculateAverageRating(n){return n.length?n.reduce((i,o)=>i+o.rating,0)/n.length:0}static{this.\u0275fac=function(r){return new(r||t)(z(ni))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var jz=()=>[1,2,3,4,5];function Bz(t,e){if(t&1&&(C(0,"div",4)(1,"h3"),x(2,"Avalia\xE7\xF5es dos Usu\xE1rios"),T(),C(3,"div",5)(4,"span",6),x(5),Ge(6,"number"),T(),C(7,"span",7),x(8),T()()()),t&2){let n=e.ngIf,r=Ne();F(5),kt(Do(6,2,r.calculateAverageRating(n),"1.1-1")),F(3),ut("de 5 (",n.length," avalia\xE7\xF5es)")}}function $z(t,e){if(t&1&&(C(0,"span"),x(1,"\u2B50"),T()),t&2){let n=e.$implicit,r=Ne().$implicit;Ti("active",n<=r.rating)}}function qz(t,e){if(t&1&&(C(0,"div",8)(1,"div",9)(2,"div",10),x(3),T(),C(4,"div",11),le(5,$z,2,2,"span",12),T(),C(6,"span",13),x(7),Ge(8,"timestampToDate"),Ge(9,"date"),T()(),C(10,"p",14),x(11),T()()),t&2){let n=e.$implicit;F(3),kt(n.userName),F(2),H("ngForOf",Fd(9,jz)),F(2),kt(Do(9,6,vt(8,4,n.createdAt),"dd/MM/yyyy")),F(4),kt(n.comment)}}var Kx=(()=>{class t{constructor(n){this.reviewService=n,this.gameId=_c.required()}ngOnInit(){this.reviews$=this.reviewService.getGameReviews(this.gameId())}calculateAverageRating(n){return this.reviewService.calculateAverageRating(n)}static{this.\u0275fac=function(r){return new(r||t)(L(lp))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-review-list"]],inputs:{gameId:[Qe.SignalBased,"gameId"]},standalone:!0,features:[be],decls:6,vars:6,consts:[[1,"reviews-container"],["class","reviews-summary",4,"ngIf"],[1,"reviews-list"],["class","review-item",4,"ngFor","ngForOf"],[1,"reviews-summary"],[1,"average-rating"],[1,"rating"],[1,"total"],[1,"review-item"],[1,"review-header"],[1,"user-name"],[1,"stars"],[3,"active",4,"ngFor","ngForOf"],[1,"review-date"],[1,"comment"]],template:function(r,i){r&1&&(C(0,"div",0),le(1,Bz,9,5,"div",1),Ge(2,"async"),C(3,"div",2),le(4,qz,12,10,"div",3),Ge(5,"async"),T()()),r&2&&(F(),H("ngIf",vt(2,2,i.reviews$)),F(3),H("ngForOf",vt(5,4,i.reviews$)))},dependencies:[Ye,tn,Lt,nn,Xd,uT,Gx],styles:[".reviews-container[_ngcontent-%COMP%]{padding:20px}.reviews-summary[_ngcontent-%COMP%]{margin-bottom:20px}.average-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.rating[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.total[_ngcontent-%COMP%]{font-size:16px;color:#666}.reviews-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.review-item[_ngcontent-%COMP%]{padding:15px;background:#1e1e1e;border-radius:8px}.review-header[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:10px;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:700;color:#fff}.stars[_ngcontent-%COMP%]{display:flex;gap:5px}.stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}.stars[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{opacity:1}.review-date[_ngcontent-%COMP%]{color:#666;font-size:14px}.comment[_ngcontent-%COMP%]{color:#fff;margin:0;line-height:1.4}"]})}}return t})();var Hz=()=>[1,2,3,4,5];function zz(t,e){if(t&1){let n=Ot();C(0,"span",15),de("click",function(){let i=He(n).$implicit,o=Ne(2);return ze(o.setRating(i))}),x(1," \u2B50 "),T()}if(t&2){let n,r=e.$implicit,i=Ne(2);Ti("active",r<=((n=i.reviewForm().get("rating"))==null?null:n.value))}}function Gz(t,e){t&1&&(C(0,"small",16),x(1," A avalia\xE7\xE3o \xE9 obrigat\xF3ria "),T())}function Wz(t,e){t&1&&(C(0,"small",16),x(1," A avalia\xE7\xE3o m\xEDnima \xE9 1 estrela "),T())}function Kz(t,e){t&1&&(C(0,"small",16),x(1," A avalia\xE7\xE3o m\xE1xima \xE9 5 estrelas "),T())}function Qz(t,e){t&1&&(C(0,"small",16),x(1," O coment\xE1rio \xE9 obrigat\xF3rio "),T())}function Yz(t,e){t&1&&(C(0,"small",16),x(1," O coment\xE1rio deve ter pelo menos 10 caracteres "),T())}function Jz(t,e){if(t&1){let n=Ot();C(0,"div",1),de("click",function(){He(n);let i=Ne();return ze(i.close())}),C(1,"div",2),de("click",function(i){return He(n),ze(i.stopPropagation())}),C(2,"div",3)(3,"h2"),x(4),T(),C(5,"button",4),de("click",function(){He(n);let i=Ne();return ze(i.close())}),x(6,"\xD7"),T()(),C(7,"form",5),de("ngSubmit",function(){He(n);let i=Ne();return ze(i.onSubmit())}),C(8,"div",6)(9,"div",7)(10,"label"),x(11,"Sua avalia\xE7\xE3o:"),T(),C(12,"div",8),le(13,zz,2,2,"span",9),T(),le(14,Gz,2,0,"small",10)(15,Wz,2,0,"small",10)(16,Kz,2,0,"small",10),T(),C(17,"textarea",11),x(18,"            "),T(),le(19,Qz,2,0,"small",10)(20,Yz,2,0,"small",10),T(),C(21,"div",12)(22,"button",13),de("click",function(){He(n);let i=Ne();return ze(i.close())}),x(23,"Cancelar"),T(),C(24,"button",14),x(25," Enviar Avalia\xE7\xE3o "),T()()()()()}if(t&2){let n,r,i,o,s,a=Ne();F(4),ut("Avaliar ",a.modalGameName(),""),F(3),H("formGroup",a.reviewForm()),F(6),H("ngForOf",Fd(9,Hz)),F(),H("ngIf",((n=a.reviewForm().get("rating"))==null||n.errors==null?null:n.errors.required)&&((n=a.reviewForm().get("rating"))==null?null:n.touched)),F(),H("ngIf",((r=a.reviewForm().get("rating"))==null||r.errors==null?null:r.errors.min)&&((r=a.reviewForm().get("rating"))==null?null:r.touched)),F(),H("ngIf",((i=a.reviewForm().get("rating"))==null||i.errors==null?null:i.errors.max)&&((i=a.reviewForm().get("rating"))==null?null:i.touched)),F(3),H("ngIf",((o=a.reviewForm().get("comment"))==null||o.errors==null?null:o.errors.required)&&((o=a.reviewForm().get("comment"))==null?null:o.touched)),F(),H("ngIf",((s=a.reviewForm().get("comment"))==null||s.errors==null?null:s.errors.minlength)&&((s=a.reviewForm().get("comment"))==null?null:s.touched)),F(4),H("disabled",a.reviewForm().invalid)}}var Qx=(()=>{class t{constructor(n,r,i){this.fb=n,this.reviewService=r,this.authService=i,this.isOpen=Di(!1),this.modalGameName=_c.required(),this.modalGameId=_c.required(),this.closeModal=new ct,this.rating=Di(0),this.reviewForm=Di(this.fb.group({rating:[0,[Fe.required,Fe.min(1),Fe.max(5)]],comment:["",[Fe.required,Fe.minLength(10)]]}))}setRating(n){this.rating.set(n),this.reviewForm().patchValue({rating:n})}close(){this.isOpen.set(!1)}onSubmit(){if(this.reviewForm().valid){let n=this.authService.getCurrentUser();if(!n){console.error("Usu\xE1rio n\xE3o est\xE1 logado");return}let r={userId:n.uid,userName:n.email||"An\xF4nimo",gameId:this.modalGameId(),rating:this.reviewForm().value.rating,comment:this.reviewForm().value.comment,createdAt:new Date};this.reviewService.addReview(r).then(()=>{this.close(),this.reviewForm().reset(),this.rating.set(0)}).catch(i=>console.error("Erro ao salvar review:",i))}}toggle(){this.isOpen.update(n=>!n)}static{this.\u0275fac=function(r){return new(r||t)(L(cr),L(lp),L(Sn))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-review-modal"]],inputs:{modalGameName:[Qe.SignalBased,"modalGameName"],modalGameId:[Qe.SignalBased,"modalGameId"]},outputs:{closeModal:"closeModal"},standalone:!0,features:[be],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-button",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-field"],[1,"rating-container"],[1,"stars"],[3,"active","click",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["formControlName","comment","placeholder","Compartilhe sua experi\xEAncia...","rows","4"],[1,"modal-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[3,"click"],[1,"error"]],template:function(r,i){r&1&&le(0,Jz,26,10,"div",0),r&2&&H("ngIf",i.isOpen())},dependencies:[Ye,tn,Lt,nA,ar,Dn,or,sr,ur,Tn,jn],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#1e1e1e;padding:20px;border-radius:8px;width:90%;max-width:500px;color:#fff}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.rating-container[_ngcontent-%COMP%]{margin-bottom:20px}.stars[_ngcontent-%COMP%]{display:flex;gap:5px;cursor:pointer;margin-top:10px}.stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5;transition:.3s}.stars[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{opacity:1}.form-field[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{width:100%;padding:10px;background:#2a2a2a;border:1px solid #404040;color:#fff;border-radius:4px}.error[_ngcontent-%COMP%]{color:#f44;font-size:12px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#1db954;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#404040;color:#fff}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})}}return t})();var Oa=(()=>{class t{constructor(n){this.firestoreService=n,this.path="games"}getGames(){return this.firestoreService.getCollection(this.path)}getGame(n){return this.firestoreService.getDocument(this.path,n)}createGame(n){let r=this.firestoreService.generateId(this.path);return new te(i=>{r.subscribe(o=>{this.firestoreService.createDocument(this.path,o,ce(j({},n),{id:o})).subscribe({next:()=>{i.next(),i.complete()},error:s=>i.error(s)})})})}updateGame(n,r){return this.firestoreService.updateDocument(this.path,n,r)}deleteGame(n){return this.firestoreService.deleteDocument(this.path,n)}static{this.\u0275fac=function(r){return new(r||t)(z(Pa))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xz(t,e){if(t&1&&(C(0,"section",6)(1,"div",7)(2,"h1"),x(3),T(),C(4,"p"),x(5),T(),C(6,"ul")(7,"li"),x(8,"Acesso premium aos servidores de aprendizado"),T(),C(9,"li"),x(10),T(),C(11,"li"),x(12,"Sess\xF5es semanais com instrutores nativos"),T()(),C(13,"div",8)(14,"span",9),x(15),Ge(16,"number"),T(),C(17,"span",10),x(18),Ge(19,"number"),T()(),C(20,"button",11),x(21,"Aproveitar Agora"),T()(),se(22,"img",12),T()),t&2){let n=e.ngIf;F(3),ut("Oferta Especial: ",n.name,""),F(2),Vs("Aprenda ",n.language.name," jogando ",n.name,"!"),F(5),ut("Tutoriais exclusivos de vocabul\xE1rio de ",n.genre,""),F(5),ut("R$ ",Do(16,8,100,"1.2-2"),""),F(3),ut("R$ ",Do(19,11,n.discountedPrice,"1.2-2"),""),F(4),H("src",n.img,bi)("alt",n.alt)}}function Zz(t,e){if(t&1){let n=Ot();C(0,"div",13),se(1,"img",14),C(2,"h3"),x(3),T(),C(4,"p"),x(5),T(),C(6,"div",15)(7,"span",8),x(8),Ge(9,"number"),T(),se(10,"app-review-list",16),C(11,"button",17),de("click",function(){He(n);let i=kd(14);return ze(i.toggle())}),x(12," Avaliar Jogo "),T(),se(13,"app-review-modal",18,0),T()()}if(t&2){let n=e.$implicit;F(),H("src",n.img,bi)("alt",n.alt),F(2),Vs("",n.name," + ",n.language.name,""),F(2),kt(n.description),F(3),ut("R$ ",Do(9,9,n.discountedPrice,"1.2-2"),""),F(2),H("gameId",n.id),F(3),H("modalGameId",n.id)("modalGameName",n.name)}}var Jx=(()=>{class t{constructor(n){this.gameService=n,this.currentOpenModalId=Di(null),this.isModalOpen=r=>this.currentOpenModalId()===r}ngOnInit(){let n=this.gameService.getGames();this.featuredPromo$=n.pipe(Q(r=>this.createPromoGame(r[0]))),this.otherPromos$=n.pipe(Q(r=>r.slice(1,5).map(i=>this.createPromoGame(i))))}createPromoGame(n){return ce(j({},n),{discountedPrice:this.calculateDiscountedPrice(n)})}calculateDiscountedPrice(n){return 100*.8}openReviewModal(n){this.currentOpenModalId.set(n)}closeReviewModal(){this.currentOpenModalId.set(null)}static{this.\u0275fac=function(r){return new(r||t)(L(Oa))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-promo"]],standalone:!0,features:[be],decls:9,vars:6,consts:[["modalReview",""],[1,"promo-page"],["class","main-promo",4,"ngIf"],[1,"secondary-promos"],[1,"promo-carousel"],["class","promo-item",4,"ngFor","ngForOf"],[1,"main-promo"],[1,"promo-content"],[1,"promo-price"],[1,"original-price"],[1,"discounted-price"],[1,"cta-button"],[1,"promo-image",3,"src","alt"],[1,"promo-item"],[3,"src","alt"],[1,"promo-details"],[3,"gameId"],[1,"review-button",3,"click"],[3,"modalGameId","modalGameName"]],template:function(r,i){r&1&&(C(0,"div",1),le(1,Xz,23,14,"section",2),Ge(2,"async"),C(3,"section",3)(4,"h2"),x(5,"Mais Ofertas de Jogos e Idiomas"),T(),C(6,"div",4),le(7,Zz,15,12,"div",5),Ge(8,"async"),T()()()),r&2&&(F(),H("ngIf",vt(2,2,i.featuredPromo$)),F(6),H("ngForOf",vt(8,4,i.otherPromos$)))},dependencies:[Ye,tn,Lt,nn,Xd,Kx,Qx],styles:['@charset "UTF-8";.promo-page[_ngcontent-%COMP%]{padding:2rem;background-color:#121212;color:#fff}.main-promo[_ngcontent-%COMP%]{display:flex;background-color:#1e1e1e;border-radius:15px;overflow:hidden;margin-bottom:3rem;box-shadow:0 10px 20px #0003}.promo-content[_ngcontent-%COMP%]{flex:1;padding:2rem}.promo-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1db954;margin-bottom:1rem;font-size:2.5rem}.promo-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.promo-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:1rem;list-style-type:none;padding-left:0}.promo-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding-left:1.5rem;position:relative}.promo-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";color:#1db954;position:absolute;left:0}.promo-content[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]{margin-bottom:1rem}.promo-content[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#b3b3b3;margin-right:1rem}.promo-content[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]   .discounted-price[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#1db954}.promo-content[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{background-color:#1db954;color:#121212;border:none;padding:1rem 2rem;font-size:1.2rem;border-radius:30px;cursor:pointer;transition:all .3s ease}.promo-content[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#1ed760;transform:translateY(-2px)}.promo-image[_ngcontent-%COMP%]{width:50%;object-fit:cover}.secondary-promos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1db954;margin-bottom:1.5rem}.promo-carousel[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:1.5rem;padding-bottom:1rem}.promo-carousel[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.promo-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e1e1e}.promo-carousel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#1db954;border-radius:20px}.promo-item[_ngcontent-%COMP%]{flex:0 0 250px;background-color:#1e1e1e;border-radius:10px;overflow:hidden;box-shadow:0 4px 6px #0000001a}.promo-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.promo-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:1rem 1rem .5rem;color:#fff}.promo-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem .5rem;font-size:.9rem;color:#b3b3b3}.promo-item[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]{display:block;padding:0 1rem 1rem;font-weight:700;color:#1db954}.language-flag[_ngcontent-%COMP%]{width:30px;height:20px;margin:1rem;overflow:hidden;border-radius:4px}.language-flag[_ngcontent-%COMP%]   .flag-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.review-button[_ngcontent-%COMP%]{padding:8px 16px;background:#1db954;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.review-button[_ngcontent-%COMP%]:hover{background:#1ed760}.promo-details[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;align-items:center;gap:1rem}.promo-details[_ngcontent-%COMP%]   .promo-price[_ngcontent-%COMP%]{font-size:1.2rem;padding:0}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]{width:100%}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container{padding:10px}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container .reviews-summary{margin-bottom:10px;text-align:center}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container .reviews-list{max-height:200px;overflow-y:auto;padding-right:5px}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container .reviews-list::-webkit-scrollbar{width:5px}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container .reviews-list::-webkit-scrollbar-track{background:#2a2a2a}.promo-details[_ngcontent-%COMP%]   app-review-list[_ngcontent-%COMP%]     .reviews-container .reviews-list::-webkit-scrollbar-thumb{background:#1db954;border-radius:3px}.promo-details[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{width:100%;margin-top:10px}']})}}return t})();function eG(t,e){if(t&1&&(C(0,"div",3)(1,"div",4),se(2,"img",5),T(),C(3,"div",6)(4,"h2"),x(5),T(),C(6,"p",7),x(7),T(),C(8,"p",8)(9,"span",9),x(10),T(),x(11),T(),C(12,"p",10),x(13),T()()()),t&2){let n=e.$implicit;F(2),H("src",n.img,bi)("alt",n.alt),F(3),kt(n.name),F(2),kt(n.genre),F(3),kt(n.language.flag),F(),ut(" ",n.language.name," "),F(2),kt(n.description)}}var Xx=(()=>{class t{constructor(n){this.accessibilityService=n,this.gameService=k(Oa)}ngOnInit(){this.loadGames()}onButtonClick(n){this.accessibilityService.speak(n)}loadGames(){this.games$=this.gameService.getGames()}static{this.\u0275fac=function(r){return new(r||t)(L(Xi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-Games"]],standalone:!0,features:[be],decls:6,vars:3,consts:[[1,"games-catalog"],[1,"game-list"],["class","game-card",4,"ngFor","ngForOf"],[1,"game-card"],[1,"game-image"],[3,"src","alt"],[1,"game-info"],[1,"game-genre"],[1,"game-language"],[1,"language-flag"],[1,"game-description"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h1"),x(2,"Cat\xE1logo de Jogos Multiplayer para Aprendizado de Idiomas"),T(),C(3,"div",1),le(4,eG,14,7,"div",2),Ge(5,"async"),T()()),r&2&&(F(4),H("ngForOf",vt(5,1,i.games$)))},dependencies:[Ye,tn,nn],styles:[".games-catalog[_ngcontent-%COMP%]{padding:2rem;background-color:#121212}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1db954;font-size:2rem;text-transform:uppercase;letter-spacing:2px}.game-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem}.game-card[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:15px;overflow:hidden;box-shadow:0 10px 20px #0003;transition:all .3s ease;display:flex;flex-direction:column;height:450px}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #1db9544d}.game-card[_ngcontent-%COMP%]   .game-image[_ngcontent-%COMP%]{height:200px;overflow:hidden}.game-card[_ngcontent-%COMP%]   .game-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover;transition:transform .3s ease}.game-card[_ngcontent-%COMP%]:hover   .game-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.game-card[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding:1.5rem;flex-grow:1;display:flex;flex-direction:column}.game-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#1db954;margin-bottom:.5rem}.game-card[_ngcontent-%COMP%]   .game-genre[_ngcontent-%COMP%]{font-size:.9rem;color:#b3b3b3;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:1px}.game-card[_ngcontent-%COMP%]   .game-language[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;margin-bottom:.5rem;display:flex;align-items:center}.game-card[_ngcontent-%COMP%]   .game-language[_ngcontent-%COMP%]   .language-flag[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}.game-card[_ngcontent-%COMP%]   .game-description[_ngcontent-%COMP%]{font-size:.9rem;color:#b3b3b3;line-height:1.4;flex-grow:1;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}"]})}}return t})();var tE=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(){return MM(this.auth).pipe(Ht(1),Q(n=>n?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(r){return new(r||t)(z(Kr),z(dt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-navbar"]],standalone:!0,features:[be],decls:8,vars:0,consts:[["routerLink","/admin/language-management","routerLinkActive","active"],["routerLink","/admin/games-management"]],template:function(r,i){r&1&&(C(0,"nav")(1,"ul")(2,"li")(3,"a",0),x(4,"Gerenciar Idiomas"),T()(),C(5,"li")(6,"a",1),x(7,"Gerenciar Jogos"),T()()()())},dependencies:[Js],styles:["nav[_ngcontent-%COMP%]{background-color:#1e1e1e;padding:1rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:color .3s;cursor:pointer}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1db954}"]})}}return t})();var eP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-admin"]],standalone:!0,features:[be],decls:5,vars:0,consts:[[1,"admin-container"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h1"),x(2,"Painel de Administra\xE7\xE3o"),T(),se(3,"app-navbar")(4,"router-outlet"),T())},dependencies:[Zx,Ro]})}}return t})();function tG(t,e){if(t&1&&(C(0,"option",13),x(1),T()),t&2){let n=e.$implicit;H("value",n.id),F(),ut(" ",n.name," ")}}function nG(t,e){if(t&1){let n=Ot();C(0,"button",14),de("click",function(){He(n);let i=Ne();return ze(i.resetForm())}),x(1,"Cancelar"),T()}}function rG(t,e){if(t&1){let n=Ot();C(0,"li"),x(1),C(2,"button",15),de("click",function(){let i=He(n).$implicit,o=Ne();return ze(o.editGame(i))}),x(3,"Editar"),T(),C(4,"button",15),de("click",function(){let i=He(n).$implicit,o=Ne();return ze(o.deleteGame(i.id))}),x(5,"Excluir"),T()()}if(t&2){let n=e.$implicit;F(),Vs(" ",n.name," - ",n.genre," ")}}var tP=(()=>{class t{constructor(n,r,i){this.gameService=n,this.languageService=r,this.fb=i,this.editMode=!1,this.currentGameId=null,this.gameForm=this.fb.group({name:["",Fe.required],genre:["",Fe.required],img:["",Fe.required],alt:["",Fe.required],description:["",Fe.required],languageId:[""]})}ngOnInit(){this.loadGames(),this.loadLanguages()}loadGames(){this.games$=this.gameService.getGames()}loadLanguages(){this.languages$=this.languageService.getLanguages()}addGame(){if(this.gameForm.valid){let n=this.gameForm.value;this.gameService.createGame(n).subscribe(()=>{this.loadGames(),this.gameForm.reset()})}}updateGame(){if(this.gameForm.valid&&this.currentGameId){let n=this.gameForm.value;this.gameService.updateGame(this.currentGameId,n).subscribe(()=>{this.loadGames(),this.resetForm()})}}deleteGame(n){this.gameService.deleteGame(n).subscribe(()=>{this.loadGames()})}editGame(n){this.editMode=!0,this.currentGameId=n.id,this.gameForm.patchValue(ce(j({},n),{languageId:n.language.id}))}resetForm(){this.editMode=!1,this.currentGameId=null,this.gameForm.reset()}onSubmit(){this.editMode?this.updateGame():this.addGame()}static{this.\u0275fac=function(r){return new(r||t)(L(Oa),L(Na),L(cr))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-game-management"]],standalone:!0,features:[be],decls:20,vars:10,consts:[[1,"game-management"],[3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Nome do Jogo","required",""],["type","text","formControlName","genre","placeholder","G\xEAnero","required",""],["type","text","formControlName","img","placeholder","URL da Imagem","required",""],["type","text","formControlName","alt","placeholder","Texto Alternativo","required",""],["formControlName","description","placeholder","Descri\xE7\xE3o","required",""],["formControlName","languageId","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],["type","button",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],["type","button",3,"click"],[3,"click"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h1"),x(2,"Gerenciar Jogos"),T(),C(3,"form",1),de("ngSubmit",function(){return i.onSubmit()}),se(4,"input",2)(5,"input",3)(6,"input",4)(7,"input",5)(8,"textarea",6),C(9,"select",7)(10,"option",8),x(11,"Selecione um idioma"),T(),le(12,tG,2,2,"option",9),Ge(13,"async"),T(),C(14,"button",10),x(15),T(),le(16,nG,2,0,"button",11),T(),C(17,"ul"),le(18,rG,6,2,"li",12),Ge(19,"async"),T()()),r&2&&(F(3),H("formGroup",i.gameForm),F(9),H("ngForOf",vt(13,6,i.languages$)),F(2),H("disabled",i.gameForm.invalid),F(),ut("",i.editMode?"Atualizar":"Adicionar"," Jogo"),F(),H("ngIf",i.editMode),F(2),H("ngForOf",vt(19,8,i.games$)))},dependencies:[ur,ar,XS,eA,Dn,Bh,or,sr,jr,Tn,jn,Ye,tn,Lt,nn],styles:[".game-management[_ngcontent-%COMP%]{padding:2rem}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1db954}form[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px #0000001a}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:1px solid #333;background-color:#2a2a2a;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}button[_ngcontent-%COMP%]{background-color:#1db954;color:#fff;border:none;padding:.5rem 1rem;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#1ed760}button[_ngcontent-%COMP%]:disabled{background-color:#333;cursor:not-allowed}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;padding:1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}li[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.game-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.edit-btn[_ngcontent-%COMP%]{background-color:#1db954}.delete-btn[_ngcontent-%COMP%]{background-color:#e74c3c}"]})}}return t})();function iG(t,e){if(t&1){let n=Ot();C(0,"div"),se(1,"input",11),C(2,"button",8),de("click",function(){let i=He(n).index,o=Ne();return ze(o.removeCuriosity(i))}),x(3,"Remover"),T()()}if(t&2){let n=e.index;F(),ty("placeholder","Curiosidade ",n+1,""),H("formControlName",n)}}function oG(t,e){if(t&1){let n=Ot();C(0,"button",8),de("click",function(){He(n);let i=Ne();return ze(i.resetForm())}),x(1,"Cancelar"),T()}}function sG(t,e){if(t&1){let n=Ot();C(0,"li"),x(1),C(2,"button",12),de("click",function(){let i=He(n).$implicit,o=Ne();return ze(o.editLanguage(i))}),x(3,"Editar"),T(),C(4,"button",12),de("click",function(){let i=He(n).$implicit,o=Ne();return ze(o.deleteLanguage(i.id))}),x(5,"Excluir"),T()()}if(t&2){let n=e.$implicit;F(),ut(" ",n.name," ")}}var nP=(()=>{class t{constructor(n,r){this.languageService=n,this.fb=r,this.editMode=!1,this.currentLanguageId=null,this.languageForm=this.fb.group({name:["",Fe.required],flag:["",Fe.required],culturalCuriosities:this.fb.array([]),games:this.fb.array([])})}ngOnInit(){this.loadLanguages()}get culturalCuriosities(){return this.languageForm.get("culturalCuriosities")}addCuriosity(){this.culturalCuriosities.push(this.fb.control(""))}removeCuriosity(n){this.culturalCuriosities.removeAt(n)}loadLanguages(){this.languages$=this.languageService.getLanguages()}addLanguage(){if(this.languageForm.valid){let n=ce(j({},this.languageForm.value),{games:[]});this.languageService.createLanguage(n).subscribe(()=>{this.loadLanguages(),this.resetForm()})}}updateLanguage(){if(this.languageForm.valid&&this.currentLanguageId){let n=this.languageForm.value;this.languageService.updateLanguage(this.currentLanguageId,n).subscribe(()=>{this.loadLanguages(),this.resetForm()})}}deleteLanguage(n){this.languageService.deleteLanguage(n).subscribe(()=>{this.loadLanguages()})}editLanguage(n){this.editMode=!0,this.currentLanguageId=n.id,this.languageForm.patchValue({name:n.name,flag:n.flag}),this.culturalCuriosities.clear(),n.culturalCuriosities.forEach(r=>{this.culturalCuriosities.push(this.fb.control(r))})}resetForm(){this.editMode=!1,this.currentLanguageId=null,this.languageForm.reset(),this.culturalCuriosities.clear()}onSubmit(){this.editMode?this.updateLanguage():this.addLanguage()}static{this.\u0275fac=function(r){return new(r||t)(L(Na),L(cr))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-language-management"]],standalone:!0,features:[be],decls:24,vars:8,consts:[[1,"language-management"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Nome do Idioma","required",""],["for","flag"],["id","flag","type","text","formControlName","flag","placeholder","URL da Bandeira","required",""],["formArrayName","culturalCuriosities"],[4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit",3,"disabled"],["type","button",3,"click",4,"ngIf"],[3,"formControlName","placeholder"],[3,"click"]],template:function(r,i){r&1&&(C(0,"div",0)(1,"h1"),x(2,"Gerenciar Idiomas"),T(),C(3,"form",1),de("ngSubmit",function(){return i.onSubmit()}),C(4,"div")(5,"label",2),x(6,"Nome do Idioma"),T(),se(7,"input",3),T(),C(8,"div")(9,"label",4),x(10,"URL da Bandeira"),T(),se(11,"input",5),T(),C(12,"div",6)(13,"h3"),x(14,"Curiosidades Culturais"),T(),le(15,iG,4,3,"div",7),C(16,"button",8),de("click",function(){return i.addCuriosity()}),x(17,"Adicionar Curiosidade"),T()(),C(18,"button",9),x(19),T(),le(20,oG,2,0,"button",10),T(),C(21,"ul"),le(22,sG,6,1,"li",7),Ge(23,"async"),T()()),r&2&&(F(3),H("formGroup",i.languageForm),F(12),H("ngForOf",i.culturalCuriosities.controls),F(3),H("disabled",i.languageForm.invalid),F(),ut("",i.editMode?"Atualizar":"Adicionar"," Idioma"),F(),H("ngIf",i.editMode),F(2),H("ngForOf",vt(23,6,i.languages$)))},dependencies:[ur,ar,Dn,or,sr,jr,Tn,jn,jh,Ye,tn,Lt,nn],styles:[".language-management[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#1db954}form[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#fff}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #333;background-color:#2a2a2a;color:#fff;border-radius:5px;margin-bottom:1rem}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.curiosities-container[_ngcontent-%COMP%]{margin-top:1rem}.curiosity-item[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.curiosity-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1}button[_ngcontent-%COMP%]{background-color:#1db954;color:#fff;border:none;padding:.5rem 1rem;margin-bottom:1rem;margin-right:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#1ed760}button[_ngcontent-%COMP%]:disabled{background-color:#333;cursor:not-allowed}.button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:10px;padding:1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}li[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.language-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.language-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.edit-btn[_ngcontent-%COMP%]{background-color:#1db954}.delete-btn[_ngcontent-%COMP%]{background-color:#e74c3c}.cancel-btn[_ngcontent-%COMP%]{background-color:#7f8c8d}"]})}}return t})();var rP=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(){return this.authService.user$.pipe(Ht(1),st(n=>n?this.authService.isAdmin$:(this.router.navigate(["/login"]),Z(!1))),Q(n=>n?!0:(this.router.navigate(["/index/games"]),!1)))}static{this.\u0275fac=function(r){return new(r||t)(z(Sn),z(dt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var iP=[{path:"",component:eE},{path:"admin",component:eP,canActivate:[tE,rP],children:[{path:"",redirectTo:"games-management",pathMatch:"full"},{path:"games-management",component:tP},{path:"language-management",component:nP}]},{path:"index",component:eE,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:yf},{path:"register",component:O_},{path:"about",component:zx},{path:"promo",component:Jx,canActivate:[tE]},{path:"language",component:Hx},{path:"games",component:Xx}]},{path:"login",component:yf},{path:"register",component:O_},{path:"**",component:yf}];var lP="firebasestorage.googleapis.com",aG="storageBucket",cG=2*60*1e3,uG=10*60*1e3;var Ir=class t extends Qt{constructor(e,n,r=0){super(nE(e),`Firebase Storage: ${n} (${nE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ii=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ii||{});function nE(t){return"storage/"+t}function lG(){let t="An unknown error occurred, please check the error payload for server response.";return new Ir(ii.UNKNOWN,t)}function dG(){return new Ir(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hG(){return new Ir(ii.CANCELED,"User canceled the upload/download.")}function fG(t){return new Ir(ii.INVALID_URL,"Invalid URL '"+t+"'.")}function pG(t){return new Ir(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oP(t){return new Ir(ii.INVALID_ARGUMENT,t)}function dP(){return new Ir(ii.APP_DELETED,"The Firebase app was deleted.")}function mG(t){return new Ir(ii.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ri=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw pG(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(X){X.path_=decodeURIComponent(X.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),A={bucket:1,path:3},N=n===lP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",V=new RegExp(`^https?://${N}/${i}/${R}`,"i"),$=[{regex:a,indices:u,postModify:o},{regex:v,indices:A,postModify:l},{regex:V,indices:{bucket:1,path:2},postModify:l}];for(let X=0;X<$.length;X++){let Se=$[X],ne=Se.regex.exec(e);if(ne){let b=ne[Se.indices.bucket],y=ne[Se.indices.path];y||(y=""),r=new t(b,y),Se.postModify(r);break}}if(r==null)throw fG(e);return r}},rE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function gG(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...R){l||(l=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(v,u())},R)}function g(){o&&clearTimeout(o)}function v(R,...V){if(l){g();return}if(R){g(),h.call(null,R,...V);return}if(u()||s){g(),h.call(null,R,...V);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,p($)}let A=!1;function N(R){A||(A=!0,g(),!l&&(i!==null?(R||(a=2),clearTimeout(i),p(0)):R||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,N(!0)},n),N}function yG(t){t(!1)}function vG(t){return t!==void 0}function sP(t,e,n,r){if(r<e)throw oP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oP(`Invalid value for '${t}'. Expected ${n} or less.`)}function _G(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var iE=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(iE||{});function wG(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var oE=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ka(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===iE.NO_ERROR,u=o.getStatus();if(!a||wG(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===iE.ABORT;r(!1,new ka(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ka(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());vG(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=lG();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?dP():hG();s(u)}else{let u=dG();s(u)}};this.canceled_?n(!1,new ka(!1,null,!0)):this.backoffId_=gG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ka=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function IG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DG(t,e,n,r,i,o,s=!0){let a=_G(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return bG(l,e),IG(l,n),EG(l,o),CG(l,r),new oE(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function TG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SG(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var ote=256*1024;var sE=class t{constructor(e,n){this._service=e,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SG(this._location.path)}get storage(){return this._service}get parent(){let e=TG(this._location.path);if(e===null)return null;let n=new ri(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mG(e)}};function aP(t,e){let n=e?.[aG];return n==null?null:ri.makeFromBucketSpec(n,t)}function AG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:zh(i,t.app.options.projectId))}var aE=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=lP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cG,this._maxUploadRetryTime=uG,this._requests=new Set,i!=null?this._bucket=ri.makeFromBucketSpec(i,this._host):this._bucket=aP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=aP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sE(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new rE(dP());{let s=DG(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},cP="@firebase/storage",uP="0.13.1";var hP="storage";function fP(t=Vi(),e){t=ht(t);let r=Oo(t,hP).getImmediate({identifier:e}),i=Hh("storage");return i&&pP(r,...i),r}function pP(t,e,n,r={}){AG(t,e,n,r)}function MG(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new aE(n,r,i,e,hr)}function RG(){dr(new rn(hP,MG,"PUBLIC").setMultipleInstances(!0)),We(cP,uP,""),We(cP,uP,"esm2017")}RG();var qu=class{constructor(e){return e}},mP="storage",cE=class{constructor(){return Fo(mP)}};var uE=new W("angularfire2.storage-instances");function xG(t,e){let n=ia(mP,t,e);return n&&new qu(n)}function PG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qu(r)}}var NG={provide:cE,deps:[[new rt,uE]]},OG={provide:qu,useFactory:xG,deps:[[new rt,uE],$n]};function gP(t,...e){return We("angularfire",qr.full,"gcs"),Xt([OG,NG,{provide:uE,useFactory:PG(t),multi:!0,deps:[Ie,Tt,ji,Hr,[new rt,Bo],[new rt,Ui],...e]}])}var yP=et(fP,!0);var vP={providers:[yS(iP),_T(),AA(()=>MA(MT.firebaseConfig)),AM(()=>PM()),kx(()=>Ux()),gP(()=>yP())]};var _P=(()=>{class t{constructor(){this.firestoreService=k(Pa)}insertMockData(){let n=[{name:"Ingl\xEAs",flag:"\u{1F1FA}\u{1F1F8}",culturalCuriosities:["O ingl\xEAs \xE9 a l\xEDngua mais falada no mundo dos neg\xF3cios","Hollywood \xE9 o centro da ind\xFAstria cinematogr\xE1fica global"],games:[]},{name:"Japon\xEAs",flag:"\u{1F1EF}\u{1F1F5}",culturalCuriosities:["O Jap\xE3o \xE9 conhecido pela sua cultura de respeito e honra","A culin\xE1ria japonesa \xE9 considerada Patrim\xF4nio Cultural Imaterial pela UNESCO"],games:[]},{name:"Polon\xEAs",flag:"\u{1F1F5}\u{1F1F1}",culturalCuriosities:["A Pol\xF4nia tem uma rica hist\xF3ria de resist\xEAncia e resili\xEAncia","O pierogi \xE9 um dos pratos mais famosos da culin\xE1ria polonesa"],games:[]}],r=[{id:"",img:"https://exemplo.com/gta5.jpg",alt:"Imagem de Grand Theft Auto V",name:"Grand Theft Auto V",genre:"A\xE7\xE3o-Aventura",description:"Um jogo de mundo aberto ambientado na fict\xEDcia Los Santos",language:{}},{id:"",img:"https://exemplo.com/zelda.jpg",alt:"Imagem de The Legend of Zelda: Breath of the Wild",name:"The Legend of Zelda: Breath of the Wild",genre:"A\xE7\xE3o-Aventura",description:"Uma aventura \xE9pica no vasto reino de Hyrule",language:{}},{id:"",img:"https://exemplo.com/witcher3.jpg",alt:"Imagem de The Witcher 3: Wild Hunt",name:"The Witcher 3: Wild Hunt",genre:"RPG de A\xE7\xE3o",description:"Uma jornada \xE9pica em um mundo de fantasia sombria",language:{}}],i=n.map(o=>this.firestoreService.generateId("languages").pipe(st(s=>(o.id=s,this.firestoreService.createDocument("languages",s,o)))));ys(i).subscribe(()=>{console.log("Idiomas inseridos com sucesso"),this.firestoreService.getCollection("languages").subscribe(o=>{r[0].language=o.find(a=>a.name==="Ingl\xEAs"),r[1].language=o.find(a=>a.name==="Japon\xEAs"),r[2].language=o.find(a=>a.name==="Polon\xEAs");let s=r.map(a=>this.firestoreService.generateId("games").pipe(st(u=>(a.id=u,this.firestoreService.createDocument("games",u,a)))));ys(s).subscribe(()=>console.log("Jogos inseridos com sucesso"),a=>console.error("Erro ao inserir jogos:",a))},o=>console.error("Erro ao obter idiomas:",o))},o=>console.error("Erro ao inserir idiomas:",o))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kG(t,e){if(t&1){let n=Ot();C(0,"li")(1,"a",12),de("click",function(){He(n);let i=Ne();return ze(i.speach("Administra\xE7\xE3o"))}),se(2,"i",13),x(3," Admin "),T()()}}function FG(t,e){if(t&1){let n=Ot();Zg(0),C(1,"button",14),de("click",function(){He(n);let i=Ne();return ze(i.logout())}),se(2,"i",15),x(3," Sair "),T(),ey()}}function LG(t,e){t&1&&(C(0,"a",16),se(1,"i",17),x(2," Entrar "),T(),C(3,"a",18),se(4,"i",19),x(5," Registrar "),T())}var wP=(()=>{class t{constructor(n,r){this.authService=n,this.accessibilityService=r,this.isLoggedIn$=this.authService.isLoggedIn$,this.isAdmin$=this.authService.isAdmin$}ngOnInit(){this.isLoggedIn$=this.authService.user$.pipe(Q(n=>!!n))}speach(n){this.accessibilityService.speak(n)}logout(){this.authService.logout()}static{this.\u0275fac=function(r){return new(r||t)(L(Sn),L(Xi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-header"]],standalone:!0,features:[be],decls:26,vars:7,consts:[["loginRegister",""],["rel","stylesheet","href",YC`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css`],[1,"logo"],["routerLink","/"],[1,"nav-links"],["routerLink","/index/games","routerLinkActive","active",3,"click"],["routerLink","/index/promo","routerLinkActive","active",3,"click"],["routerLink","/index/language","routerLinkActive","active",3,"click"],["routerLink","/index/about","routerLinkActive","active",3,"click"],[4,"ngIf"],[1,"auth-actions"],[4,"ngIf","ngIfElse"],["routerLink","/admin","routerLinkActive","active",3,"click"],[1,"fas","fa-cog"],[1,"logout-btn",3,"click"],[1,"fas","fa-sign-out-alt"],["routerLink","/login",1,"login-btn"],[1,"fas","fa-sign-in-alt"],["routerLink","/register",1,"register-btn"],[1,"fas","fa-user-plus"]],template:function(r,i){if(r&1){let o=Ot();C(0,"header"),se(1,"link",1),C(2,"nav")(3,"div",2)(4,"a",3),x(5,"Arcadius Language"),T()(),C(6,"ul",4)(7,"li")(8,"a",5),de("click",function(){return He(o),ze(i.speach("Jogos"))}),x(9,"Jogos"),T()(),C(10,"li")(11,"a",6),de("click",function(){return He(o),ze(i.speach("Promo\xE7\xF5es"))}),x(12,"Promo\xE7\xF5es"),T()(),C(13,"li")(14,"a",7),de("click",function(){return He(o),ze(i.speach("Idiomas"))}),x(15,"Idiomas"),T()(),C(16,"li")(17,"a",8),de("click",function(){return He(o),ze(i.speach("Sobre"))}),x(18,"Sobre"),T()(),le(19,kG,4,0,"li",9),Ge(20,"async"),T(),C(21,"div",10),le(22,FG,4,0,"ng-container",11),Ge(23,"async"),le(24,LG,6,0,"ng-template",null,0,BD),T()()()}if(r&2){let o=kd(25);F(19),H("ngIf",vt(20,3,i.isAdmin$)),F(3),H("ngIf",vt(23,5,i.isLoggedIn$))("ngIfElse",o)}},dependencies:[Ye,Lt,nn,Th,Js,mS],styles:["header[_ngcontent-%COMP%]{background-color:#121212;padding:1rem 0;box-shadow:0 2px 10px #0000004d}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:0 1rem}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff;text-decoration:none;text-transform:uppercase;letter-spacing:2px}.nav-links[_ngcontent-%COMP%]{display:flex;list-style-type:none;margin:0;padding:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:1.5rem}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b3b3b3;text-decoration:none;padding:.5rem;font-size:1rem;transition:color .3s ease}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#1db954}.auth-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.auth-actions[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%], .auth-actions[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%], .auth-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-left:.5rem;border:none;border-radius:25px;cursor:pointer;text-decoration:none;font-size:.9rem;transition:all .3s ease}.auth-actions[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .auth-actions[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .auth-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.auth-actions[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{background-color:#1db954;color:#121212}.auth-actions[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{background-color:#1ed760}.auth-actions[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{background-color:transparent;color:#1db954;border:1px solid #1db954}.auth-actions[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{background-color:#1db954;color:#121212}.auth-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{background-color:#b3b3b3;color:#121212}.auth-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#fff}"]})}}return t})();var IP=(()=>{class t{constructor(n){this.accessibilityService=n,this.isSpeechEnabled=!0}toggleSpeech(){this.isSpeechEnabled=!this.isSpeechEnabled,this.accessibilityService.toggleSpeech(this.isSpeechEnabled)}static{this.\u0275fac=function(r){return new(r||t)(L(Xi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-speech-toggle"]],standalone:!0,features:[be],decls:3,vars:1,consts:[["type","checkbox",3,"change","checked"]],template:function(r,i){r&1&&(C(0,"label")(1,"input",0),de("change",function(){return i.toggleSpeech()}),T(),x(2,` Ativar Descri\xE7\xE3o Falada
`),T()),r&2&&(F(),H("checked",i.isSpeechEnabled))},dependencies:[Ye]})}}return t})();var EP=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.mock=k(_P)}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||t)(L(Sn),L(dt))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-root"]],standalone:!0,features:[be],decls:3,vars:0,template:function(r,i){r&1&&se(0,"app-header")(1,"app-speech-toggle")(2,"router-outlet")},dependencies:[Ro,wP,IP],styles:["body[_ngcontent-%COMP%]{background-color:#181818;color:#fff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#1db954}a[_ngcontent-%COMP%]{color:#1db954;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#1ed760}button[_ngcontent-%COMP%]{background-color:#1db954;color:#121212;border:none;border-radius:25px;padding:.5rem 1rem;font-size:1rem;cursor:pointer;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#1ed760}label[_ngcontent-%COMP%]{font-size:1rem;color:#fff}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#282828;color:#fff;border:1px solid #404040;border-radius:4px;padding:.5rem;font-size:1rem}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}"]})}}return t})();ST(EP,vP).catch(t=>console.error(t));
